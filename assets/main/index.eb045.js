window.__require=function e(t,i,a){function n(s,r){if(!i[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var h="function"==typeof __require&&__require;if(!r&&h)return h(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return n(t[s][1][e]||e)},c,c.exports,e,t,i,a)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<a.length;s++)n(a[s]);return n}({AEManager:[function(e,t,i){"use strict";cc._RF.push(t,"68708KMXNVGp5T3yjokylhb","AEManager");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.aeManager=void 0;const n=e("../Component/EffectComponent"),o=e("./LoadAssetsManager"),{ccclass:s,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.prefabs=[],this.prefabList=new Map,this.effectList=new Map,this.effectPool=new Map}onLoad(){i.aeManager=this}onDestroy(){i.aeManager=null}initialize(e){this.prefabs=e;for(const t in this.prefabs)o.loadAssetsManager.loadBundleAssetPromise("Bundle",this.prefabs[t],cc.Prefab,null).then(e=>{this.prefabList.set(this.prefabs[t],e)})}playEffect(e,t){let i=this.node.convertToNodeSpaceAR(e),a=this.effectPool.get(t);a||(a=[]);let s=this.effectList.get(t);s||(s=[]);let r=null==a?void 0:a.shift();if(!r){let i="";for(const e in this.prefabs)if(this.prefabs[e].indexOf(t)>=0){i=this.prefabs[e];break}let a=this.prefabList.get(i);if(!a)return void o.loadAssetsManager.loadBundleAssetPromise("Bundle",i,cc.Prefab,null).then(a=>{this.prefabList.set(i,a),this.playEffect(e,t)});let s=cc.instantiate(a);s.setParent(this.node),r=s.getComponent(n.default)}r.node.setPosition(i),r.node.active=!0,r.play(()=>{r.node.active=!1,s.splice(s.indexOf(r),1),this.effectList.set(t,s),null==a||a.push(r),this.effectPool.set(t,a)}),null==s||s.push(r)}};l=a([s],l),i.default=l,i.aeManager=null,cc._RF.pop()},{"../Component/EffectComponent":"EffectComponent","./LoadAssetsManager":"LoadAssetsManager"}],ASCAd:[function(e,t,i){"use strict";cc._RF.push(t,"f9d8e9TugBKNrkg0roaqJO5","ASCAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("./ad/AdCenter"),n=e("./SdkConfig"),o=e("./server/ServerCenter");class s{constructor(){this.hasInit=!1}static getInstance(){return s.instance||(s.instance=new s),s.instance}setChannelId(e){console.log("XminigameSDK","setChannelId",e),n.sdkConfig.channelId=e}initAd(){console.log("XminigameSDK","initAd"),this.hasInit||o.default.getInstance().initAd()}getChannelId(){let e=a.default.getInstance().getChannelId();return console.log("XminigameSDK","getChannelId:"+e),e}showBanner(){console.log("XminigameSDK","showBanner"),a.default.getInstance().showBanner()}hideBanner(){console.log("XminigameSDK","hideBanner"),a.default.getInstance().hideBanner()}getIntersFlag(){let e=a.default.getInstance().getIntersFlag();return console.log("XminigameSDK","getIntersFlag:"+e),e}showInters(e){console.log("XminigameSDK","showInters"),a.default.getInstance().showInters(e)}getVideoFlag(){let e=a.default.getInstance().getVideoFlag();return console.log("XminigameSDK","getVideoFlag:"+e),e}showVideo(e,t){console.log("XminigameSDK","showVideo"),a.default.getInstance().showVideo(e,t)}getNativeIconFlag(){let e=a.default.getInstance().getNativeIconFlag();return console.log("XminigameSDK","getNativeIconFlag:"+e),e}showNativeIcon(e,t,i,n){console.log("XminigameSDK","showNativeIcon"),a.default.getInstance().showNativeIcon(e,t,i,n)}hideNativeIcon(){console.log("XminigameSDK","hideNativeIcon"),a.default.getInstance().hideNativeIcon()}getNativeImageFlag(){let e=a.default.getInstance().getNativeImageFlag();return console.log("XminigameSDK","getNativeImageFlag:"+e),e}showNativeImage(e,t,i,n){console.log("XminigameSDK","showNativeImage"),a.default.getInstance().showNativeImage(e,t,i,n)}hideNativeImage(){console.log("XminigameSDK","hideNativeImage"),a.default.getInstance().hideNativeImage()}getNativePasterFlag(){let e=a.default.getInstance().getNativePasterFlag();return console.log("XminigameSDK","getNativePasterFlag:"+e),e}showNativePaster(){console.log("XminigameSDK","showNativePaster"),a.default.getInstance().showNativePaster()}getNativeAdInfo(e){let t=a.default.getInstance().getNativeAdInfo(e);return console.log("XminigameSDK","getNativeAdInfo:"+JSON.stringify(t)),t}reportNativeAdShow(e){console.log("XminigameSDK","reportNativeAdShow"),a.default.getInstance().reportNativeAdShow(e)}reportNativeAdClick(e){console.log("XminigameSDK","reportNativeAdClick"),a.default.getInstance().reportNativeAdClick(e)}getNavigateIconFlag(){let e=a.default.getInstance().getNavigateIconFlag();return console.log("XminigameSDK","getNavigateIconFlag:"+e),e}showNavigateIcon(e,t,i,n){console.log("XminigameSDK","showNavigateIcon"),a.default.getInstance().showNavigateIcon(e,t,i,n)}hideNavigateIcon(){console.log("XminigameSDK","hideNavigateIcon"),a.default.getInstance().hideNavigateIcon()}getNavigateGroupFlag(){let e=a.default.getInstance().getNavigateGroupFlag();return console.log("XminigameSDK","getNavigateGroupFlag:"+e),e}showNavigateGroup(e,t,i,n){console.log("XminigameSDK","showNavigateGroup"),a.default.getInstance().showNavigateGroup(e,t,i,n)}hideNavigateGroup(){console.log("XminigameSDK","hideNavigateGroup"),a.default.getInstance().hideNavigateGroup()}getNavigateSettleFlag(){let e=a.default.getInstance().getNavigateSettleFlag();return console.log("XminigameSDK","getNavigateSettleFlag:"+e),e}showNavigateSettle(e,t,i){console.log("XminigameSDK","showNavigateSettle"),a.default.getInstance().showNavigateSettle(e,t,i)}hideNavigateSettle(){console.log("XminigameSDK","hideNavigateSettle"),a.default.getInstance().hideNavigateSettle()}getNavigateBoxBannerFlag(){let e=a.default.getInstance().getNavigateBoxBannerFlag();return console.log("XminigameSDK","getNavigateBoxBannerFlag:"+e),e}showNavigateBoxBanner(){console.log("XminigameSDK","showNavigateBoxBanner"),a.default.getInstance().showNavigateBoxBanner()}hideNavigateBoxBanner(){console.log("XminigameSDK","hideNavigateBoxBanner"),a.default.getInstance().hideNavigateBoxBanner()}getNavigateBoxPortalFlag(){let e=a.default.getInstance().getNavigateBoxPortalFlag();return console.log("XminigameSDK","getNavigateBoxPortalFlag:"+e),e}showNavigateBoxPortal(){console.log("XminigameSDK","showNavigateBoxPortal"),a.default.getInstance().showNavigateBoxPortal()}setGroup(e){console.log("XminigameSDK","setGroup",e),a.default.getInstance().setGroup(e)}hasAddDesktopFunc(){let e=a.default.getInstance().hasAddDesktopFunc();return console.log("XminigameSDK","hasAddDesktopFunc:"+e),e}getAddDesktopFlag(e){return console.log("XminigameSDK","getAddDesktopFlag"),a.default.getInstance().getAddDesktopFlag(e)}addDesktop(e){console.log("XminigameSDK","addDesktop"),a.default.getInstance().addDesktop(e)}phoneVibrate(e){console.log("XminigameSDK","phoneVibrate",e),a.default.getInstance().phoneVibrate(e)}startGameVideo(e){console.log("XminigameSDK","startGameVideo",e),a.default.getInstance().startGameVideo(e)}pauseGameVideo(){console.log("XminigameSDK","pauseGameVideo"),a.default.getInstance().pauseGameVideo()}resumeGameVideo(){console.log("XminigameSDK","resumeGameVideo"),a.default.getInstance().resumeGameVideo()}stopGameVideo(e){console.log("XminigameSDK","stopGameVideo"),a.default.getInstance().stopGameVideo(e)}shareVideo(e,t,i,n,o){console.log("XminigameSDK","shareVideo"),a.default.getInstance().shareVideo(e,t,i,n,o)}jumpToMoreGamesCenter(){console.log("XminigameSDK","jumpToMoreGamesCenter"),a.default.getInstance().jumpToMoreGamesCenter()}showMoreGamesBanner(){console.log("XminigameSDK","showMoreGamesBanner"),a.default.getInstance().showMoreGamesBanner()}hideMoreGamesBanner(){console.log("XminigameSDK","hideMoreGamesBanner"),a.default.getInstance().hideMoreGamesBanner()}showFavoriteGuide(e,t,i){console.log("XminigameSDK","showFavoriteGuide"),a.default.getInstance().showFavoriteGuide(e,t,i)}getUserData(e){console.log("XminigameSDK","getUserData"),a.default.getInstance().getUserData(e)}getUserInfo(e){console.log("XminigameSDK","getUserInfo"),a.default.getInstance().getUserInfo(e)}mustLogin(e){console.log("XminigameSDK","mustLogin"),o.default.getInstance().mustLogin(e)}getBoxFlag(){let e=a.default.getInstance().getBoxFlag();return console.log("XminigameSDK","getBoxFlag:"+e),e}showAppBox(){console.log("XminigameSDK","showAppBox"),a.default.getInstance().showAppBox()}getBlockFlag(){let e=a.default.getInstance().getBlockFlag();return console.log("XminigameSDK","getBlockFlag:"+e),e}showBlock(e,t,i,n){console.log("XminigameSDK","showBlock"),a.default.getInstance().showBlock(e,t,i,n)}hideBlock(){console.log("XminigameSDK","hideBlock"),a.default.getInstance().hideBlock()}getVideoIntersFlag(){let e=a.default.getInstance().getVideoIntersFlag();return console.log("XminigameSDK","getVideoIntersFlag:"+e),e}showVideoInters(e){console.log("XminigameSDK","showVideoInters"),a.default.getInstance().showVideoInters(e)}exitTheGame(){console.log("XminigameSDK","exitTheGame"),a.default.getInstance().exitTheGame()}reportAnalytics(e,t){console.log("XminigameSDK","reportAnalytics"),a.default.getInstance().reportAnalytics(e,t)}showAuthentication(e){console.log("XminigameSDK","showAuthentication"),a.default.getInstance().showAuthentication(e)}visitorExperience(e){console.log("XminigameSDK","visitorExperience"),a.default.getInstance().visitorExperience(e)}showNativeAd(e,t,i,n){console.log("XminigameSDK","showNativeAd"),a.default.getInstance().showNativeAd(e,t,i,n)}getOPPOShowMoreGameFlag(){let e=a.default.getInstance().getOPPOShowMoreGameFlag();return console.log("XminigameSDK","getOPPOShowMoreGameFlag:"+e),e}showOPPOMoreGame(){console.log("XminigameSDK","showOPPOMoreGame"),a.default.getInstance().showOPPOMoreGame()}hasNetwork(e){console.log("XminigameSDK","hasNetwork",a.default.getInstance().hasNetwork(e)),a.default.getInstance().hasNetwork(e)}showReviewAlert(){console.log("XminigameSDK","showReviewAlert"),a.default.getInstance().showReviewAlert()}showiOSADWithScene(e,t){console.log("XminigameSDK","showiOSADWithScene"),a.default.getInstance().showiOSADWithScene(e,t)}showiOSADWithType(e,t){console.log("XminigameSDK","showiOSADWithType"),a.default.getInstance().showiOSADWithType(e,t)}videoUIShow(e){console.log("XminigameSDK","videoUIShow"),a.default.getInstance().videoUIShow(e)}showPrivacyAgreement(e,t,i){console.log("XminigameSDK","showPrivacyAgreement"),a.default.getInstance().showPrivacyAgreement(e,t,i)}getErrBannerFlag(){let e=a.default.getInstance().getErrBannerFlag();return console.log("XminigameSDK","getErrBannerFlag:"+e),e}showErrBanner(e){console.log("XminigameSDK","showErrBanner"),a.default.getInstance().showErrBanner(e)}hideErrBanner(){console.log("XminigameSDK","hideErrBanner"),a.default.getInstance().hideErrBanner()}getErrVideoFlag(){let e=a.default.getInstance().getErrVideoFlag();return console.log("XminigameSDK","getErrVideoFlag:"+e),e}buyProps(e,t,i,n){console.log("XminigameSDK","buyProps"),a.default.getInstance().buyProps(e,t,i,n)}payComplete(e){console.log("XminigameSDK","payComplete"),a.default.getInstance().payComplete(e)}}i.default=s,cc._RF.pop()},{"./SdkConfig":"SdkConfig","./ad/AdCenter":"AdCenter","./server/ServerCenter":"ServerCenter"}],AdCenter:[function(e,t,i){"use strict";cc._RF.push(t,"28cbd15loRA+6O5Mqy7txGh","AdCenter"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../SdkConfig"),n=e("./AdFactory");class o{constructor(){this.adFactory=null,this.adConfig=null,this.adFactory=n.default.produceAD()}static getInstance(){return o.instance||(o.instance=new o),o.instance}startLoadAd(){null!=this.adConfig&&(console.log("XminigameSDK","adConfig:",JSON.stringify(this.adConfig)),void 0===this.adConfig.mainSwitch?console.log("XminigameSDK","\u5e7f\u544a\u603b\u5f00\u5173\u672a\u5f00\u542f"):void 0===this.adConfig.advertIdentity?console.log("XminigameSDK","\u5e7f\u544aID\u672a\u542f\u7528"):this.adConfig.mainSwitch?null==this.adConfig.advertIdentity?console.log("XminigameSDK","\u5e7f\u544aID\u672a\u542f\u7528"):(this.setAllAdConfig(),this.adFactory.createAd()):console.log("XminigameSDK","\u5e7f\u544a\u603b\u5f00\u5173\u672a\u5f00\u542f"))}setAllAdConfig(){void 0!==this.adConfig.advertSwitch&&null!=this.adConfig.advertSwitch&&this.adConfig.advertSwitch&&(console.log("XminigameSDK","\u5e7f\u544a\u5f00\u5173\u53c2\u6570\uff1a",JSON.stringify(this.adConfig.advertSwitch)),this.adFactory.SW_SystemBanner=this.adConfig.advertSwitch.bannerSwitch,this.adFactory.SW_SystemInters=this.adConfig.advertSwitch.intersSwitch,this.adFactory.SW_Video=this.adConfig.advertSwitch.videoSwitch,this.adFactory.SW_Native=this.adConfig.advertSwitch.nativeBigIntersSwitch,this.adFactory.SW_NativeBanner=this.adConfig.advertSwitch.nativeBannerSwitch,this.adFactory.SW_NativeInters=this.adConfig.advertSwitch.nativeIntersSwitch,this.adFactory.SW_Box=this.adConfig.advertSwitch.boxSwitch),void 0!==this.adConfig.advertIdentity&&null!=this.adConfig.advertIdentity&&this.adConfig.advertIdentity&&(console.log("XminigameSDK","\u5e7f\u544aID\u53c2\u6570\uff1a",JSON.stringify(this.adConfig.advertIdentity)),this.adFactory.ID_SystemBanner=this.adConfig.advertIdentity.adBannerId,this.adFactory.ID_SystemInters=this.adConfig.advertIdentity.adIntersId,this.adFactory.ID_Native=this.adConfig.advertIdentity.adNativeId,this.adFactory.ID_NativeCustom=this.adConfig.advertIdentity.adNativeIntersId,this.adFactory.ID_Video=this.adConfig.advertIdentity.adVideoId,this.adFactory.ID_Box=this.adConfig.advertIdentity.adBoxId,this.adFactory.ID_Block=this.adConfig.advertIdentity.adBrickId),void 0!==this.adConfig.combineInters&&null!=this.adConfig.combineInters&&(console.log("XminigameSDK","\u63d2\u5c4f\u4e8c\u5408\u4e00\u53c2\u6570\uff1a",JSON.stringify(this.adConfig.combineInters)),this.adConfig.combineInters.enableSwitch&&(this.adFactory.NUM_NativeIntersP=this.adConfig.combineInters.nativeIntersRatio)),void 0!==this.adConfig.dynamicNativeInters&&null!=this.adConfig.dynamicNativeInters&&(console.log("XminigameSDK","\u52a8\u6001\u63a7\u5236\u53c2\u6570\uff1a",JSON.stringify(this.adConfig.dynamicNativeInters)),void 0!==this.adConfig.dynamicNativeInters.bannerSwitch&&null!=this.adConfig.dynamicNativeInters.bannerSwitch&&this.adConfig.dynamicNativeInters.bannerSwitch&&(this.adFactory.NUM_BannerErrMost=this.adConfig.dynamicNativeInters.bannerMostNumber,this.adFactory.NUM_BannerErrP=this.adConfig.dynamicNativeInters.bannerProbability,this.adFactory.NUM_BannerErrMust=this.adConfig.dynamicNativeInters.bannerClick),void 0!==this.adConfig.dynamicNativeInters.videoSwitch&&null!=this.adConfig.dynamicNativeInters.videoSwitch&&this.adConfig.dynamicNativeInters.videoSwitch&&(this.adFactory.NUM_VideoErrMost=this.adConfig.dynamicNativeInters.videoMostNumber,this.adFactory.NUM_VideoErrP=this.adConfig.dynamicNativeInters.videoProbability,this.adFactory.NUM_VideoErrMust=this.adConfig.dynamicNativeInters.videoClick),void 0!==this.adConfig.dynamicNativeInters.nativePasterSwitch&&null!=this.adConfig.dynamicNativeInters.nativePasterSwitch&&this.adConfig.dynamicNativeInters.nativePasterSwitch&&(this.adFactory.SW_NativePaster=this.adConfig.dynamicNativeInters.nativePasterSwitch,this.adFactory.NUM_NativePasterErrMost=this.adConfig.dynamicNativeInters.nativePasterMostNumber,this.adFactory.NUM_NativePasterErrP=this.adConfig.dynamicNativeInters.nativePasterProbability,this.adFactory.NUM_NativePasterErrMust=this.adConfig.dynamicNativeInters.nativePasterClick)),void 0!==this.adConfig.baseControl&&null!=this.adConfig.baseControl&&(console.log("XminigameSDK","\u5e7f\u544a\u57fa\u7840\u63a7\u5236\u53c2\u6570\uff1a",JSON.stringify(this.adConfig.baseControl)),void 0!==this.adConfig.baseControl.bannerSwitch&&null!=this.adConfig.baseControl.bannerSwitch&&this.adConfig.baseControl.bannerSwitch&&(void 0!==this.adConfig.baseControl.refreshTime&&null!=this.adConfig.baseControl.refreshTime&&0!=this.adConfig.baseControl.refreshTime&&(this.adFactory.NUM_BannerUpdateTime=this.adConfig.baseControl.refreshTime),void 0!==this.adConfig.baseControl.priority&&null!=this.adConfig.baseControl.priority&&this.adConfig.baseControl.priority&&"nativeBanner"==this.adConfig.baseControl.priority&&(this.adFactory.SW_SystemBannerFirst=!1),void 0!==this.adConfig.baseControl.maxClose&&null!=this.adConfig.baseControl.maxClose&&0!=this.adConfig.baseControl.maxClose&&(this.adFactory.NUM_BannerMostShow=this.adConfig.baseControl.maxClose)),void 0!==this.adConfig.baseControl.intersSwitch&&null!=this.adConfig.baseControl.intersSwitch&&this.adConfig.baseControl.intersSwitch&&(this.adFactory.SW_IntersBaseControl=this.adConfig.baseControl.intersSwitch,void 0!==this.adConfig.baseControl.startNum&&null!=this.adConfig.baseControl.startNum&&0!=this.adConfig.baseControl.startNum&&(this.adFactory.NUM_IntersStart=this.adConfig.baseControl.startNum),void 0!==this.adConfig.baseControl.intervalNum&&null!=this.adConfig.baseControl.intervalNum&&this.adConfig.baseControl.intervalNum&&(this.adFactory.NUM_IntersIntervalNum=this.adConfig.baseControl.intervalNum),void 0!==this.adConfig.baseControl.intervalTime&&null!=this.adConfig.baseControl.intervalTime&&0!=this.adConfig.baseControl.intervalTime&&(this.adFactory.NUM_IntersIntervalTime=this.adConfig.baseControl.intervalTime),void 0!==this.adConfig.baseControl.delayEject&&null!=this.adConfig.baseControl.delayEject&&0!=this.adConfig.baseControl.delayEject&&(this.adFactory.NUM_IntersDelayTime=this.adConfig.baseControl.delayEject),void 0!==this.adConfig.baseControl.delayProbability&&null!=this.adConfig.baseControl.delayProbability&&0!=this.adConfig.baseControl.delayProbability&&(this.adFactory.NUM_IntersDelayP=this.adConfig.baseControl.delayProbability)),void 0!==this.adConfig.baseControl.originalSwitch&&null!=this.adConfig.baseControl.originalSwitch&&this.adConfig.baseControl.originalSwitch&&void 0!==this.adConfig.baseControl.originalRefreshTime&&null!=this.adConfig.baseControl.originalRefreshTime&&this.adConfig.baseControl.originalRefreshTime>0&&(this.adFactory.NUM_NativeUpdateTime=this.adConfig.baseControl.originalRefreshTime)),void 0!==this.adConfig.desktopSwitch&&null!=this.adConfig.desktopSwitch&&(console.log("XminigameSDK","\u684c\u9762\u5f00\u5173\u53c2\u6570\uff1a",JSON.stringify(this.adConfig.desktopSwitch)),void 0!==this.adConfig.desktopSwitch.desktopIconSwitch&&null!=this.adConfig.desktopSwitch.desktopIconSwitch&&this.adConfig.desktopSwitch.desktopIconSwitch&&(this.adFactory.SW_AddDesktop=this.adConfig.desktopSwitch.desktopIconSwitch),void 0!==this.adConfig.desktopSwitch.activateDesktopIconSwitch&&null!=this.adConfig.desktopSwitch.activateDesktopIconSwitch&&this.adConfig.desktopSwitch.activateDesktopIconSwitch&&(this.adFactory.SW_IntersIntervalToAddDesktop=this.adConfig.desktopSwitch.activateDesktopIconSwitch),void 0!==this.adConfig.desktopSwitch.autoAddDesktopNumber&&null!=this.adConfig.desktopSwitch.autoAddDesktopNumber&&this.adConfig.desktopSwitch.desktopIconSwitch&&this.adConfig.desktopSwitch.activateDesktopIconSwitch&&0!=this.adConfig.desktopSwitch.autoAddDesktopNumber&&(this.adFactory.NUM_AutoAddDeskMostTimes=this.adConfig.desktopSwitch.autoAddDesktopNumber),void 0!==this.adConfig.desktopSwitch.intersAddDesktopNumber&&null!=this.adConfig.desktopSwitch.intersAddDesktopNumber&&this.adConfig.desktopSwitch.activateDesktopIconSwitch&&0!=this.adConfig.desktopSwitch.intersAddDesktopNumber&&(this.adFactory.NUM_IntersToAddDesktopNumber=this.adConfig.desktopSwitch.intersAddDesktopNumber))}startLoadPushGamaes(){null!=this.pushGamesConfig&&(console.log("XminigameSDK","pushGamesConfig:",JSON.stringify(this.pushGamesConfig)),void 0!==this.pushGamesConfig.masterSwitch&&this.pushGamesConfig.masterSwitch?(this.adFactory.SW_Statistics=this.pushGamesConfig.statisSwitch,this.adFactory.SW_NavigateIcon=this.pushGamesConfig.pushSwitch.iconSwitch,this.adFactory.SW_NavigateGroup=this.pushGamesConfig.pushSwitch.listSwitch,this.adFactory.SW_NavigateSettle=this.pushGamesConfig.pushSwitch.settleSwitch,this.adFactory.pushGameList=this.pushGamesConfig.pushGameList,this.adFactory.startLoadPushGamaes()):console.log("XminigameSDK","\u4e92\u63a8\u4e3b\u5f00\u5173\u672a\u5f00\u542f"))}huaweiManualModel(){console.log("XminigameSDK","\u534e\u4e3a\u5e7f\u544a\u53c2\u6570:",JSON.stringify(a.huaweiAdConfig)),this.adFactory.SW_SystemBanner=a.huaweiAdConfig.SW_SystemBanner,this.adFactory.SW_SystemInters=a.huaweiAdConfig.SW_SystemInters,this.adFactory.SW_Video=a.huaweiAdConfig.SW_Video,this.adFactory.SW_Native=a.huaweiAdConfig.SW_Native,this.adFactory.SW_NativeBanner=a.huaweiAdConfig.SW_NativeBanner,this.adFactory.SW_NativeInters=a.huaweiAdConfig.SW_NativeInters,this.adFactory.ID_SystemBanner=a.huaweiAdConfig.ID_SystemBanner,this.adFactory.ID_SystemInters=a.huaweiAdConfig.ID_SystemInters,this.adFactory.ID_Native=a.huaweiAdConfig.ID_Native,this.adFactory.ID_Video=a.huaweiAdConfig.ID_Video,this.adFactory.NUM_BannerUpdateTime=a.huaweiAdConfig.NUM_BannerUpdateTime,this.adFactory.SW_SystemBannerFirst=a.huaweiAdConfig.SW_SystemBannerFirst,this.adFactory.NUM_NativeIntersP=a.huaweiAdConfig.NUM_NativeIntersP,a.huaweiAdConfig.SW_IntersBaseControl&&(this.adFactory.SW_IntersBaseControl=a.huaweiAdConfig.SW_IntersBaseControl,this.adFactory.NUM_IntersStart=a.huaweiAdConfig.NUM_IntersStart,this.adFactory.NUM_IntersIntervalNum=a.huaweiAdConfig.NUM_IntersIntervalNum,this.adFactory.NUM_IntersIntervalTime=a.huaweiAdConfig.NUM_IntersIntervalTime,this.adFactory.NUM_IntersDelayTime=a.huaweiAdConfig.NUM_IntersDelayTime,this.adFactory.NUM_IntersDelayP=a.huaweiAdConfig.NUM_IntersDelayP),this.adFactory.createAd()}m4399boxManualModel(){console.log("XminigameSDK","m4399box\u5e7f\u544a\u53c2\u6570:",JSON.stringify(a.m4399boxAdConfig)),this.adFactory.SW_SystemBanner=a.m4399boxAdConfig.SW_SystemBanner,this.adFactory.SW_SystemInters=a.m4399boxAdConfig.SW_SystemInters,this.adFactory.SW_Video=a.m4399boxAdConfig.SW_Video,this.adFactory.NUM_BannerUpdateTime=a.m4399boxAdConfig.NUM_BannerUpdateTime,a.m4399boxAdConfig.SW_IntersBaseControl&&(this.adFactory.SW_IntersBaseControl=a.m4399boxAdConfig.SW_IntersBaseControl,this.adFactory.NUM_IntersStart=a.m4399boxAdConfig.NUM_IntersStart,this.adFactory.NUM_IntersIntervalNum=a.m4399boxAdConfig.NUM_IntersIntervalNum,this.adFactory.NUM_IntersIntervalTime=a.m4399boxAdConfig.NUM_IntersIntervalTime,this.adFactory.NUM_IntersDelayTime=a.m4399boxAdConfig.NUM_IntersDelayTime,this.adFactory.NUM_IntersDelayP=a.m4399boxAdConfig.NUM_IntersDelayP),this.adFactory.createAd()}androidManualModel(){if(a.androidAdConfig.SW_ManualModel){if(""==a.androidAdConfig.jsonUrl)return;cc.loader.load(a.androidAdConfig.jsonUrl,(e,t)=>{console.log("XminigameSDK","androidAdParam:",JSON.stringify(t)),this.adFactory.NUM_VideoErrP=t.NUM_VideoErrP,this.adFactory.NUM_VideoErrMost=t.NUM_VideoErrMost,this.adFactory.NUM_VideoErrMust=t.NUM_VideoErrMust,this.adFactory.NUM_IntersVideoDelayP=t.NUM_IntersVideoDelayP,this.adFactory.NUM_IntersVideoDelayTime=t.NUM_IntersVideoDelayTime})}}getChannelId(){return this.adFactory.getChannelId()}showBanner(){this.adFactory.showBanner()}hideBanner(){this.adFactory.hideBanner()}getIntersFlag(){return this.adFactory.getIntersFlag()}showInters(e){this.adFactory.showInters(e)}getVideoFlag(){return this.adFactory.getVideoFlag()}showVideo(e,t){this.adFactory.showVideo(e,t)}getNativeIconFlag(){return this.adFactory.getNativeIconFlag()}showNativeIcon(e,t,i,a){this.adFactory.showNativeIcon(e,t,i,a)}hideNativeIcon(){this.adFactory.hideNativeIcon()}getNativeImageFlag(){return this.adFactory.getNativeImageFlag()}showNativeImage(e,t,i,a){this.adFactory.showNativeImage(e,t,i,a)}hideNativeImage(){this.adFactory.hideNativeImage()}getNativePasterFlag(){return this.adFactory.getNativePasterFlag()}showNativePaster(){this.adFactory.showNativePaster()}getNativeAdInfo(e){return this.adFactory.getNativeAdInfo(e)}reportNativeAdShow(e){this.adFactory.reportNativeAdShow(e)}reportNativeAdClick(e){this.adFactory.reportNativeAdClick(e)}getNavigateIconFlag(){return this.adFactory.getNavigateIconFlag()}showNavigateIcon(e,t,i,a){this.adFactory.showNavigateIcon(e,t,i,a)}hideNavigateIcon(){this.adFactory.hideNavigateIcon()}getNavigateGroupFlag(){return this.adFactory.getNavigateGroupFlag()}showNavigateGroup(e,t,i,a){this.adFactory.showNavigateGroup(e,t,i,a)}hideNavigateGroup(){this.adFactory.hideNavigateGroup()}getNavigateSettleFlag(){return this.adFactory.getNavigateSettleFlag()}showNavigateSettle(e,t,i){this.adFactory.showNavigateSettle(e,t,i)}hideNavigateSettle(){this.adFactory.hideNavigateSettle()}getNavigateBoxBannerFlag(){return this.adFactory.getNavigateBoxBannerFlag()}showNavigateBoxBanner(){this.adFactory.showNavigateBoxBanner()}hideNavigateBoxBanner(){this.adFactory.hideNavigateBoxBanner()}getNavigateBoxPortalFlag(){return this.adFactory.getNavigateBoxPortalFlag()}showNavigateBoxPortal(){this.adFactory.showNavigateBoxPortal()}setGroup(e){this.adFactory.setGroup(e)}hasAddDesktopFunc(){return this.adFactory.hasAddDesktopFunc()}getAddDesktopFlag(e){this.adFactory.getAddDesktopFlag(e)}addDesktop(e){this.adFactory.addDesktop(e)}phoneVibrate(e){this.adFactory.phoneVibrate(e)}startGameVideo(e){this.adFactory.startGameVideo(e)}pauseGameVideo(){this.adFactory.pauseGameVideo()}resumeGameVideo(){this.adFactory.resumeGameVideo()}stopGameVideo(e){this.adFactory.stopGameVideo(e)}shareVideo(e,t,i,a,n){this.adFactory.shareVideo(e,t,i,a,n)}jumpToMoreGamesCenter(){this.adFactory.jumpToMoreGamesCenter()}showMoreGamesBanner(){this.adFactory.showMoreGamesBanner()}hideMoreGamesBanner(){this.adFactory.hideMoreGamesBanner()}showFavoriteGuide(e,t,i){this.adFactory.showFavoriteGuide(e,t,i)}getUserData(e){this.adFactory.getUserData(e)}getUserInfo(e){this.adFactory.getUserInfo(e)}getBoxFlag(){return this.adFactory.getBoxFlag()}showAppBox(){this.adFactory.showAppBox()}getBlockFlag(){return this.adFactory.getBlockFlag()}showBlock(e,t,i,a){this.adFactory.showBlock(e,t,i,a)}hideBlock(){this.adFactory.hideBlock()}getVideoIntersFlag(){return this.adFactory.getVideoIntersFlag()}showVideoInters(e){this.adFactory.showVideoInters(e)}exitTheGame(){this.adFactory.exitTheGame()}reportAnalytics(e,t){this.adFactory.reportAnalytics(e,t)}showAuthentication(e){this.adFactory.showAuthentication(e)}visitorExperience(e){this.adFactory.visitorExperience(e)}showNativeAd(e,t,i,a){this.adFactory.showNativeAd(e,t,i,a)}getOPPOShowMoreGameFlag(){return this.adFactory.getOPPOShowMoreGameFlag()}showOPPOMoreGame(){this.adFactory.showOPPOMoreGame()}hasNetwork(e){this.adFactory.hasNetwork(e)}showReviewAlert(){this.adFactory.showReviewAlert()}showiOSADWithScene(e,t){this.adFactory.showiOSADWithScene(e,t)}showiOSADWithType(e,t){this.adFactory.showiOSADWithType(e,t)}videoUIShow(e){this.adFactory.videoUIShow(e)}showPrivacyAgreement(e,t,i){this.adFactory.showPrivacyAgreement(e,t,i)}getErrBannerFlag(){return this.adFactory.getErrBannerFlag()}showErrBanner(e){this.adFactory.showErrBanner(e)}hideErrBanner(){this.adFactory.hideErrBanner()}getErrVideoFlag(){return this.adFactory.getErrVideoFlag()}buyProps(e,t,i,a){this.adFactory.buyProps(e,t,i,a)}payComplete(e){this.adFactory.payComplete(e)}}i.default=o,cc._RF.pop()},{"../SdkConfig":"SdkConfig","./AdFactory":"AdFactory"}],AdFactory:[function(e,t,i){"use strict";cc._RF.push(t,"a12de2/JSZEVaxFyqZUVVBx","AdFactory"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("./OppoAd"),n=e("../utils/GetConfig"),o=e("./VivoAd"),s=e("./BilibiliAd"),r=e("./HuaweiAd"),l=e("./KwaiAd"),h=e("./TencentqqAd"),c=e("./TiktokAd"),d=e("./WeixinAd"),g=e("./XiaomiAd"),u=e("./AndroidAd"),m=e("./IosAd"),p=e("./TestAd"),v=e("./M4399boxAd"),S=e("./BlankAd");i.default=class{static produceAD(){switch(n.default.getChannelName()){case"oppo":return new a.default;case"vivo":return new o.default;case"tiktok":return new c.default;case"tencentqq":return new h.default;case"weixin":return new d.default;case"kwai":return new l.default;case"huawei":return new r.default;case"xiaomi":return new g.default;case"bilibili":return new s.default;case"m4399box":return new v.default;case"android":return new u.default;case"ios":return new m.default;case"test":return new p.default;case"blank":return new S.default;default:return}}},cc._RF.pop()},{"../utils/GetConfig":"GetConfig","./AndroidAd":"AndroidAd","./BilibiliAd":"BilibiliAd","./BlankAd":"BlankAd","./HuaweiAd":"HuaweiAd","./IosAd":"IosAd","./KwaiAd":"KwaiAd","./M4399boxAd":"M4399boxAd","./OppoAd":"OppoAd","./TencentqqAd":"TencentqqAd","./TestAd":"TestAd","./TiktokAd":"TiktokAd","./VivoAd":"VivoAd","./WeixinAd":"WeixinAd","./XiaomiAd":"XiaomiAd"}],AdInterface:[function(e,t,i){"use strict";cc._RF.push(t,"c5982/1Z7BHg5U9FpeaP81r","AdInterface"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],AndroidAd:[function(e,t,i){"use strict";cc._RF.push(t,"72c29Rl775Owr+QPfxkWy0r","AndroidAd"),Object.defineProperty(i,"__esModule",{value:!0});let a=null,n=null,o=null;i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.NUM_NowErrVideo=0,this.NUM_NowGetErrVideoFlag=0}createAd(){}startLoadPushGamaes(){}getChannelId(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","reqeustChannelValue","()Ljava/lang/String;")}showBanner(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"showBanner","calling_method_params":0}')}hideBanner(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"hideBanner",\'calling_method_params\':0}')}getIntersFlag(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","SendMessageGetAdFlag","(Ljava/lang/String;)Z","getIntersFlag")}showInters(e){e&&(n=e),jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V","{'calling_method_name':'showInters','calling_method_params':0}")}getVideoFlag(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","SendMessageGetAdFlag","(Ljava/lang/String;)Z","getVideoFlag")}showVideo(e,t){a=e,jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"showVideo","calling_method_params":0}')}getNativeIconFlag(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","SendMessageGetAdFlag","(Ljava/lang/String;)Z","getIconNativeFlag")}showNativeIcon(e,t,i,a){let n=cc.winSize,o=e/n.width,s=(i-e/2)/n.width,r=(n.height-(a+e/2))/n.height;jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",`{"calling_method_name":"showNativeIcon","calling_method_params":{"icon_size":${o},"viewX":${s},"viewY":${r}}}`)}hideNativeIcon(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"hideNativeIcon",\'calling_method_params\':0}')}getNativeImageFlag(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","getBigNativeFlag","()Z")}showNativeImage(e,t,i,a){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","showSettlePasterBanner","()V")}hideNativeImage(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","hideSettlePasterBanner","()V")}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){}reportNativeAdShow(e){}reportNativeAdClick(e){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","onClickNativaAd","()V")}getNavigateIconFlag(){return!0}showNavigateIcon(e,t,i,a){let n=cc.winSize,o=e/n.width,s=(i-e/2)/n.width,r=(n.height-(a+e/2))/n.height;jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",`{"calling_method_name":"showNavigateIcon","calling_method_params":{"icon_size":${o},"icon_x":${s},"icon_y":${r}}}`)}hideNavigateIcon(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"hideNavigateIcon",\'calling_method_params\':0}')}getNavigateGroupFlag(){return!0}showNavigateGroup(e,t,i,a){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",`{"calling_method_name":"showNavigateGroup","calling_method_params":{"type":${e},"slide":${t}}}`)}hideNavigateGroup(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"hideNavigateGroup",\'calling_method_params\':0}')}getNavigateSettleFlag(){return!0}showNavigateSettle(e,t,i){let a=cc.winSize,n=t/a.width,o=(a.height-i)/a.height;jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",`{"calling_method_name":"showNavigateSettle","calling_method_params":{"type":${e},"viewX":${n},"viewY":${o}}}`)}hideNavigateSettle(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"hideNavigateSettle",\'calling_method_params\':0}')}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){}phoneVibrate(e){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",`{"calling_method_name":"shakePhone","calling_method_params":${e}}`)}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){}shareVideo(e,t,i,a,n){}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){}getUserInfo(e){}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","SendMessageGetAdFlag","(Ljava/lang/String;)Z","getVideoIntersFlag")}showVideoInters(e){n=e,this.NUM_IntersVideoDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersVideoDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u89c6\u9891\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersVideoDelayTime),setTimeout(()=>{jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"showVideoInters","calling_method_params":0}')},this.NUM_IntersVideoDelayTime)):jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"showVideoInters","calling_method_params":0}')}exitTheGame(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V","{'calling_method_name':'exit'}")}reportAnalytics(e,t){let i=JSON.stringify({calling_method_name:"reportAnalytics",calling_method_params:{eventName:e,data:t}});jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",i)}showAuthentication(e){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"showAuthentication","calling_method_params":0}')}visitorExperience(e){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"TouristModel","calling_method_params":0}')}showNativeAd(e,t,i,a){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",`{"calling_method_name":"showNativeAd","calling_method_params":{"width":${e},"height":${t},"viewX":${i},"viewY":${a}}}`)}getOPPOShowMoreGameFlag(){return jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","SendMessageGetAdFlag","(Ljava/lang/String;)Z","getShowMoreGameFlag")}showOPPOMoreGame(){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","ReceiveCppMessage","(Ljava/lang/String;)V",'{"calling_method_name":"showOPPOMoreGame","calling_method_params":0}')}hasNetwork(e){}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return this.NUM_NowGetErrVideoFlag++,this.NUM_NowGetErrVideoFlag==this.NUM_VideoErrMust?(console.log("XminigameSDK","v \u7b2c"+this.NUM_VideoErrMust+"\u6b21\u51fa\u73b0"),!0):this.NUM_NowErrVideo>=this.NUM_VideoErrMost?(console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 v"),!1):this.getVideoFlag()?this.NUM_VideoErrP>0&&(console.log("XminigameSDK","Pv",this.NUM_VideoErrP),Math.floor(100*Math.random())<this.NUM_VideoErrP&&(this.NUM_NowErrVideo++,!0)):(console.log("XminigameSDK","WX \u89c6\u9891\u5e7f\u544a\u672a\u52a0\u8f7d\u5b8c\u6210"),!1)}buyProps(e,t,i,a){o=a,jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","pay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",`${e}`,`${t}`,`${i}`)}payComplete(e){jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","completePay","(Ljava/lang/String;)V",`${e}`)}},window.AndroidVideoCallback=function(e){console.log("XminigameSDK","\u89c6\u9891\u662f\u5426\u64ad\u653e\u5b8c\u6210?","1"==e),a&&a("1"==e)},window.AndroidVideoIntersCallBack=function(){console.log("XminigameSDK","videoInsertCallBack"),n&&n()},window.AndroidPayCallback=function(e,t){console.log("XminigameSDK",t,"\u8be5\u8ba2\u5355\u662f\u5426\u652f\u4ed8\u6210\u529f?","1"==e),o&&o("1"==e,t)},cc._RF.pop()},{}],AndroidSDK:[function(e,t,i){"use strict";cc._RF.push(t,"8286bKRdBJCupjSGvtswsjk","AndroidSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../ad/AdCenter");i.default=class{initAd(){a.default.getInstance().androidManualModel()}loginSucc(e){}loginFail(){}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../ad/AdCenter":"AdCenter"}],ArchiveManager:[function(e,t,i){"use strict";cc._RF.push(t,"e9f27J2KbZDOKf5/789xEQD","ArchiveManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.archiveManager=void 0;const a=e("./Logger"),n=e("../tools"),o=e("./EventManager"),s=e("./SoundsManager");class r{constructor(){this._signDay=1,this._lastDay=1,this._lastTime=0,this._coin=0,this._energy=100,this._mVolume=1,this._sVolume=1,this._gameData=null,this.lastEnergyTime=0,this._checkEnergyTime=1e3,this.totalEnergy=100,this.addEnergy=12e4,cc.game.on(cc.game.EVENT_HIDE,this.saveData,this),setInterval(this.checkEnergy.bind(this),this._checkEnergyTime),setTimeout(()=>{this.loadData()},.1)}set signDay(e){this._signDay=e}get signDay(){return this._signDay}set lastDay(e){this._lastDay=e}get lastDay(){return this._lastDay}set lastTime(e){this._lastTime=e}get lastTime(){return this._lastTime}set coin(e){this._coin=e,o.eventManager.emit("updateCoin",this._coin)}get coin(){return this._coin}set energy(e){this._energy=e,this._energy<0&&(this._energy=0),o.eventManager.emit("updateEnergy",this._energy)}get energy(){return this._energy}set mVolume(e){s.soundsManager.MusicVolume=e,this._mVolume=e}get mVolume(){return this._mVolume}set sVolume(e){s.soundsManager.SoundVolume=e,this._sVolume=e}get sVolume(){return this._sVolume}set gameData(e){this._gameData=e}get gameData(){return this._gameData}checkEnergy(){const e=(new Date).getTime();this.lastEnergyTime=Number(n.default.getItem("lastEnergyTime",e));let t=e-this.lastEnergyTime;t>this.addEnergy&&(this.lastEnergyTime=e,this.energy<this.totalEnergy&&(this.energy+=Math.floor(t/this.addEnergy),this.energy>this.totalEnergy&&(this.energy=this.totalEnergy),n.default.setItem("lastEnergyTime",e+"")))}saveData(){const e={signDay:this._signDay,lastDay:this._lastDay,lastTime:this._lastTime,coin:this._coin,energy:this._energy,mVolume:this._mVolume,sVolume:this._sVolume,gameData:this._gameData};a.logger.info("saveDate:",e),n.default.setItem("UserData",JSON.stringify(e))}loadData(){let e=JSON.parse(n.default.getItem("UserData","{}"));this._signDay=Number(n.default.getPropertyFromJSON(e,"signDay",1)),this._lastDay=Number(n.default.getPropertyFromJSON(e,"lastDay",1)),this._lastTime=Number(n.default.getPropertyFromJSON(e,"lastTime",0)),this._energy=Math.floor(Number(n.default.getPropertyFromJSON(e,"energy",100))),this._coin=Math.floor(Number(n.default.getPropertyFromJSON(e,"coin",0))),this._mVolume=Number(n.default.getPropertyFromJSON(e,"mVolume",1)),this._sVolume=Number(n.default.getPropertyFromJSON(e,"sVolume",1)),s.soundsManager.MusicVolume=this.mVolume,s.soundsManager.SoundVolume=this.sVolume,this._gameData=n.default.getPropertyFromJSON(e,"gameData",{}),a.logger.info("loadData:",e)}setSignDay(e){this.lastDay=this.signDay,this.signDay=e%7,this.lastTime=(new Date).getDate(),this.saveData()}}i.default=r,i.archiveManager=new r,cc._RF.pop()},{"../tools":"tools","./EventManager":"EventManager","./Logger":"Logger","./SoundsManager":"SoundsManager"}],AssetsManager:[function(e,t,i){"use strict";cc._RF.push(t,"bca28TZNGdHm5263ubj3FMT","AssetsManager"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../LibTool/Delegate"),n=e("../LibTool/Manager/LoadAssetsManager"),o=e("../LibTool/Manager/Logger");class s{static loadAllSprite(){n.loadAssetsManager.loadBundleAllAssetPromise(this._bundle,this._spriteUrl,cc.SpriteFrame,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._spriteList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static loadAllSpriteAtlas(){n.loadAssetsManager.loadBundleAllAssetPromise(this._bundle,this._spriteAtlasUrl,cc.SpriteAtlas,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._spriteAtlasList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static loadSprite(e){return new Promise((t,i)=>{const s=e.slice(e.lastIndexOf("/")+1,e.length);this._spriteList.has(s)?t(this._spriteList.get(s)):n.loadAssetsManager.loadBundleAssetPromise(this._bundle,this._spriteUrl+"/"+e,cc.SpriteFrame,a.Delegate.Create(this,()=>{})).then(e=>{e&&(this._spriteList.set(e.name,e),t(e))}).catch(e=>{o.logger.warning(e),i(e)})})}static loadSpriteAtlas(e){return new Promise((t,i)=>{const s=e.slice(e.lastIndexOf("/")+1,e.length);this._spriteAtlasList.has(s)?t(this._spriteAtlasList.get(s)):n.loadAssetsManager.loadBundleAssetPromise(this._bundle,this._spriteUrl+"/"+e,cc.SpriteAtlas,a.Delegate.Create(this,()=>{})).then(e=>{e&&(this._spriteAtlasList.set(e.name,e),t(e))}).catch(e=>{o.logger.warning(e),i(e)})})}static loadSprites(e){const t=[];for(const i in e)t[i]=this._spriteUrl+"/"+e[i];n.loadAssetsManager.loadBundleAssetsPromise(this._bundle,t,cc.SpriteFrame,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._spriteList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static releaseSprite(e){this._spriteList.has(e)&&(this._spriteList.get(e).decRef(),this._spriteList.delete(e))}static loadAllPrefab(){n.loadAssetsManager.loadBundleAllAssetPromise(this._bundle,this._prefabUrl,cc.Prefab,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._prefabList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static loadPrefab(e){return new Promise((t,i)=>{const s=e.slice(e.lastIndexOf("/")+1,e.length);this._prefabList.has(s)?t(this._prefabList.get(s)):n.loadAssetsManager.loadBundleAssetPromise(this._bundle,this._prefabUrl+"/"+e,cc.Prefab,a.Delegate.Create(this,()=>{})).then(e=>{e&&this._prefabList.set(e.name,e),t(e)}).catch(e=>{o.logger.warning(e),i(e)})})}static loadPrefabs(e,t){const i=[];for(const a in e)i[a]=this._prefabUrl+"/"+e[a];n.loadAssetsManager.loadBundleAssetsPromise(this._bundle,i,cc.Prefab,a.Delegate.Create(this,e=>{t&&t(e)})).then(e=>{for(const t in e)e[t]&&this._prefabList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static releasePrefab(e){this._prefabList.has(e)&&(this._prefabList.get(e).decRef(),this._prefabList.delete(e))}static loadAllJson(){n.loadAssetsManager.loadBundleAllAssetPromise(this._bundle,this._jsonUrl,cc.JsonAsset,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._jsonList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static loadJson(e){return new Promise((t,i)=>{const s=e.slice(e.lastIndexOf("/")+1,e.length);this._jsonList.has(s)?t(this._jsonList.get(s)):n.loadAssetsManager.loadBundleAssetPromise(this._bundle,this._jsonUrl+"/"+e,cc.JsonAsset,a.Delegate.Create(this,()=>{})).then(e=>{e&&this._jsonList.set(e.name,e),t(e)}).catch(e=>{o.logger.warning(e),i(e)})})}static loadJsons(e,t){const i=[];for(const a in e)i[a]=this._jsonUrl+"/"+e[a];n.loadAssetsManager.loadBundleAssetsPromise(this._bundle,i,cc.JsonAsset,a.Delegate.Create(this,e=>{t&&t(e)})).then(e=>{for(const t in e)e[t]&&this._jsonList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static releaseJson(e){this._jsonList.has(e)&&(this._jsonList.get(e).decRef(),this._jsonList.delete(e))}static loadAllSpine(){n.loadAssetsManager.loadBundleAllAssetPromise(this._bundle,this._spineUrl,sp.SkeletonData,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._spineList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static loadSpine(e){return new Promise((t,i)=>{const s=e.slice(e.lastIndexOf("/")+1,e.length);this._spineList.has(s)?t(this._spineList.get(s)):n.loadAssetsManager.loadBundleAssetPromise(this._bundle,this._spineUrl+"/"+e,sp.SkeletonData,a.Delegate.Create(this,()=>{})).then(e=>{e&&this._spineList.set(e.name,e),t(e)}).catch(e=>{o.logger.warning(e),i(e)})})}static loadSpines(e,t){const i=[];for(const a in e)i[a]=this._spineUrl+"/"+e[a];n.loadAssetsManager.loadBundleAssetsPromise(this._bundle,i,sp.SkeletonData,a.Delegate.Create(this,e=>{t&&t(e)})).then(e=>{for(const t in e)e[t]&&this._spineList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static releaseSpine(e){this._spineList.has(e)&&(this._spineList.get(e).decRef(),this._spineList.delete(e))}static loadAllSound(){n.loadAssetsManager.loadBundleAllAssetPromise(this._bundle,this._soundUrl,cc.AudioClip,a.Delegate.Create(this,()=>{})).then(e=>{for(const t in e)e[t]&&this._soundList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static loadSound(e){return new Promise((t,i)=>{const s=e.slice(e.lastIndexOf("/")+1,e.length);this._soundList.has(s)?t(this._soundList.get(s)):n.loadAssetsManager.loadBundleAssetPromise(this._bundle,this._soundUrl+"/"+e,cc.AudioClip,a.Delegate.Create(this,()=>{})).then(e=>{e&&(this._soundList.set(e.name,e),t(e))}).catch(e=>{o.logger.warning(e),i(e)})})}static loadSounds(e,t){const i=[];for(const a in e)i[a]=this._soundUrl+"/"+e[a];n.loadAssetsManager.loadBundleAssetsPromise(this._bundle,i,cc.AudioClip,a.Delegate.Create(this,e=>{t&&t(e)})).then(e=>{for(const t in e)e[t]&&this._soundList.set(e[t].name,e[t])}).catch(e=>{o.logger.warning(e)})}static releaseSound(e){this._soundList.has(e)&&(this._soundList.get(e).decRef(),this._soundList.delete(e))}}i.default=s,s._bundle="Bundle",s._spriteUrl="Texture",s._spriteAtlasUrl="Texture",s._prefabUrl="Prefabs",s._jsonUrl="Config",s._spineUrl="Spine",s._soundUrl="Sound",s._spriteList=new Map,s._spriteAtlasList=new Map,s._prefabList=new Map,s._jsonList=new Map,s._spineList=new Map,s._soundList=new Map,cc._RF.pop()},{"../LibTool/Delegate":"Delegate","../LibTool/Manager/LoadAssetsManager":"LoadAssetsManager","../LibTool/Manager/Logger":"Logger"}],Backstab:[function(e,t,i){"use strict";cc._RF.push(t,"50acbaX5NZNiJfPSggg2/W8","Backstab"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Manager/SoundsManager"),n=e("../../LibTool/tools"),o=e("../../Manager/AssetsManager"),s=e("../../LibTool/Component/Base/SkillBase");class r extends s.default{eval(e,t,i,s){if(super.eval(e,t,i,s),t!=i.length-1)return!1;{const r=n.default.convertToNodeSpace(i[t].node.position,i[t].node.parent,e.node.parent);cc.tween(e.node).to(.3,{x:r.x+50,y:r.y},{easing:cc.easing.sineOut}).start(),e.spine.node.scaleX=-Math.abs(e.spine.node.scaleX);for(let n=1;n<=this.times;n++)setTimeout(()=>{o.default.loadSound("Skill/"+this.sound).then(e=>{a.soundsManager.playEffect(e)}),i[t].subCost(this.damage*this.level*e.cost),cc.tween(e.node).delay(.3).to(.3,{x:r.x-50,y:r.y},{easing:cc.easing.sineOut}).call(()=>{e.spine.node.scaleX=Math.abs(e.spine.node.scaleX)}).start()},1e3*this.delay*n),e.playSkill(this.animation,this.icon,s);return!0}}}i.default=r,r.skillName="\u80cc\u523a",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/SoundsManager":"SoundsManager","../../LibTool/tools":"tools","../../Manager/AssetsManager":"AssetsManager"}],BilibiliAd:[function(e,t,i){"use strict";cc._RF.push(t,"cc8a07/yiNGMpK+Ll4HNt0j","BilibiliAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.bannerAd=null,this.loadSucc_SystemBanner=!1,this.loadSucc_Banner=!1,this.hasShowBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.SW_SystemBanner&&this.createSystemBanner(),this.SW_Video&&this.createVideo()}startLoadPushGamaes(){}createSystemBanner(){if(console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner))return void console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************");let e=bl.getSystemInfoSync().windowWidth,t=bl.getSystemInfoSync().windowHeight;this.bannerAd=bl.createBannerAd({style:{left:(e-300)/2,top:t-88,width:300,height:88}}),this.bannerAd.onLoad(()=>{console.log("XminigameSDK","BL banner\u52a0\u8f7d\u6210\u529f"),this.loadSucc_SystemBanner=!0,this.hasShowBanner&&this.showSystemBanner()}),this.bannerAd.onError(e=>{console.log("XminigameSDK","BL banner\u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e))}),this.bannerAd.onClose(()=>{console.log("XminigameSDK","BL banner\u88ab\u7528\u6237\u4e3b\u52a8\u5173\u95ed,",this.NUM_BannerUpdateTime+"S\u540e\u518d\u6b21\u5237\u65b0"),this.updateSystemBanner()})}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=bl.createRewardedVideoAd(),this.videoAd.onLoad(()=>{console.log("XminigameSDK","BL \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","BL \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u9519\u8bef:",JSON.stringify(e)),this.videoAd.destroy(),this.createVideo()}),this.videoAd.onClose(e=>{e.isEnded?(console.log("XminigameSDK","BL \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video(!0)):(console.log("XminigameSDK","BL \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video(!1)),this.loadSucc_Video=!1,this.videoAd.destroy(),this.createVideo()}),this.videoAd.load())}getChannelId(){return n.default.getChannelId()}showBanner(){this.loadSucc_Banner?this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&(this.showSystemBanner(),this.updateSystemBanner())):this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return!1}showInters(e){}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(this.callback_Video=e,console.log("XminigameSDK","BL showVideo========================"),this.videoAd.show(),this.loadSucc_Video=!1)}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){"long"==e?bl.vibrateLong({success(e){},fail(e){console.log("XminigameSDK","BL vibrateLong\u8c03\u7528\u5931\u8d25",JSON.stringify(e))}}):"short"==e&&bl.vibrateShort({success(e){},fail(e){console.log("XminigameSDK","BL vibrateShort\u8c03\u7528\u5931\u8d25",JSON.stringify(e))}})}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){e(null)}shareVideo(e,t,i,a,n){n(!1)}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","BL getUserData====================="),e({userId:o.default.getData("userId"),token:o.default.getData("token"),userType:o.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};bl.getUserInfo({success:i=>{console.log("XminigameSDK","BL \u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f",i),t.head=i.userInfo.avatarUrl,t.name=i.userInfo.nickname,t.country=i.userInfo.country,t.province=i.userInfo.province,t.city=i.userInfo.city,1==i.userInfo.gender?t.sex="M":2==i.userInfo.gender?t.sex="F":t.sex="0",t.power=!0,o.default.setData("avatarUrl",t.head),o.default.setData("nickName",t.name),o.default.setData("gender",t.sex),e(t)},fail:e=>{console.log("XminigameSDK","BL \u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",e),t.power=!1}})}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){e(!1)}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!1)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!1)}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.SW_SystemBanner&&this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","BL showSystemBanner========================"),this.hasShowBanner=!0,this.bannerAd.show())}updateSystemBanner(){this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{console.log("XminigameSDK","BL updateSystemBanner========================"),this.bannerAd.destroy(),this.bannerAd=null,this.createSystemBanner()},1e3*this.NUM_BannerUpdateTime)}hideSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","BL hideSystemBanner========================"),this.bannerAd.hide()),this.interval_updateBanner&&clearInterval(this.interval_updateBanner)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],BilibiliDTO:[function(e,t,i){"use strict";cc._RF.push(t,"a1047Na5xZOD6M3ci9Lg4iv","BilibiliDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e){this.js_code=e,this.nickName=a.default.getData("nickName"),this.avatar=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],BilibiliSDK:[function(e,t,i){"use strict";cc._RF.push(t,"f4b53NHDhlEOI37hPrK+vtL","BilibiliSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/BilibiliDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){this.startLogin()}startLogin(){bl.login({success:e=>{if(e.code){console.log("XminigameSDK","BL \u767b\u5f55\u6210\u529f",JSON.stringify(e));let t=new l.default(e.code);this.loginSucc(t)}else console.log("XminigameSDK","BL \u767b\u5f55\u5931\u8d25",JSON.stringify(e)),console.log("XminigameSDK","BL \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()},fail:e=>{console.log("XminigameSDK","BL \u767b\u5f55\u5931\u8d25",JSON.stringify(e)),console.log("XminigameSDK","BL \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/BilibiliDTO":"BilibiliDTO"}],BlankAd:[function(e,t,i){"use strict";cc._RF.push(t,"c3eaexRVOdLdLjMpfq6/Ivd","BlankAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/GetConfig"),n=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[]}createAd(){}startLoadPushGamaes(){}getChannelId(){return a.default.getChannelId()}showBanner(){}hideBanner(){}getIntersFlag(){return!1}showInters(e){}getVideoFlag(){return!0}showVideo(e,t){e(!0)}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){e(null)}shareVideo(e,t,i,a,n){n(!0)}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","getUserData====================="),e({userId:n.default.getData("userId"),token:n.default.getData("token"),userType:n.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","getUserInfo====================="),e({head:"",name:"",sex:"",city:"",province:"",country:"",power:!1})}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!0}showVideoInters(e){e(!0)}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!0)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!0)}getErrBannerFlag(){return!1}showErrBanner(e){e(!0)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!0,"")}payComplete(e){}},cc._RF.pop()},{"../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],BlankSDK:[function(e,t,i){"use strict";cc._RF.push(t,"a5bdfX9CwpNe671HZFb9s8H","BlankSDK"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{initAd(){}loginSucc(e){}loginFail(){}mustLogin(e){e(!0)}},cc._RF.pop()},{}],Button:[function(e,t,i){"use strict";cc._RF.push(t,"802f3oGnP9NMIP+ARw5zO1K","Button");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Manager/SoundsManager"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.targetNode=null,this.actionNode=null,this.inter=!0,this.blockEvent=!0,this.isColor=!1,this.normalColor=cc.color(255,255,255),this.pressedColor=cc.color(210,210,210),this.disabledColor=cc.color(124,124,124),this.durationColor=.05,this.isSprite=!1,this.normalSprite=null,this.pressedSprite=null,this.disabledSprite=null,this.isScale=!1,this.zoomScale=.9,this.durationScale=.05,this.startList=[],this.cancelList=[],this.endList=[],this.longList=[],this.longTime=0,this.startSound=null,this.endSound=null,this.tempTime=0,this.isTouch=!1}get interactable(){return this.inter}set interactable(e){this.inter=e,null!=this.actionNode&&(this.inter?this.isColor?this.actionNode.color=this.normalColor:this.isSprite?(this.actionNode.color=cc.Color.WHITE,this.actionNode.getComponent(cc.Sprite).spriteFrame=this.normalSprite):this.actionNode.scale=1:this.isColor?this.actionNode.color=this.disabledColor:this.isSprite?(this.actionNode.color=cc.Color.WHITE,this.actionNode.getComponent(cc.Sprite).spriteFrame=this.disabledSprite):this.actionNode.scale=1)}onLoad(){this.targetNode||(this.targetNode=this.node),this.actionNode||(this.actionNode=this.node),this.targetNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.targetNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.targetNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.blockEvent||this.targetNode._touchListener.setSwallowTouches(!1)}onDestroy(){this.targetNode.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.targetNode.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.targetNode.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.targetNode=null,this.actionNode=null}update(e){if(0!==this.longList.length&&0!==this.longTime&&this.isTouch&&(new Date).getTime()-this.tempTime>1e3*this.longTime)for(const t in this.longList)this.longList[t].emit([this.node,this.longList[t].customEventData])}onTouchStart(e){if(!this.interactable)return;this.isTouch=!0;const t=cc.tween(this.actionNode);this.isColor&&t.to(this.durationColor,{color:this.pressedColor}),this.isSprite&&(this.actionNode.getComponent(cc.Sprite).spriteFrame=this.pressedSprite),this.isScale&&t.to(this.durationScale,{scale:this.zoomScale}),(this.isColor||this.isScale)&&t.union().start(),this.longList.length>0&&this.longTime>0&&(this.tempTime=(new Date).getTime());for(const i in this.startList)this.startList[i].emit([this.node,this.startList[i].customEventData]);this.startSound&&n.soundsManager.playEffect(this.startSound),this.blockEvent&&e.stopPropagation()}onTouchEnd(e){if(!this.interactable||!this.isTouch)return;this.isTouch=!1;const t=cc.tween(this.actionNode);this.isColor&&t.to(this.durationColor,{color:this.normalColor}),this.isSprite&&(this.actionNode.getComponent(cc.Sprite).spriteFrame=this.normalSprite),this.isScale&&t.to(this.durationScale,{scale:1}),(this.isColor||this.isScale)&&t.union().start();for(const i in this.endList)this.endList[i].emit([this.node,this.endList[i].customEventData]);this.endSound&&n.soundsManager.playEffect(this.endSound),this.blockEvent&&e.stopPropagation()}onTouchCancel(e){if(!this.interactable||!this.isTouch)return;this.isTouch=!1;const t=cc.tween(this.actionNode);this.isColor&&t.to(this.durationColor,{color:this.normalColor}),this.isSprite&&(this.actionNode.getComponent(cc.Sprite).spriteFrame=this.normalSprite),this.isScale&&t.to(this.durationScale,{scale:1}),(this.isColor||this.isScale)&&t.union().start();for(const i in this.cancelList)this.cancelList[i].emit([this.node,this.cancelList[i].customEventData]);this.endSound&&n.soundsManager.playEffect(this.endSound),this.blockEvent&&e.stopPropagation()}};a([s({type:cc.Node,tooltip:"\u70b9\u51fb\u4e8b\u4ef6\u76ee\u6807\u8282\u70b9\uff0c\u4e0d\u8bbe\u7f6e\u5219\u4e3a\u811a\u672c\u6240\u5728\u8282\u70b9"})],h.prototype,"targetNode",void 0),a([s({type:cc.Node,tooltip:"\u6548\u679c\u663e\u793a\u76ee\u6807\u8282\u70b9\uff0c\u4e0d\u8bbe\u7f6e\u5219\u4e3a\u811a\u672c\u6240\u5728\u8282\u70b9"})],h.prototype,"actionNode",void 0),a([s({tooltip:"\u6309\u94ae\u4e8b\u4ef6\u662f\u5426\u88ab\u54cd\u5e94\uff0c\u5982\u679c\u4e3a false\uff0c\u5219\u6309\u94ae\u5c06\u88ab\u7981\u7528\u3002"})],h.prototype,"interactable",null),a([s({tooltip:"\u662f\u5426\u622a\u65ad\u70b9\u51fb\u4e8b\u4ef6(\u5173\u95ed\u4f1a\u6709\u70b9\u51fb\u7a7f\u900f)\uff0c\u9700\u8981\u6ce8\u610f\u5173\u95ed\u6b64\u9009\u9879\u540e\u82e5\u6709\u5f15\u64ce\u81ea\u5e26\u7ec4\u4ef6\u4e2d\u7684Button\u6216InputEventBlock\u548c\u6b64\u8282\u70b9\u91cd\u53e0\uff0c\u5219\u4f1a\u5bfc\u81f4\u70b9\u51fb\u7a7f\u900f\u5931\u6548"})],h.prototype,"blockEvent",void 0),a([s({tooltip:"\u4f7f\u7528\u989c\u8272\u52a8\u753b"})],h.prototype,"isColor",void 0),a([s({displayName:"Normal",visible:function(){return this.isColor},tooltip:"\u666e\u901a\u72b6\u6001\u7684\u6309\u94ae\u989c\u8272"})],h.prototype,"normalColor",void 0),a([s({displayName:"Pressed",visible:function(){return this.isColor},tooltip:"\u6309\u4e0b\u72b6\u6001\u7684\u6309\u94ae\u989c\u8272"})],h.prototype,"pressedColor",void 0),a([s({displayName:"Disabled",visible:function(){return this.isColor},tooltip:"\u7981\u7528\u72b6\u6001\u7684\u6309\u94ae\u989c\u8272"})],h.prototype,"disabledColor",void 0),a([s({displayName:"Duration",visible:function(){return this.isColor},tooltip:"\u989c\u8272\u6539\u53d8\u6240\u9700\u65f6\u95f4"})],h.prototype,"durationColor",void 0),a([s({tooltip:"\u4f7f\u7528Sprite\u52a8\u753b"})],h.prototype,"isSprite",void 0),a([s({type:cc.SpriteFrame,displayName:"Normal",visible:function(){return this.isSprite},tooltip:"\u666e\u901a\u72b6\u6001\u7684\u6309\u94aeSpriteFrame"})],h.prototype,"normalSprite",void 0),a([s({type:cc.SpriteFrame,displayName:"Pressed",visible:function(){return this.isSprite},tooltip:"\u6309\u4e0b\u72b6\u6001\u7684\u6309\u94aeSpriteFrame"})],h.prototype,"pressedSprite",void 0),a([s({type:cc.SpriteFrame,displayName:"Disabled",visible:function(){return this.isSprite},tooltip:"\u7981\u7528\u72b6\u6001\u7684\u6309\u94aeSpriteFrame"})],h.prototype,"disabledSprite",void 0),a([s({tooltip:"\u4f7f\u7528\u7f29\u653e\u52a8\u753b"})],h.prototype,"isScale",void 0),a([s({displayName:"Scale",visible:function(){return this.isScale},tooltip:"\u76ee\u6807\u7f29\u653e\u500d\u6570"})],h.prototype,"zoomScale",void 0),a([s({displayName:"Duration",visible:function(){return this.isScale},tooltip:"\u7f29\u653e\u52a8\u753b\u65f6\u95f4"})],h.prototype,"durationScale",void 0),a([s({type:cc.Component.EventHandler,tooltip:"\u6309\u4e0b\u4e8b\u4ef6"})],h.prototype,"startList",void 0),a([s({type:cc.Component.EventHandler,tooltip:"\u53d6\u6d88\u4e8b\u4ef6"})],h.prototype,"cancelList",void 0),a([s({type:cc.Component.EventHandler,tooltip:"\u62ac\u8d77\u4e8b\u4ef6"})],h.prototype,"endList",void 0),a([s({type:cc.Component.EventHandler,tooltip:"\u957f\u6309\u4e8b\u4ef6"})],h.prototype,"longList",void 0),a([s({tooltip:"\u89e6\u53d1\u957f\u6309\u6240\u9700\u65f6\u95f4"})],h.prototype,"longTime",void 0),a([s({type:cc.AudioClip,tooltip:"\u6309\u4e0b\u6309\u94ae\u7684\u58f0\u97f3"})],h.prototype,"startSound",void 0),a([s({type:cc.AudioClip,tooltip:"\u677e\u5f00\u6309\u94ae\u7684\u58f0\u97f3"})],h.prototype,"endSound",void 0),h=a([o,r("LibTool/Component/Button"),l()],h),i.default=h,cc._RF.pop()},{"./Manager/SoundsManager":"SoundsManager"}],CTSignInView:[function(e,t,i){"use strict";cc._RF.push(t,"d33dbjeiG5Bd7yHVWACWzXB","CTSignInView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Effect/CoinEffect"),o=e("../LibTool/Manager/ArchiveManager"),s=e("../LibTool/Manager/LanguageManager"),r=e("../LibTool/Manager/SDKManager"),l=e("../LibTool/Manager/SoundsManager"),h=e("../LibTool/Manager/ViewManager"),c=e("../LibTool/tools"),d=e("../LibTool/View/SignInView"),g=e("../Manager/AssetsManager"),u=e("./CoinView"),m=e("./HomeView"),p=e("./RoleView"),{ccclass:v,property:S}=cc._decorator;let f=class extends d.default{constructor(){super(...arguments),this._viewName="CTSignInView",this._layout=1,this.againBtn=null,this.getRoleNode=null,this.coin=null,this._config=[]}onLoad(){super.onLoad(),g.default.loadJson("SignIn").then(e=>{"string"==typeof e.json?this._config=JSON.parse(e.json):this._config=e.json}),this.againBtn.active=!1}start(){this.getRoleNode.active=!1}openView(){super.openView(),r.default.reportEvent("Inter_Event",{Inter_SignIn:1})}onTouchGet(){super.onTouchGet(),this.isAnimation||7!=this.nowDay&&(this.againBtn.active=!0,this.againBtn.scale=0,cc.tween(this.againBtn).to(.3,{scale:1},{easing:cc.easing.backOut}).start(),r.default.reportEvent("Touch_Event",{Touch_SignInGet:1}))}onTouchDouble(){super.onTouchDouble(),r.default.reportEvent("AdTouch_Event",{AdTouch_SignInDouble:1})}onTouchAgain(){this.isAnimation||(r.default.reportEvent("AdTouch_Event",{AdTouch_SignInAgain:1}),r.default.showRewardVideo(e=>{1===e?(o.archiveManager.signDay-=1,o.archiveManager.setSignDay(o.archiveManager.signDay+1),this.getReward(),this.againBtn.active=!1):2===e?c.default.showToast(s.languageManager.getLan("7"),.5,"UI"):c.default.showToast(s.languageManager.getLan("5"),.5,"UI")}))}getReward(){this.hasReward=!1,h.viewManager.getView("HomeView",m.default).updateRedPoint();const e=this._config[this.nowDay-1];switch(e.reward){case"\u91d1\u5e01":const t=h.viewManager.getView("CoinView",u.default),i=c.default.convertToNodeSpace(t.coinNode.getPosition(),t.coinNode,n.coinEffect.node),a=o.archiveManager.coin;g.default.loadSound("outCoin").then(e=>{l.soundsManager.playEffect(e)}),n.coinEffect.ShowCoinFlyByNode(this.coin,cc.v2(0,100),i,Number(e.count),e=>{o.archiveManager.coin+=e,g.default.loadSound("coin").then(e=>{l.soundsManager.playEffect(e)})},()=>{o.archiveManager.coin=a+Number(e.count)});break;case"\u82f1\u96c4":this.getRoleNode.active=!0,this.getRoleNode.scale=0,h.viewManager.getView("RoleView",p.default).unlockSkin(e.count),cc.tween(this.getRoleNode).to(.3,{scale:1},{easing:cc.easing.backOut}).delay(1).to(.3,{scale:0},{easing:cc.easing.sineIn}).call(()=>{this.getRoleNode.active=!1}).start()}}};a([S(cc.Node)],f.prototype,"againBtn",void 0),a([S(cc.Node)],f.prototype,"getRoleNode",void 0),a([S(cc.Node)],f.prototype,"coin",void 0),f=a([v],f),i.default=f,cc._RF.pop()},{"../LibTool/Effect/CoinEffect":"CoinEffect","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/View/SignInView":"SignInView","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager","./CoinView":"CoinView","./HomeView":"HomeView","./RoleView":"RoleView"}],CardSelectionView:[function(e,t,i){"use strict";cc._RF.push(t,"12ce9xWWjhEKpf7cDVG/q7i","CardSelectionView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Card"),o=e("../LibTool/Component/Base/ViewBase"),s=e("../LibTool/Manager/SDKManager"),r=e("../LibTool/Manager/SkillManager"),l=e("../LibTool/Manager/ViewManager"),h=e("../LibTool/tools"),c=e("./GameView"),{ccclass:d,property:g}=cc._decorator;let u=class extends o.default{constructor(){super(...arguments),this._layout=2,this._viewName="CardSelectionView",this.cardNode=null,this.card=null,this.cardList=[],this.data=[]}openView(){var e;super.openView(),this.data=r.skillManager.getRandomSkill();for(const t in this.data){if((null===(e=this.cardList)||void 0===e?void 0:e.length)<3){let e=cc.instantiate(this.card.node);e.setParent(this.cardNode),e.active=!0;let i=e.getComponent(n.default);i.initialize(this.data[t]),this.cardList.push(i)}else this.cardList[t].node.active=!0,this.cardList[t].initialize(this.data[t]);cc.Tween.stopAllByTarget(this.cardList[t].node),this.cardList[t].node.x=220*Number(t)-220,this.cardList[t].node.scaleX=1,this.cardList[t].isActive=!1}this.unschedule(this.firstMove),this.scheduleOnce(this.firstMove,1.4),s.default.reportEvent("Show_Event",{Show_CardSelection:1})}firstMove(){for(let e=0;e<this.cardList.length;e++){const t=this.cardList[e];t.hide(()=>{cc.tween(t.node).to(.3,{x:0},{easing:cc.easing.sineOut}).call(()=>{e==this.cardList.length-1&&this.random()}).start()})}}random(){let e=[0,1,2];e=h.default.randomArray(e);for(let t=0;t<e.length;t++){const i=this.cardList[e[t]];i.node.x=0;const a=(i.node.width+20)*(Number(t)-this.cardList.length/2)+(i.node.width+20)/2;cc.tween(i.node).to(.3,{x:a},{easing:cc.easing.sineOut}).call(()=>{i.isActive=!0}).start()}}getSkill(e){r.skillManager.addSkill(e.eventId,e.nameCN),l.viewManager.getView("GameView",c.default).updateSkill(),this.closeView(),s.default.reportEvent("AdTouch_Event",{AdTouch_Card:1})}onTouchGiveUp(){this.closeView(),s.default.reportEvent("Touch_Event",{Touch_GiveUpCard:1})}};a([g(cc.Node)],u.prototype,"cardNode",void 0),a([g(n.default)],u.prototype,"card",void 0),u=a([d],u),i.default=u,cc._RF.pop()},{"../Component/Card":"Card","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SkillManager":"SkillManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","./GameView":"GameView"}],Card:[function(e,t,i){"use strict";cc._RF.push(t,"61ae4/YrjlNC5LTritkzuV7","Card");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/LanguageManager"),o=e("../LibTool/Manager/SDKManager"),s=e("../LibTool/Manager/ViewManager"),r=e("../LibTool/tools"),l=e("../Manager/AssetsManager"),{ccclass:h,property:c}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.cardB=null,this.cardF=null,this.item=null,this.data=null,this.isActive=!1}initialize(e){this.cardB.active=!1,this.cardF.active=!0,this.item.node.active=!0,this.data=e,l.default.loadSprite(e.icon).then(e=>{this.item.spriteFrame=e})}hide(e){cc.tween(this.node).to(.3,{scaleX:0},{easing:cc.easing.sineIn}).call(()=>{this.cardB.active=!0,this.cardF.active=!1,this.item.node.active=!1}).to(.3,{scaleX:1},{easing:cc.easing.sineOut}).call(e).start()}flip(e){cc.tween(this.node).to(.3,{scaleX:0},{easing:cc.easing.sineIn}).call(()=>{this.cardB.active=!1,this.cardF.active=!0,this.item.node.active=!0}).to(.3,{scaleX:1},{easing:cc.easing.sineOut}).to(.15,{scale:1.2},{easing:cc.easing.sineOut}).to(.15,{scale:1},{easing:cc.easing.sineIn}).delay(.2).call(e).start()}onTouch(){this.isActive&&o.default.showRewardVideo(e=>{1===e?this.flip(()=>{s.viewManager.getView("CardSelectionView").getSkill(this.data)}):2===e?r.default.showToast(n.languageManager.getLan("7"),.5,"UI"):r.default.showToast(n.languageManager.getLan("5"),.5,"UI")})}};a([c(cc.Node)],d.prototype,"cardB",void 0),a([c(cc.Node)],d.prototype,"cardF",void 0),a([c(cc.Sprite)],d.prototype,"item",void 0),d=a([h],d),i.default=d,cc._RF.pop()},{"../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager"}],CheckConfig:[function(e,t,i){"use strict";cc._RF.push(t,"ee6e1Ky/uRH5Kbp8wuDFPQN","CheckConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{static stringHasSpace(e){return null==e||-1!=e.indexOf(" ")}},cc._RF.pop()},{}],ChooseView:[function(e,t,i){"use strict";cc._RF.push(t,"4eec7ERHudJbqVnUdKeVvHp","ChooseView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Choose"),o=e("../LibTool/Component/Base/ViewBase"),s=e("../LibTool/Manager/LanguageManager"),r=e("../LibTool/Manager/SDKManager"),l=e("../LibTool/Manager/SkillManager"),h=e("../LibTool/Manager/ViewManager"),c=e("../LibTool/tools"),d=e("./GameView"),{ccclass:g,property:u}=cc._decorator;let m=class extends o.default{constructor(){super(...arguments),this._viewName="ChooseView",this._layout=2,this.skill=null,this.skillNode=null,this.skillInfo=null,this.getNode=null,this.skillList=[],this.data=[],this.nowSKill=null}openView(){super.openView(),this.initialize(),r.default.reportEvent("Show_Event",{Show_Choose:1})}closeView(){super.closeView();for(const e in this.skillList)this.skillList[e].select.active=!1,this.skillList[e].node.active=!1}initialize(){var e;this.nowSKill="",this.skillInfo.string="",this.data=l.skillManager.getRandomSkill(),this.getNode.active=!1;for(const t in this.data)if((null===(e=this.skillList)||void 0===e?void 0:e.length)<3){let e=cc.instantiate(this.skill.node);e.setParent(this.skillNode),e.active=!0,e.x=(e.width+20)*(Number(t)-this.data.length/2)+(e.width+20)/2;let i=e.getComponent(n.default);i.initialize(this.data[t]),this.skillList.push(i)}else this.skillList[t].node.active=!0,this.skillList[t].initialize(this.data[t]);this.chooseSkill(this.skillList[1])}chooseSkill(e){this.getNode.active=!0;for(const t in this.data)this.data[t].nameCN==e.data.nameCN&&("zh"==s.languageManager.getLanType()?this.skillInfo.string=this.data[t].infoCN:this.skillInfo.string=this.data[t].infoEN,this.nowSKill=e.data);for(const t in this.skillList)this.skillList[t].select.active=this.skillList[t]==e}onTouchGet(){this.closeView(),l.skillManager.addSkill(this.nowSKill.eventId,this.nowSKill.nameCN),h.viewManager.getView("GameView",d.default).updateSkill(),r.default.reportEvent("Touch_Event",{Touch_SkillGet:1})}onTouchGetAll(){r.default.reportEvent("AdTouch_Event",{AdTouch_SkillGetAll:1}),r.default.showRewardVideo(e=>{if(1===e){for(let e=0;e<this.data.length;e++){const t=this.data[e];l.skillManager.addSkill(t.eventId,t.nameCN)}h.viewManager.getView("GameView",d.default).updateSkill(),this.closeView()}else 2===e?c.default.showToast(s.languageManager.getLan("7"),.5,"UI"):c.default.showToast(s.languageManager.getLan("5"),.5,"UI")})}};a([u(n.default)],m.prototype,"skill",void 0),a([u(cc.Node)],m.prototype,"skillNode",void 0),a([u(cc.Label)],m.prototype,"skillInfo",void 0),a([u(cc.Node)],m.prototype,"getNode",void 0),m=a([g],m),i.default=m,cc._RF.pop()},{"../Component/Choose":"Choose","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SkillManager":"SkillManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","./GameView":"GameView"}],Choose:[function(e,t,i){"use strict";cc._RF.push(t,"46cf1zRHoBNw7tfpnCPJYMf","Choose");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/ViewManager"),o=e("../Manager/AssetsManager"),{ccclass:s,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.select=null,this.icon=null,this.data=null}initialize(e){this.data=e,this.icon.spriteFrame=null,this.select.active=!1,o.default.loadSprite(e.icon).then(e=>{this.icon.spriteFrame=e})}onTouch(){n.viewManager.getView("ChooseView").chooseSkill(this)}};a([r(cc.Node)],l.prototype,"select",void 0),a([r(cc.Sprite)],l.prototype,"icon",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../LibTool/Manager/ViewManager":"ViewManager","../Manager/AssetsManager":"AssetsManager"}],Cleave:[function(e,t,i){"use strict";cc._RF.push(t,"ee766b4JYRHa5imwRdr6mmq","Cleave");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase"),{ccclass:l,property:h}=cc._decorator;let c=class extends r.default{eval(e,t,i,a){super.eval(e,t,i,a);let r=Math.random()<this.damage*this.level;return r&&setTimeout(()=>{for(const a in i)Number(a)!=t&&i[a].subCost(e.cost);const r=e.node.parent.convertToWorldSpaceAR(e.node.position);n.aeManager.playEffect(cc.v2(r.x-10,r.y-30),this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)}),a&&a()},300),r}};c.skillName="\u987a\u5288",c=a([l],c),i.default=c,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],CoinEffect:[function(e,t,i){"use strict";cc._RF.push(t,"057364WoXVHxrALXrM1B5ca","CoinEffect");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.coinEffect=void 0;const n=e("../Delegate"),o=e("../Tween/Base/TweenBase"),s=e("../Tween/TweenBezier");var r;(function(e){e[e.DIFFUSION=0]="DIFFUSION",e[e.BEZIER=1]="BEZIER"})(r||(r={}));const{ccclass:l,property:h,menu:c,disallowMultiple:d}=cc._decorator;let g=class extends cc.Component{constructor(){super(...arguments),this.moveType=r.DIFFUSION,this.isAfter=!1,this.afterImage=null,this.isTailing=!1,this.tailingTexture=null,this.tailingColor=cc.Color.WHITE,this.tailingLength=1,this.tailingWidth=1,this.tailing=null,this.coinPool=new Map}onLoad(){i.coinEffect=this}onDestroy(){i.coinEffect=null}ShowCoinFlyByNode(e,t,i,a=0,n,o,s,l,h){switch(null!=s&&(this.moveType=s),null!=l&&(this.isTailing=l),null!=h&&(this.isAfter=h),this.moveType){case r.DIFFUSION:this.diffusion(e,t,i,a,n,o);break;case r.BEZIER:this.bezier(e,t,i,o)}}diffusion(e,t,i,a,o,s){var r,l;let h=20;a>0&&a<h&&(h=a);const c=[];for(let n=0;n<h;n++){let i=this.coinPool.get(e.name);i||(i=[]);const a=i.shift();this.coinPool.set(e.name,i);const n=null!=a?a:cc.instantiate(e);n.active=!0,this.tailing=null===(r=n.getChildByName("tailing"))||void 0===r?void 0:r.getComponent(cc.MotionStreak),null!=this.tailing&&(this.isTailing?(this.tailing.texture=this.tailingTexture,this.tailing.color=this.tailingColor,this.tailing.fadeTime=this.tailingLength,this.tailing.stroke=this.tailingWidth,this.tailing.node.active=!0):this.tailing.node.active=!1),this.afterImage=null===(l=n.getChildByName("after"))||void 0===l?void 0:l.getComponent(cc.ParticleSystem),null!=this.afterImage&&(this.isAfter?(this.afterImage.resetSystem(),this.afterImage.node.opacity=0,this.scheduleOnce(()=>{this.afterImage.node.opacity=255}),this.afterImage.node.active=!0):this.afterImage.node.active=!1),n.setPosition(t),n.setParent(this.node),c.push(n)}let d=a;for(const g in c)this.scheduleOnce(()=>{const r=Number(g)===c.length-1?d:Math.floor(a/h);d-=Math.floor(a/h);const l=cc.v3(t.x+200*Math.random()-100,t.y+200*Math.random()-100);c[g].opacity=255;const u=n.Delegate.Create(this,()=>{o&&o(r),cc.tween(c[g]).to(.2,{opacity:0}).call(()=>{c[g].active=!1;let t=this.coinPool.get(e.name);t||(t=[]),t.push(c[g]),this.coinPool.set(e.name,t)}).start(),Number(g)===c.length-1&&s&&s()}),m=n.Delegate.Create(this,()=>{cc.tween(c[g]).to(.5+.2*Math.random(),{position:i},{easing:cc.easing.sineIn}).call(()=>{u.CallOnce()}).start()});c[g].setPosition(t),cc.tween(c[g]).to(.5+.2*Math.random(),{position:l},{easing:cc.easing.sineOut}).call(()=>{m.CallOnce()}).start()},.02*Number(g))}bezier(e,t,i,a){var r,l;let h=this.coinPool.get(e.name);h||(h=[]);const c=h.shift();this.coinPool.set(e.name,h);const d=null!=c?c:cc.instantiate(e);d.active=!0,this.tailing=null===(r=d.getChildByName("tailing"))||void 0===r?void 0:r.getComponent(cc.MotionStreak),null!=this.tailing&&(this.isTailing?(this.tailing.texture=this.tailingTexture,this.tailing.color=this.tailingColor,this.tailing.fadeTime=this.tailingLength,this.tailing.stroke=this.tailingWidth,this.tailing.node.active=!0):this.tailing.node.active=!1),this.afterImage=null===(l=d.getChildByName("after"))||void 0===l?void 0:l.getComponent(cc.ParticleSystem),null!=this.afterImage&&(this.isAfter?(this.afterImage.resetSystem(),this.afterImage.node.opacity=0,this.scheduleOnce(()=>{this.afterImage.node.opacity=255}),this.afterImage.node.active=!0):this.afterImage.node.active=!1),d.setPosition(t),d.setParent(this.node);let g=d.getComponent(s.default);null==g&&(g=d.addComponent(s.default)),g.node.opacity=255;const u=n.Delegate.Create(this,()=>{a&&a(),cc.tween(g.node).to(.2,{opacity:0}).call(()=>{g.node.active=!1;let t=this.coinPool.get(e.name);t||(t=[]),t.push(g.node),this.coinPool.set(e.name,t)}).start()});g.setDuration(.9+.2*Math.random()).setEasingType(o.EasingType.SineOut).setFinishCallback(u).playToPosByAngle(t,i,360*Math.random())}};a([h({type:cc.Enum(r),tooltip:"\u79fb\u52a8\u7c7b\u578b\r\n  DIFFUSION:\u6563\u5f00\u540e\u76f4\u7ebf\u98de\u5411\u76ee\u6807\u70b9\r\n  BEZIER:\u5355\u4e2a\u91d1\u5e01\u66f2\u7ebf\u98de\u5411\u76ee\u6807\u70b9"})],g.prototype,"moveType",void 0),a([h({tooltip:"\u662f\u5426\u5f00\u542f\u6b8b\u5f71"})],g.prototype,"isAfter",void 0),a([h({tooltip:"\u662f\u5426\u5f00\u542f\u62d6\u5c3e"})],g.prototype,"isTailing",void 0),a([h({type:cc.Texture2D,visible:function(){return this.isTailing},tooltip:"\u62d6\u5c3e\u8d34\u56fe"})],g.prototype,"tailingTexture",void 0),a([h({tooltip:"\u62d6\u5c3e\u989c\u8272",visible:function(){return this.isTailing}})],g.prototype,"tailingColor",void 0),a([h({tooltip:"\u62d6\u5c3e\u957f\u5ea6",visible:function(){return this.isTailing}})],g.prototype,"tailingLength",void 0),a([h({tooltip:"\u62d6\u5c3e\u5bbd\u5ea6",visible:function(){return this.isTailing}})],g.prototype,"tailingWidth",void 0),g=a([l,c("LibTool/Component/CoinEffect")],g),i.default=g,i.coinEffect=null,cc._RF.pop()},{"../Delegate":"Delegate","../Tween/Base/TweenBase":"TweenBase","../Tween/TweenBezier":"TweenBezier"}],CoinFallEffect:[function(e,t,i){"use strict";cc._RF.push(t,"8bf0bpwFctKwLuMdXcnYJFh","CoinFallEffect");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.coinFallEffect=void 0;const{ccclass:n,property:o,menu:s}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.coinNode=null,this.gravity=10,this.nodeList=[],this.nodePool=[],this.speedList=[]}onLoad(){i.coinFallEffect=this}onDestroy(){i.coinFallEffect=null}update(e){for(const t in this.nodeList){const i=this.nodeList[t];if(this.speedList[t].y-=this.gravity*e,i.y<=-this.node.height/2+i.height/2&&this.speedList[t].y<0){if(Math.abs(this.speedList[t].y)<=5){this.nodeList.splice(Number(t),1),this.speedList.splice(Number(t),1),i.active=!1,this.nodePool.push(i);break}this.speedList[t].y*=-.5}i.y+=this.speedList[t].y,i.x+=this.speedList[t].x}}showCoin(e,t=1){for(let i=0;i<t;i++)this.scheduleOnce(()=>{let t=this.nodePool.shift();t||(t=cc.instantiate(this.coinNode)).setParent(this.node),t.active=!0,t.setPosition(e),this.nodeList.push(t);const i=10*Math.random()-5;this.speedList.push(cc.v2(i,0))},.05*i)}clear(){for(const e in this.nodeList)this.nodeList[e].active=!1,this.nodePool.push(this.nodeList[e]);this.speedList=[],this.nodeList=[]}};a([o(cc.Node)],r.prototype,"coinNode",void 0),a([o],r.prototype,"gravity",void 0),r=a([n,s("LibTool/Component/CoinFallEffect")],r),i.default=r,i.coinFallEffect=null,cc._RF.pop()},{}],CoinView:[function(e,t,i){"use strict";cc._RF.push(t,"d915eIzBzlHWpjnqFjCF/xe","CoinView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Delegate"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/EventManager"),l=e("../LibTool/Manager/SDKManager"),h=e("../LibTool/Manager/ViewManager"),{ccclass:c,property:d}=cc._decorator;let g=class extends n.default{constructor(){super(...arguments),this._layout=3,this._viewName="CoinView",this.coin=null,this.coinNode=null,this.callback=o.Delegate.Create(this,this.updateCoin)}onLoad(){super.onLoad(),this.openView(),r.eventManager.on("updateCoin",this.callback),this.updateCoin(s.archiveManager.coin)}onDestroy(){super.onDestroy(),r.eventManager.off("updateCoin",this.callback)}updateCoin(e){this.coin.string=e+""}onTouchCoin(){h.viewManager.openView("FreeCoinView"),l.default.reportEvent("Touch_Event",{Touch_FreeCoin:1})}};a([d(cc.Label)],g.prototype,"coin",void 0),a([d(cc.Node)],g.prototype,"coinNode",void 0),g=a([c],g),i.default=g,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Delegate":"Delegate","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/EventManager":"EventManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/ViewManager":"ViewManager"}],Config:[function(e,t,i){"use strict";cc._RF.push(t,"13cfeL6gk9Nh7Ez485UgMin","Config");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.config=void 0;const n=e("./LibTool/Manager/SDKManager"),{ccclass:o,property:s}=cc._decorator;var r;(function(e){e[e.TEST=0]="TEST",e[e.ANDROID=1]="ANDROID",e[e.IOS=2]="IOS",e[e.WX=3]="WX",e[e.DOUYIN=4]="DOUYIN",e[e.VIVO=5]="VIVO",e[e.OPPO=6]="OPPO",e[e.HUAWEI=8]="HUAWEI"})(r||(r={}));let l=class extends cc.Component{constructor(){super(...arguments),this.channel=r.TEST,this.channelList=["0","1234666","1234888","5631161","5631154","5631108","5631142"],this.isMI=!1}onLoad(){cc.game.addPersistRootNode(this.node),i.config=this;let e=null;this.channel,r.HUAWEI,n.default.initialize(this.channelList[this.channel]),n.default.setGroup("UI")}};a([s({type:cc.Enum(r)})],l.prototype,"channel",void 0),a([s({visible:function(){return"1234666"==this.channelList[this.channel]}})],l.prototype,"isMI",void 0),l=a([o],l),i.default=l,i.config=null,cc._RF.pop()},{"./LibTool/Manager/SDKManager":"SDKManager"}],CopyrightNoticeView:[function(e,t,i){"use strict";cc._RF.push(t,"fbde9BBJVBNoYEMjgyzliMb","CopyrightNoticeView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Base/ViewBase"),{ccclass:o,property:s}=cc._decorator;let r=class extends n.default{constructor(){super(...arguments),this._layout=6,this._viewName="CopyrightNoticeView"}onTouchClose(){this.closeView()}};r=a([o],r),i.default=r,cc._RF.pop()},{"../Component/Base/ViewBase":"ViewBase"}],Cripple:[function(e,t,i){"use strict";cc._RF.push(t,"b52feN5XodKdq6yUYZWvqxw","Cripple");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase"),{ccclass:l,property:h}=cc._decorator;let c=class extends r.default{eval(e,t,i,a){super.eval(e,t,i,a),i[t].subCost(this.damage*this.level*e.cost);const r=i[t].node.parent.convertToWorldSpaceAR(i[t].node.position);return n.aeManager.playEffect(cc.v2(r.x,r.y-50),this.effect),e.playSkill(this.animation,this.icon,a),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)}),a&&a(),!0}};c.skillName="\u6b8b\u5e9f",c=a([l],c),i.default=c,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],DataManager:[function(e,t,i){"use strict";cc._RF.push(t,"55e24Q2ntFAFJEzaORGN0WS","DataManager"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../Delegate"),n=e("./LoadAssetsManager"),o=e("./Logger");i.default=class{static initialize(e,t){o.logger.info("Start loading configuration files..."),n.loadAssetsManager.loadBundleAllAsset("Bundle","/Config/",cc.JsonAsset,a.Delegate.Create(this,t=>{null!=e&&e.Call(t)}),a.Delegate.Create(this,e=>{this.initializeListByAsset(e),t&&t.Call()}))}static initializeListByAsset(e){}static initializeListData(e,t,i){const a=e.json;for(const n in a){const s=new i(a[n]);null!=s.id?t.set(s.id,s):o.logger.warning("Init "+e.name+" Data "+n+" Failed: "+a[n])}}},cc._RF.pop()},{"../Delegate":"Delegate","./LoadAssetsManager":"LoadAssetsManager","./Logger":"Logger"}],Delegate:[function(e,t,i){"use strict";cc._RF.push(t,"eab5dhCnNZDpoCawTbqAU2N","Delegate"),Object.defineProperty(i,"__esModule",{value:!0}),i.Delegate=void 0;class a{constructor(){this.OnDelegate=[],this.thisObjects=[],this.OnDelegate=[],this.thisObjects=[]}Call(...e){if(this.OnDelegate)for(const t in this.OnDelegate)1==(null==e?void 0:e.length)?this.OnDelegate[t].call(this.thisObjects[t],e[0]):this.OnDelegate[t].call(this.thisObjects[t],e)}CallOnce(...e){if(this.OnDelegate){const t=this.OnDelegate,i=this.thisObjects;this.OnDelegate=[],this.thisObjects=[];for(const a in t)1==(null==e?void 0:e.length)?t[a].call(i[a],e[0]):t[a].call(i[a],e)}}addDelegate(e,t){this.OnDelegate.push(t),this.thisObjects.push(e)}removeDelegate(e,t){if(e&&t){for(const i in this.OnDelegate)if(this.OnDelegate[i]===t&&this.thisObjects[i]===e){this.OnDelegate.splice(Number(i),1),this.thisObjects.splice(Number(i),1);break}}else this.OnDelegate=[],this.thisObjects=[]}static Create(e,t){const i=new a;return i.thisObjects.push(e),i.OnDelegate.push(t),i}}i.Delegate=a,cc._RF.pop()},{}],DemonView:[function(e,t,i){"use strict";cc._RF.push(t,"3e4994Fyp5NA4EbFEmejXF7","DemonView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Button"),o=e("../LibTool/Component/Base/ViewBase"),s=e("../LibTool/tools"),r=e("../Manager/MapManager"),{ccclass:l,property:h}=cc._decorator;let c=class extends o.default{constructor(){super(...arguments),this._viewName="DemonView",this._layout=2,this.cards=[]}openView(){super.openView(),this.initialize()}initialize(){for(let e=0;e<this.cards.length;e++){const t=this.cards[e];t.getComponent(n.default).interactable=!1,cc.Tween.stopAllByTarget(t),t.scaleX=1,t.x=t.width*(Number(e)-this.cards.length/2)+t.width/2,t.getChildByName("demonCard").active=!1,t.getChildByName("b").active=!1,t.getChildByName("f").active=!0,t.getChildByName("icon").active=!0}this.unschedule(this.hide),this.scheduleOnce(this.hide,1.4)}hide(){for(let e=0;e<this.cards.length;e++){const t=this.cards[e];cc.tween(t).to(.2,{scaleX:0},{easing:cc.easing.sineIn}).call(()=>{t.getChildByName("demonCard").active=!0,t.getChildByName("b").active=!0,t.getChildByName("f").active=!1,t.getChildByName("icon").active=!1}).to(.2,{scaleX:1},{easing:cc.easing.sineOut}).to(.3,{x:0},{easing:cc.easing.sineOut}).call(()=>{e==this.cards.length-1&&this.random()}).start()}}random(){let e=[0,1,2];e=s.default.randomArray(e);for(let t=0;t<e.length;t++){const i=this.cards[e[t]];i.x=0;const a=i.width*(Number(t)-this.cards.length/2)+i.width/2;cc.tween(i).to(.3,{x:a},{easing:cc.easing.sineOut}).call(()=>{i.getComponent(n.default).interactable=!0,cc.tween(i).to(1,{scale:1.1},{easing:cc.easing.sineInOut}).to(1,{scale:1},{easing:cc.easing.sineInOut}).union().repeatForever().start()}).start()}}onTouch(e){cc.tween(e).to(.2,{scaleX:0},{easing:cc.easing.sineIn}).call(()=>{e.getChildByName("demonCard").active=!1,e.getChildByName("b").active=!1,e.getChildByName("f").active=!0,e.getChildByName("icon").active=!0}).to(.2,{scaleX:1},{easing:cc.easing.sineOut}).delay(1).call(()=>{switch(e.name){case"card1":r.mapManager.badCard();break;case"card2":r.mapManager.goodCard();break;case"card3":r.mapManager.normalCard()}this.closeView()}).start()}};a([h(cc.Node)],c.prototype,"cards",void 0),c=a([l],c),i.default=c,cc._RF.pop()},{"../LibTool/Button":"Button","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/tools":"tools","../Manager/MapManager":"MapManager"}],Dodge:[function(e,t,i){"use strict";cc._RF.push(t,"90782mPqh9K5baeLYrs8vlw","Dodge");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Component/Base/SkillBase"),{ccclass:o,property:s}=cc._decorator;let r=class extends n.default{eval(e,t,i,a){super.eval(e,t,i,a);let n=Math.random()<this.damage;return n&&a&&a(),n}};r.skillName="\u95ea\u907f",r=a([o],r),i.default=r,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase"}],DoubleUse:[function(e,t,i){"use strict";cc._RF.push(t,"70856avNl5IlpEfaJYSntDx","DoubleUse"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Component/Base/SkillBase");class n extends a.default{eval(e,t,i,a){super.eval(e,t,i,a);let n=Math.random()<this.damage;return a&&a(n),n}}i.default=n,n.skillName="\u53cc\u53d1",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase"}],EffectComponent:[function(e,t,i){"use strict";cc._RF.push(t,"65b3fLCHw1Lv6X+0JjXiiKN","EffectComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:o,menu:s}=cc._decorator;var r;(function(e){e[e.ANIMATION=0]="ANIMATION",e[e.SPINE=1]="SPINE"})(r||(r={}));let l=class extends cc.Component{constructor(){super(...arguments),this.type=r.ANIMATION,this.animation=null,this.spine=null,this.callback=null}play(e){this.callback=e,this.type==r.ANIMATION?this.animation.play():this.type==r.SPINE&&(this.spine.setAnimation(0,"animation",!1),this.spine.setCompleteListener(()=>{this.endCallback(),this.spine.setCompleteListener(null)}))}endCallback(){this.callback&&this.callback()}};a([o({type:cc.Enum(r),tooltip:"\u52a8\u753b\u7c7b\u578b"})],l.prototype,"type",void 0),a([o({type:cc.Animation,visible:function(){return this.type==r.ANIMATION}})],l.prototype,"animation",void 0),a([o({type:sp.Skeleton,visible:function(){return this.type==r.SPINE}})],l.prototype,"spine",void 0),l=a([n,s("LibTool/Component/EffectComponent")],l),i.default=l,cc._RF.pop()},{}],Enemy:[function(e,t,i){"use strict";cc._RF.push(t,"d8471IAM6lKKLIk2nLK2CTY","Enemy");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/AEManager"),o=e("../LibTool/Manager/SoundsManager"),s=e("../LibTool/Manager/ViewManager"),r=e("../Manager/AssetsManager"),l=e("../Manager/MapManager"),h=e("../View/GameView"),c=e("./Base/RoleBase"),{ccclass:d,property:g}=cc._decorator;let u=class extends c.default{constructor(){super(...arguments),this.costText=null,this.spine=null,this.demon=null,this.roleUrls=["boss/zhongdian","grid1/guaiwu1","grid2/guaiwu1","grid3/guaiwu3","grid4/guaiwu4","grid5/guaiwu5","grid5/guaiwu5"],this.isClear=!1,this.isBoss=!1,this.isDemon=!1,this.cost=0,this.originCost=0}initialize(e,t){if(this.clear(),this.cost=e,this.originCost=e,this.isDemon=0==this.cost,this.isClear=!1,!this.isDemon){this.costText.node.active=!0,this.costText.string=e+"";let i=null;t?(this.isBoss=t,i=r.default.loadSpine(this.roleUrls[0])):i=e<30?r.default.loadSpine(this.roleUrls[1]):e<50?r.default.loadSpine(this.roleUrls[2]):e<80?r.default.loadSpine(this.roleUrls[3]):e<100?r.default.loadSpine(this.roleUrls[4]):r.default.loadSpine(this.roleUrls[5]),i.then(e=>{this.spine.skeletonData=e,this.spine.setAnimation(0,"daiji",!0)}).catch(()=>{this.spine.skeletonData=null}),this.spine.node.x=0}this.costText.node.active=!this.isDemon,this.spine.node.active=!this.isDemon,this.demon.active=this.isDemon}subCost(e){let t=e;this.cost-=e,this.cost<=0&&(this.isClear=!0),this.schedule(()=>{e-=t/11;let i=Math.ceil(this.cost+e);i<=0&&(i=0),this.costText.string=i+""},.01,10)}clear(){this.costText.node.active=!0,this.costText.node.opacity=255}setCost(e){this.cost=e,this.costText.string=this.cost+""}playBattle(){this.spine&&(this.spine.setAnimation(0,"gongji",!1),r.default.loadSound("hit2").then(e=>{this.scheduleOnce(()=>{o.soundsManager.playEffect(e)},.3)}),this.spine.setCompleteListener(()=>{var e,t;null===(e=this.spine)||void 0===e||e.setAnimation(0,"daiji",!0),null===(t=this.spine)||void 0===t||t.setCompleteListener(null)}))}playWin(){this.spine.setAnimation(0,"shengli",!1),n.aeManager.playEffect(this.node.parent.convertToWorldSpaceAR(cc.v2(this.node.getPosition().x-40,this.node.getPosition().y-10)),"StateUp"),this.scheduleOnce(()=>{l.mapManager.isLock=!1,s.viewManager.getView("GameView",h.default).showGuide()},.2),this.spine.addAnimation(0,"daiji",!0)}playLose(e){n.aeManager.playEffect(this.node.parent.convertToWorldSpaceAR(cc.v2(this.node.getPosition().x+30,this.node.getPosition().y)),"Death"),r.default.loadSound("dead").then(e=>{o.soundsManager.playEffect(e)}),this.spine.setAnimation(0,"shibai",!1),this.spine.setCompleteListener(()=>{var t;e&&e(),null===(t=this.spine)||void 0===t||t.setCompleteListener(null)})}playDouble(){this.spine.setAnimation(0,"baoqi",!1),this.spine.addAnimation(0,"daiji",!0)}playSkill(e,t,i){this.spine.setAnimation(0,e,!1),this.spine.setCompleteListener(()=>{var e;i&&i(),null===(e=this.spine)||void 0===e||e.setCompleteListener(null)})}};a([g(cc.Label)],u.prototype,"costText",void 0),a([g(sp.Skeleton)],u.prototype,"spine",void 0),a([g(cc.Node)],u.prototype,"demon",void 0),u=a([d],u),i.default=u,cc._RF.pop()},{"../LibTool/Manager/AEManager":"AEManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../Manager/AssetsManager":"AssetsManager","../Manager/MapManager":"MapManager","../View/GameView":"GameView","./Base/RoleBase":"RoleBase"}],EnergyView:[function(e,t,i){"use strict";cc._RF.push(t,"5ed46K2DfpAb6ymMd7CHfK9","EnergyView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Delegate"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/EventManager"),l=e("../LibTool/tools"),{ccclass:h,property:c}=cc._decorator;let d=class extends n.default{constructor(){super(...arguments),this._layout=3,this._viewName="EnergyView",this.energy=null,this.energyNode=null,this.timer=null,this.callback=o.Delegate.Create(this,this.updateEnergy)}onLoad(){super.onLoad(),this.openView(),r.eventManager.on("updateEnergy",this.callback)}onDestroy(){super.onDestroy(),r.eventManager.off("updateEnergy",this.callback)}openView(){super.openView(),this.updateEnergy(s.archiveManager.energy)}updateEnergy(e){this.energy.string=e+"/"+s.archiveManager.totalEnergy}update(e){if(s.archiveManager.energy>=s.archiveManager.totalEnergy)return void(this.timer.node.active=!1);this.timer.node.active=!0;const t=12e4-((new Date).getTime()-s.archiveManager.lastEnergyTime);this.timer.string=l.default.toTime(t/1e3,3)}};a([c(cc.Label)],d.prototype,"energy",void 0),a([c(cc.Node)],d.prototype,"energyNode",void 0),a([c(cc.Label)],d.prototype,"timer",void 0),d=a([h],d),i.default=d,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Delegate":"Delegate","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/EventManager":"EventManager","../LibTool/tools":"tools"}],EvenHit:[function(e,t,i){"use strict";cc._RF.push(t,"46547szAd1I0q/F4tpkjke9","EvenHit"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Manager/SoundsManager"),n=e("../../Manager/AssetsManager"),o=e("../../LibTool/Component/Base/SkillBase");class s extends o.default{eval(e,t,i,o){super.eval(e,t,i,o);let s=Math.random()<this.damage*this.level;if(s)for(let r=1;r<=this.times;r++)setTimeout(()=>{var s;null===(s=i[t])||void 0===s||s.subCost(e.cost),r==this.times-1?(e.playSkill(this.animation,this.icon,o),n.default.loadSound("hit2").then(e=>{setTimeout(()=>{a.soundsManager.playEffect(e)},.3)})):e.playSkill(this.animation,this.icon)},1e3*this.delay*r);return s}}i.default=s,s.skillName="\u8fde\u65a9",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],EventManager:[function(e,t,i){"use strict";cc._RF.push(t,"478c47BYcdJ7q98tLs7lx8M","EventManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.eventManager=void 0;class a{constructor(){this._listener=new Map}on(e,t){let i=this._listener.get(e);i||(i=[]),i.indexOf(t)<0&&i.push(t),this._listener.set(e,i)}off(e,t){let i=this._listener.get(e);if(i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}else i=[];this._listener.set(e,i)}emit(e,...t){const i=this._listener.get(e);if(i)for(const a in i)i[a].Call(t)}}i.default=a,i.eventManager=new a,cc._RF.pop()},{}],FatalBlow:[function(e,t,i){"use strict";cc._RF.push(t,"d5775WTBJlDM7z78bYpg5Iu","FatalBlow"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Component/Base/SkillBase");class n extends a.default{eval(e,t,i,a){super.eval(e,t,i,a);let n=Math.random()<this.damage;return n&&(i[t].subCost(e.cost),a&&a()),e.playBattle(),n}}i.default=n,n.skillName="\u81f4\u547d\u4e00\u51fb",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase"}],FireBall:[function(e,t,i){"use strict";cc._RF.push(t,"76ac5TBdtpB87KR6erkcGxA","FireBall"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Component/Base/SkillBase"),n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager");class r extends a.default{eval(e,t,i,a){super.eval(e,t,i,a);for(let r=1;r<=this.times;r++){setTimeout(()=>{i[t].subCost(this.damage*this.level*e.cost)},1e3*this.delay*r);const l=i[t].node.parent.convertToWorldSpaceAR(i[t].node.position);n.aeManager.playEffect(cc.v2(l.x,l.y),this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)}),e.playSkill(this.animation,this.icon,a)}return!0}}i.default=r,r.skillName="\u706b\u7403",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],FireWall:[function(e,t,i){"use strict";cc._RF.push(t,"8fbbeiafSZB2q6eLqFN792P","FireWall");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase"),{ccclass:l,property:h}=cc._decorator;let c=class extends r.default{eval(e,t,i,a){super.eval(e,t,i,a);for(let r=1;r<=this.times;r++)setTimeout(()=>{const t=cc.v2(0,0);for(let n=0;n<i.length;n++)i[n].subCost(this.damage*this.level*e.cost),t.x+=i[n].node.x,t.y+=i[n].node.y;t.x=t.x/i.length,t.y=t.y/i.length-30;let a=i[0].node.parent.convertToWorldSpaceAR(t);n.aeManager.playEffect(a,this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)})},1e3*this.delay*r),e.playSkill(this.animation,this.icon,a);return!0}};c.skillName="\u706b\u5899",c=a([l],c),i.default=c,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],FreeCoinView:[function(e,t,i){"use strict";cc._RF.push(t,"b2263bTvoRNJ7cRGxxyBmma","FreeCoinView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Effect/CoinEffect"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/LanguageManager"),l=e("../LibTool/Manager/SDKManager"),h=e("../LibTool/Manager/SoundsManager"),c=e("../LibTool/Manager/ViewManager"),d=e("../LibTool/tools"),g=e("../Manager/AssetsManager"),u=e("./CoinView"),{ccclass:m,property:p}=cc._decorator;let v=class extends n.default{constructor(){super(...arguments),this._layout=4,this._viewName="FreeCoinView",this.coinNode=null}openView(){super.openView(),l.default.reportEvent("Show_Event",{Show_FreeCoin:1})}onTouchClose(){this.closeView()}onTouchAd(){l.default.showRewardVideo(e=>{if(1===e){const e=c.viewManager.getView("CoinView",u.default),t=d.default.convertToNodeSpace(e.coinNode.getPosition(),e.coinNode,o.coinEffect.node);l.default.reportEvent("AdTouch_Event",{AdTouch_FreeCoin:1});const i=s.archiveManager.coin;g.default.loadSound("outCoin").then(e=>{h.soundsManager.playEffect(e)}),o.coinEffect.ShowCoinFlyByNode(this.coinNode,cc.v2(0,0),t,1e3,e=>{s.archiveManager.coin+=e,g.default.loadSound("coin").then(e=>{h.soundsManager.playEffect(e)})},()=>{s.archiveManager.coin=i+1e3})}else 2===e?d.default.showToast(r.languageManager.getLan("7"),.5,"UI"):d.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}};a([p(cc.Node)],v.prototype,"coinNode",void 0),v=a([m],v),i.default=v,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Effect/CoinEffect":"CoinEffect","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager","./CoinView":"CoinView"}],GameOverView:[function(e,t,i){"use strict";cc._RF.push(t,"b61da0AcxVLbqjwZ3+tIVIr","GameOverView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Effect/CoinEffect"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/LanguageManager"),l=e("../LibTool/Manager/Logger"),h=e("../LibTool/Manager/SDKManager"),c=e("../LibTool/Manager/SoundsManager"),d=e("../LibTool/Manager/ViewManager"),g=e("../LibTool/tools"),u=e("../LibTool/Tween/TweenNumber"),m=e("../Manager/AssetsManager"),p=e("./GameView"),v=e("./MoveView"),{ccclass:S,property:f}=cc._decorator;let w=class extends n.default{constructor(){super(...arguments),this._layout=3,this._viewName="GameOverView",this.time=null,this.coin=null,this.winNode=null,this.loseNode=null,this.restartNode=null,this.shareVideo=null,this.backBtn=null,this.rollNode=null,this.giveUpBtn=null,this.roll=null,this.rollReward=null,this.coinNode=null,this.reward=0,this.win=null,this.lose=null,this.isWin=!1,this.videoPath="",this.canShow=!1,this.isRollAnimation=!1,this.isCloseRoll=!1,this.winCount=0,this.winTotal=2}onLoad(){super.onLoad(),m.default.loadSound("win").then(e=>{this.win=e}),m.default.loadSound("lose").then(e=>{this.lose=e})}openView(){super.openView(),h.default.showBanner()}closeView(){super.closeView(),this.videoPath,this.canShow=!1}initialize(e,t,i){this.canShow=!0,g.default.isTT&&h.default.stopRecordVideo(e=>{this.videoPath=e}),this.openView(),3==s.archiveManager.gameData.level1&&h.default.reportEvent("Guide_Event",{Guide_Finish:1});let a=0;switch(s.archiveManager.gameData.map){case 0:a=s.archiveManager.gameData.level1;break;case 1:a=s.archiveManager.gameData.level2;break;case 1:a=s.archiveManager.gameData.level3}e?h.default.reportEvent("Show_Event",JSON.parse('{ "Show_Win'+a+'": 1 }')):h.default.reportEvent("Show_Event",JSON.parse('{ "Show_Lose'+a+'": 1 }'));let n=d.viewManager.getView("GameView",p.default);if(this.backBtn.active=n.guideId>=17,n.guideId>=17){if(e){let e="true"==g.default.getItem("openRate","false");l.logger.info("\u662f\u5426\u5df2\u7ecf\u5f00\u542f\u8fc7:"+e),g.default.isNative&&!e&&(this.winCount++,l.logger.info("\u662f\u5426\u8fbe\u5230\u6b21\u6570:"+this.winCount+"-"+this.winTotal),this.winCount>this.winTotal&&(this.winCount=0,this.winTotal+=2,g.default.setItem("openRate","true"),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","xgameComment","()V"):cc.sys.os==cc.sys.OS_IOS&&h.default.showReviewAlert(),l.logger.info("\u6253\u5f00\u8bc4\u5206\u754c\u9762"))),s.archiveManager.energy<s.archiveManager.energy&&(s.archiveManager.energy+=10,s.archiveManager.energy>s.archiveManager.energy&&(s.archiveManager.energy=s.archiveManager.energy)),h.default.reportEvent("Inter_Event",{Inter_GameWin:1})}else h.default.reportEvent("Inter_Event",{Inter_GameLose:1});this.scheduleOnce(()=>{this.canShow&&(l.logger.info("canShow:"+this.canShow),h.default.showInters())},.4),g.default.isTT||(this.restartNode.opacity=0,this.scheduleOnce(()=>{cc.tween(this.restartNode).to(.2,{opacity:255}).start()},1))}else this.restartNode.opacity=255;this.roll.angle=75,this.isWin=e,this.time.string=t+"",this.coin.string=i+"",this.reward=i,this.rollReward.string=i+"",this.winNode.active=this.isWin,this.loseNode.active=!this.isWin,this.time.node.parent.active=this.isWin,cc.tween(this.time.node.parent).to(.2,{position:cc.v3(-(this.time.node.width+264)/2,-25,0)}).start(),this.coin.node.parent.active=this.isWin,this.shareVideo.active=g.default.isTT,this.isWin?(this.rollNode.active=!0,this.giveUpBtn.active=!1,this.giveUpBtn.opacity=0,this.scheduleOnce(()=>{this.giveUpBtn.active=!0,cc.tween(this.giveUpBtn).to(.3,{opacity:255}).start()},.7),this.rollNode.opacity=0,cc.tween(this.rollNode).to(.4,{opacity:255}).start(),cc.tween(this.roll).to(.3,{angle:-90},{easing:cc.easing.sineInOut}).to(.3,{angle:90},{easing:cc.easing.sineInOut}).union().repeatForever().start(),this.rollReward.node.getComponent(u.default).setLoop(!0).setForm(2*this.reward).setTo(6*this.reward).setDuration(.3).play(),this.shareVideo.y=-390,c.soundsManager.playEffect(this.win),m.default.loadJson("Level").then(e=>{const t=e.json;let i=0;switch(s.archiveManager.gameData.map){case 0:i=Number(s.archiveManager.gameData.level1);break;case 1:i=30+Number(s.archiveManager.gameData.level2);break;case 2:i=80+Number(s.archiveManager.gameData.level3)}i<t.length-1&&(++i<=30?(s.archiveManager.gameData.map=0,s.archiveManager.gameData.level1=i):i>30&&i<=80?(s.archiveManager.gameData.map=1,s.archiveManager.gameData.level2=i-30):i>80&&(s.archiveManager.gameData.map=2,s.archiveManager.gameData.level3=i-80),s.archiveManager.gameData.unlock.push(i),s.archiveManager.saveData())})):(this.rollNode.active=!1,c.soundsManager.playEffect(this.lose),this.shareVideo.y=-7)}onTouchHome(){this.closeView(),this.canShow=!1,h.default.reportEvent("Touch_Event",{Touch_EndBack:1}),d.viewManager.getView("MoveView",v.default).transition(()=>{d.viewManager.closeView("GameView"),d.viewManager.openView("HomeView")})}onTouchNext(){if(this.canShow=!1,this.isWin){if(d.viewManager.getView("GameView",p.default).guideId>=17){if(!(s.archiveManager.energy>=10))return void g.default.showToast(r.languageManager.getLan("4"),.5,"UI");s.archiveManager.energy-=10}this.closeView(),d.viewManager.getView("GameView",p.default).updateLevel(),s.archiveManager.coin+=this.reward,this.reward=0,s.archiveManager.saveData()}else h.default.showRewardVideo(e=>{if(1===e){h.default.reportEvent("AdTouch_Event",{AdTouch_Next:1}),this.closeView();let e=0;switch(s.archiveManager.gameData.map){case 0:e=Number(s.archiveManager.gameData.level1);break;case 1:e=30+Number(s.archiveManager.gameData.level2);break;case 2:e=80+Number(s.archiveManager.gameData.level3)}++e<=30?(s.archiveManager.gameData.map=0,s.archiveManager.gameData.level1=e):e>30&&e<=80?(s.archiveManager.gameData.map=1,s.archiveManager.gameData.level2=e-30):e>80&&(s.archiveManager.gameData.map=2,s.archiveManager.gameData.level3=e-80),d.viewManager.getView("GameView",p.default).updateLevel(),this.reward=0,s.archiveManager.saveData()}else 2===e?g.default.showToast(r.languageManager.getLan("7"),.5,"UI"):g.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}onTouchRestart(){this.canShow=!1,this.closeView(),d.viewManager.getView("GameView",p.default).updateLevel()}onTouchAd(){if(this.isRollAnimation)return;this.isRollAnimation=!0,this.rollReward.node.getComponent(u.default).stop(),cc.Tween.stopAllByTarget(this.roll);const e=this.roll.angle;let t=1;e>=-90&&e<-54?t=2:e>=-54&&e<-18?t=3:e>=-18&&e<18?t=4:e>=18&&e<54?t=5:e>=54&&e<90&&(t=6),this.scheduleOnce(()=>{this.rollReward.string=this.reward*t+""}),h.default.showRewardVideo(e=>{1===e?(this.reward*=t,this.rollReward.string=this.reward+"",this.coin.string=this.reward+"",this.scheduleOnce(()=>{this.isRollAnimation=!1,this.onTouchCloseAd();const e=g.default.convertToNodeSpace(this.rollNode.getPosition(),this.rollNode,this.node),t=g.default.convertToNodeSpace(this.coinNode.getPosition(),this.coinNode,this.node);o.coinEffect.ShowCoinFlyByNode(this.coinNode,e,t,20,()=>{m.default.loadSound("coin").then(e=>{c.soundsManager.playEffect(e)})})},.5)):(g.default.showToast(r.languageManager.getLan("5"),.5,"UI"),this.isRollAnimation=!1,this.rollReward.node.getComponent(u.default).setLoop(!0).setForm(2*this.reward).setTo(6*this.reward).setDuration(.3).play(),cc.tween(this.roll).to(.3,{angle:-90},{easing:cc.easing.sineInOut}).to(.3,{angle:90},{easing:cc.easing.sineInOut}).union().repeatForever().start())})}onTouchCloseAd(){this.isCloseRoll||(this.isCloseRoll=!0,h.default.reportEvent("Touch_Event",{Touch_GiveUpRoll:1}),cc.tween(this.rollNode).to(.3,{opacity:0}).call(()=>{this.isCloseRoll=!1,this.rollNode.active=!1}).start())}onTouchShareVideo(){""==this.videoPath?g.default.showToast("\u6b63\u5728\u5904\u7406\u6570\u636e\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",.5,"UI"):h.default.shareVideo("","","",this.videoPath,()=>{})}};a([f(cc.Label)],w.prototype,"time",void 0),a([f(cc.Label)],w.prototype,"coin",void 0),a([f(cc.Node)],w.prototype,"winNode",void 0),a([f(cc.Node)],w.prototype,"loseNode",void 0),a([f(cc.Node)],w.prototype,"restartNode",void 0),a([f(cc.Node)],w.prototype,"shareVideo",void 0),a([f(cc.Node)],w.prototype,"backBtn",void 0),a([f(cc.Node)],w.prototype,"rollNode",void 0),a([f(cc.Node)],w.prototype,"giveUpBtn",void 0),a([f(cc.Node)],w.prototype,"roll",void 0),a([f(cc.Label)],w.prototype,"rollReward",void 0),a([f(cc.Node)],w.prototype,"coinNode",void 0),w=a([S],w),i.default=w,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Effect/CoinEffect":"CoinEffect","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/Logger":"Logger","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/Tween/TweenNumber":"TweenNumber","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager","./GameView":"GameView","./MoveView":"MoveView"}],GameView:[function(e,t,i){"use strict";cc._RF.push(t,"78f91+o7y1CTqv13a9XttYQ","GameView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Skill/Backstab"),o=e("../Component/Skill/Cleave"),s=e("../Component/Skill/Cripple"),r=e("../Component/Skill/DoubleUse"),l=e("../Component/Skill/EvenHit"),h=e("../Component/Skill/FatalBlow"),c=e("../Component/Skill/FireBall"),d=e("../Component/Skill/FireWall"),g=e("../Component/Skill/GrowingSpeedUp"),u=e("../Component/Skill/IceCone"),m=e("../Component/Skill/IceWall"),p=e("../Component/Skill/InstantDeath"),v=e("../Component/Skill/Resurrection"),S=e("../Component/Skill/SoulExtraction"),f=e("../Component/Skill/Unexpected"),w=e("../Component/SkillIcon"),N=e("../LibTool/Button"),_=e("../LibTool/Component/Base/ViewBase"),I=e("../LibTool/Component/ZoomComponent"),y=e("../LibTool/Delegate"),M=e("../LibTool/Manager/AEManager"),B=e("../LibTool/Manager/ArchiveManager"),D=e("../LibTool/Manager/EventManager"),C=e("../LibTool/Manager/LanguageManager"),b=e("../LibTool/Manager/SDKManager"),A=e("../LibTool/Manager/SkillManager"),T=e("../LibTool/Manager/SoundsManager"),L=e("../LibTool/Manager/ViewManager"),k=e("../LibTool/tools"),V=e("../Manager/AssetsManager"),O=e("../Manager/MapManager"),P=e("./GameOverView"),F=e("./GuideView"),x=e("./MoveView"),U=e("./SkillInfoView"),{ccclass:K,property:R}=cc._decorator;let E=class extends _.default{constructor(){super(...arguments),this._layout=1,this._viewName="GameView",this.levelText=null,this.levelText2=null,this.mapNode=null,this.bottom=null,this.levelAnimation=null,this.backBtn=null,this.block=null,this.skillNode=null,this.skillIcon=null,this.chainDown=null,this.chainUp=null,this.tipsNode=null,this.tipsLock=null,this.tipsCount=null,this.tipsAd=null,this.doubleNode=null,this.doubleLock=null,this.doubleCount=null,this.replayNode=null,this.replayLock=null,this.doubleAd=null,this.nowLevel=null,this.newLevel=null,this.expBar=null,this.zoom=null,this.map=null,this.time=0,this.isStart=!1,this.guideId=0,this.guideIndex=0,this.guidePos=[[3,0],[2,0],[1,0],[0,0]],this.effects=["Cleave","Cripple","Death","FireBall","FireWall","IceCone","IceWall","InstantDeath","Resurrection","SoulExtraction","StateUp","Smoke"],this.onGameStart=y.Delegate.Create(this,this.gameStart),this.onGameEnd=y.Delegate.Create(this,this.gameEnd),this.onGameInitialized=y.Delegate.Create(this,this.gameInitialized),this.skillList=[]}onLoad(){super.onLoad(),V.default.loadSound("chainDown").then(e=>{this.chainDown=e}),V.default.loadSound("chainUp").then(e=>{this.chainUp=e}),this.zoom=this.mapNode.getComponent(I.default),this.map=this.mapNode.getComponent(O.default),this.zoom.setCamera(cc.director.getScene().getChildByName("Canvas").getChildByName("Main Camera").getComponent(cc.Camera)),D.eventManager.on("gameStart",this.onGameStart),D.eventManager.on("gameEnd",this.onGameEnd),D.eventManager.on("gameInitialized",this.onGameInitialized),V.default.loadJson("Skill").then(e=>{A.skillManager.initialize(e,[c.default,u.default,l.default,h.default,d.default,m.default,n.default,p.default,S.default,v.default,s.default,r.default,o.default,f.default,g.default])})}start(){for(let e=0;e<this.effects.length;e++)this.effects[e]="Prefabs/Effect/"+this.effects[e];M.aeManager.initialize(this.effects)}onDestroy(){super.onDestroy(),D.eventManager.off("gameStart",this.onGameStart),D.eventManager.off("gameEnd",this.onGameEnd),D.eventManager.off("gameInitialized",this.onGameInitialized)}update(e){this.isStart&&(this.time+=e)}openView(){super.openView(),b.default.reportEvent("Show_Event",{Show_Game:1}),cc.Tween.stopAllByTarget(this.doubleNode),this.doubleNode.scale=1,this.bottom.active=!1,this.isStart=!1;let e=0,t=0;switch(B.archiveManager.gameData.map){case 0:e=Number(B.archiveManager.gameData.level1),t=Number(B.archiveManager.gameData.level1);break;case 1:e=30+Number(B.archiveManager.gameData.level2),t=Number(B.archiveManager.gameData.level2);break;case 2:e=80+Number(B.archiveManager.gameData.level3),t=Number(B.archiveManager.gameData.level3)}this.levelText.string=t+"",this.scheduleOnce(()=>{let e=this.levelText.node.parent.parent.width+this.levelText.node.width+15;this.levelText.node.parent.parent.x=this.levelText.node.parent.parent.width/2-e/2},.05),this.levelText2.string=t+"",B.archiveManager.gameData.tipsCount||(B.archiveManager.gameData.tipsCount=0),B.archiveManager.gameData.doubleCount||(B.archiveManager.gameData.doubleCount=0),this.updateTips(),this.updateDouble(),this.guideId=Number(k.default.getItem("guideId","10")),this.map.initialize(e),k.default.isTT&&b.default.startRecordVideo(300);for(let i=0;i<this.skillList.length;i++)this.skillList[i].node.destroy();this.skillList=[],this.updateExp(0,0),this.updateButton()}closeView(){cc.Tween.stopAllByTarget(this.doubleNode),this.doubleNode.scale=1,super.closeView(),this.isStart=!1,this.time=0,L.viewManager.closeView("GuideView"),L.viewManager.closeView("ChooseView"),L.viewManager.closeView("CardSelectionView"),L.viewManager.closeView("MapView")}updateTips(){this.tipsCount.string=B.archiveManager.gameData.tipsCount,this.tipsAd.active=B.archiveManager.gameData.tipsCount<1}updateDouble(){this.doubleCount.string=B.archiveManager.gameData.doubleCount,this.doubleAd.active=B.archiveManager.gameData.doubleCount<1}updateButton(){this.guideId<17?(this.backBtn.active=!1,this.replayLock.active=!0,this.replayNode.parent.getComponent(N.default).interactable=!1):(this.backBtn.active=!0,this.replayLock.active=!1,this.replayNode.parent.getComponent(N.default).interactable=!0),this.guideId<14?(this.tipsLock.active=!0,this.doubleLock.active=!0,this.tipsNode.parent.getComponent(N.default).interactable=!1,this.doubleNode.parent.getComponent(N.default).interactable=!1,this.expBar.node.parent.active=!1):this.guideId>=14&&this.guideId<=16&&B.archiveManager.gameData.level1<=3?(14==this.guideId&&B.archiveManager.gameData.tipsCount<1&&(B.archiveManager.gameData.tipsCount=1,this.updateTips()),this.tipsLock.active=!1,this.doubleLock.active=!0,this.tipsNode.parent.getComponent(N.default).interactable=!0,this.doubleNode.parent.getComponent(N.default).interactable=!1,this.expBar.node.parent.active=!1):this.guideId>=16&&B.archiveManager.gameData.level1>3&&(16==this.guideId&&B.archiveManager.gameData.doubleCount<1&&(B.archiveManager.gameData.doubleCount=1,this.updateDouble()),this.tipsLock.active=!1,this.doubleLock.active=!1,this.tipsNode.parent.getComponent(N.default).interactable=!0,this.doubleNode.parent.getComponent(N.default).interactable=!0,this.expBar.node.parent.active=!0)}onTouchBack(){b.default.reportEvent("Touch_Event",{Touch_GameBack:1}),L.viewManager.getView("MoveView",x.default).transition(()=>{L.viewManager.closeView("GameView"),L.viewManager.openView("HomeView")})}onTouchSetUp(){L.viewManager.openView("SettingView")}onTouchTips(){this.tipsLock.active||(B.archiveManager.gameData.tipsCount>=1?(B.archiveManager.gameData.tipsCount=Number(B.archiveManager.gameData.tipsCount)-1,this.updateTips(),b.default.reportEvent("Guide_Event",{Guide_Tips:1}),this.map.showTips(),this.guideId++,k.default.setItem("guideId",this.guideId+"")):(L.viewManager.closeView("GuideView"),b.default.showRewardVideo(e=>{1===e?(b.default.reportEvent("AdTouch_Event",{AdTouch_Tips:1}),this.map.showTips()):2===e?k.default.showToast(C.languageManager.getLan("7"),.5,"UI"):k.default.showToast(C.languageManager.getLan("5"),.5,"UI")})))}onTouchDouble(){this.doubleLock.active||(B.archiveManager.gameData.doubleCount>=1?(B.archiveManager.gameData.doubleCount=Number(B.archiveManager.gameData.doubleCount)-1,this.updateDouble(),b.default.reportEvent("Guide_Event",{Guide_Double:1}),this.map.double(),this.map.checkSelect(),this.guideId++,k.default.setItem("guideId",this.guideId+""),this.backBtn.active=!0,this.replayLock.active=!1,this.replayNode.parent.getComponent(N.default).interactable=!0,this.stopDoubleLight()):b.default.showRewardVideo(e=>{1===e?(b.default.reportEvent("AdTouch_Event",{AdTouch_Double:1}),this.stopDoubleLight(),this.map.double(),this.map.checkSelect()):2===e?k.default.showToast(C.languageManager.getLan("7"),.5,"UI"):k.default.showToast(C.languageManager.getLan("5"),.5,"UI")}))}onTouchRestart(){b.default.reportEvent("Touch_Event",{Touch_Restart:1}),this.updateLevel()}updateLevel(){L.viewManager.closeView("GuideView"),L.viewManager.closeView("ChooseView"),cc.Tween.stopAllByTarget(this.doubleNode),this.doubleNode.scale=1,this.isStart=!1,this.bottom.active=!1,this.updateButton();let e=0,t=0;switch(B.archiveManager.gameData.map){case 0:e=Number(B.archiveManager.gameData.level1),t=Number(B.archiveManager.gameData.level1);break;case 1:e=30+Number(B.archiveManager.gameData.level2),t=Number(B.archiveManager.gameData.level2);break;case 2:e=80+Number(B.archiveManager.gameData.level3),t=Number(B.archiveManager.gameData.level3)}this.levelText.string=t+"",this.levelText2.string=t+"",L.viewManager.openView("MoveView",()=>{this.updateExp(0,0),this.map.initialize(e),k.default.isTT&&(b.default.stopRecordVideo(),this.scheduleOnce(()=>{b.default.startRecordVideo(300)}))});for(let i=0;i<this.skillList.length;i++)this.skillList[i].node.destroy();this.skillList=[]}gameStart(){this.time=0,this.isStart=!0,this.bottom.active=!0}gameEnd(e){let t=e[0];this.isStart=!1;let i=0;switch(B.archiveManager.gameData.map){case 0:i=Number(B.archiveManager.gameData.level1);break;case 1:i=30+Number(B.archiveManager.gameData.level2);break;case 2:i=80+Number(B.archiveManager.gameData.level3)}let a=100+Math.floor(Number(i)/10)-Math.floor(this.time);a<0&&(a=0),a+=50+Number(i),L.viewManager.closeView("GuideView"),L.viewManager.getView("GameOverView",P.default).initialize(t,Math.floor(this.time),a),this.time=0}gameInitialized(){this.block.active||(this.block.active=!0,this.levelAnimation.play("LevelBannerOpen"),T.soundsManager.playEffect(this.chainDown),this.scheduleOnce(()=>{this.block.active=!1,this.levelAnimation.play("LevelBannerClose"),T.soundsManager.playEffect(this.chainUp),this.showGuide()},1))}showGuide(){if(this.guideId<14){const e=this.map.getGridWorldPosition(this.guidePos[this.guideIndex][0],this.guidePos[this.guideIndex][1]);L.viewManager.getView("GuideView",F.default).showGuide(e.x,e.y,243,147),this.guideIndex++,this.guideId++,k.default.setItem("guideId",this.guideId+"")}}guideDouble(){const e=this.doubleNode.parent.convertToWorldSpaceAR(this.doubleNode.position);L.viewManager.getView("GuideView",F.default).showGuide(e.x,e.y,215,95),this.doubleNode.parent.getComponent(N.default).interactable=!0,this.doubleLock.active=!1}guideTips(){const e=this.tipsNode.parent.convertToWorldSpaceAR(this.tipsNode.position);L.viewManager.getView("GuideView",F.default).showGuide(e.x,e.y,215,95),this.tipsNode.parent.getComponent(N.default).interactable=!0,this.tipsLock.active=!1}showDoubleLight(){cc.tween(this.doubleNode).to(.5,{scale:1.1},{easing:cc.easing.sineInOut}).to(.5,{scale:1},{easing:cc.easing.sineInOut}).union().repeatForever().start()}stopDoubleLight(){cc.Tween.stopAllByTarget(this.doubleNode),this.doubleNode.scale=1}showTipsLight(){const e=this.tipsNode.parent.convertToWorldSpaceAR(this.tipsNode.position);L.viewManager.getView("GuideView",F.default).showHand(e.x,e.y)}updateSkill(){let e=A.skillManager.getAllSkill(),t=[];for(let i=0;i<e.length;i++){const a=e[i];let n=!1;for(let e=0;e<this.skillList.length;e++){const t=this.skillList[e];a.nameCN==t.data.nameCN&&(n=!0,t.initialize(a))}if(!n){let e=cc.instantiate(this.skillIcon.node);e.setParent(this.skillNode),e.active=!0;let i=e.getComponent(w.default);i.initialize(a),t.push(i)}}this.skillList=this.skillList.concat(t);for(let i=0;i<this.skillList.length;i++){const e=this.skillList[i];e.node.x=125*Math.floor(i/6),e.node.y=-i%6*135}}showSkillInfo(e){L.viewManager.openView("SkillInfoView"),L.viewManager.getView("SkillInfoView",U.default).initialize(e)}updateExp(e,t){this.nowLevel.string=e+"",this.newLevel.string=e+1+"",cc.Tween.stopAllByTarget(this.expBar),cc.tween(this.expBar).to(.2,{fillRange:t},{easing:cc.easing.backOut}).start()}};a([R(cc.Label)],E.prototype,"levelText",void 0),a([R(cc.Label)],E.prototype,"levelText2",void 0),a([R(cc.Node)],E.prototype,"mapNode",void 0),a([R(cc.Node)],E.prototype,"bottom",void 0),a([R(cc.Animation)],E.prototype,"levelAnimation",void 0),a([R(cc.Node)],E.prototype,"backBtn",void 0),a([R(cc.Node)],E.prototype,"block",void 0),a([R(cc.Node)],E.prototype,"skillNode",void 0),a([R(w.default)],E.prototype,"skillIcon",void 0),a([R(cc.AudioClip)],E.prototype,"chainDown",void 0),a([R(cc.AudioClip)],E.prototype,"chainUp",void 0),a([R(cc.Node)],E.prototype,"tipsNode",void 0),a([R(cc.Node)],E.prototype,"tipsLock",void 0),a([R(cc.Label)],E.prototype,"tipsCount",void 0),a([R(cc.Node)],E.prototype,"tipsAd",void 0),a([R(cc.Node)],E.prototype,"doubleNode",void 0),a([R(cc.Node)],E.prototype,"doubleLock",void 0),a([R(cc.Label)],E.prototype,"doubleCount",void 0),a([R(cc.Node)],E.prototype,"replayNode",void 0),a([R(cc.Node)],E.prototype,"replayLock",void 0),a([R(cc.Node)],E.prototype,"doubleAd",void 0),a([R(cc.Label)],E.prototype,"nowLevel",void 0),a([R(cc.Label)],E.prototype,"newLevel",void 0),a([R(cc.Sprite)],E.prototype,"expBar",void 0),E=a([K],E),i.default=E,cc._RF.pop()},{"../Component/Skill/Backstab":"Backstab","../Component/Skill/Cleave":"Cleave","../Component/Skill/Cripple":"Cripple","../Component/Skill/DoubleUse":"DoubleUse","../Component/Skill/EvenHit":"EvenHit","../Component/Skill/FatalBlow":"FatalBlow","../Component/Skill/FireBall":"FireBall","../Component/Skill/FireWall":"FireWall","../Component/Skill/GrowingSpeedUp":"GrowingSpeedUp","../Component/Skill/IceCone":"IceCone","../Component/Skill/IceWall":"IceWall","../Component/Skill/InstantDeath":"InstantDeath","../Component/Skill/Resurrection":"Resurrection","../Component/Skill/SoulExtraction":"SoulExtraction","../Component/Skill/Unexpected":"Unexpected","../Component/SkillIcon":"SkillIcon","../LibTool/Button":"Button","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Component/ZoomComponent":"ZoomComponent","../LibTool/Delegate":"Delegate","../LibTool/Manager/AEManager":"AEManager","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/EventManager":"EventManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SkillManager":"SkillManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager","../Manager/MapManager":"MapManager","./GameOverView":"GameOverView","./GuideView":"GuideView","./MoveView":"MoveView","./SkillInfoView":"SkillInfoView"}],GetConfig:[function(e,t,i){"use strict";cc._RF.push(t,"65cc1HWqPFFUpDLppGzIOT8","GetConfig"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../SdkConfig");i.default=class{static getChannelName(){if(7!=a.sdkConfig.channelId.length)return"test";switch(a.sdkConfig.channelId.substring(4,7)){case"142":return"oppo";case"108":return"vivo";case"154":return"tiktok";case"155":return"tencentqq";case"161":return"weixin";case"162":return"kwai";case"163":return"huawei";case"164":return"xiaomi";case"165":return"bilibili";case"166":return"m4399box";case"666":return"android";case"888":return"ios";case"000":return"blank";default:return"test"}}static getChannelId(){return a.sdkConfig.channelId}static getSdkVersion(){return a.sdkVersionConfig.sdkVersion}static getAppId(){return a.sdkConfig.appId}},cc._RF.pop()},{"../SdkConfig":"SdkConfig"}],GetEngine:[function(e,t,i){"use strict";cc._RF.push(t,"b5b3fK+oatOcYglLDuInQzD","GetEngine"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{static getEngineName(){return window.CocosEngine?"Cocos":"Laya"}static getCocosEngineVersion(){if(window.CocosEngine){let e=window.CocosEngine.split(".");return 100*Number(e[0])+10*Number(e[1])+1*Number(e[2])}return console.log("XminigameSDK","\u975eCocos\u5f15\u64ce"),0}},cc._RF.pop()},{}],GridData:[function(e,t,i){"use strict";cc._RF.push(t,"e087ceCVaFFOYGSTfYtD8aj","GridData"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../LibTool/tools");class n{constructor(e){this.cost=0,this.enemy=[],e&&(this.cost=a.default.getPropertyFromJSON(e,"cost",0),this.enemy=a.default.getPropertyFromJSON(e,"enemy",[]))}copy(){const e=new n;return e.cost=this.cost,e.enemy=this.enemy,e}}i.default=n,cc._RF.pop()},{"../LibTool/tools":"tools"}],Grid:[function(e,t,i){"use strict";cc._RF.push(t,"4d759B5Tp5PLrUtkj+VXrzG","Grid");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Tween/TweenPosition"),o=e("../LibTool/Tween/TweenRotation"),s=e("../Manager/AssetsManager"),r=e("./Enemy"),{ccclass:l,property:h}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.bossMark=null,this.room=null,this.roof=null,this.ground=null,this.lock=null,this.princess=null,this.arrow=null,this.enemyNode=null,this.enemyList=[],this.isBoss=!1,this.isClear=!1,this.cost=0,this.originCost=0}initialize(e,t,i,a,l,h,c,d){this.clear(),this.cost=e.cost,this.originCost=e.cost,this.room.spriteFrame=t,this.roof.spriteFrame=i,this.roof.node.active=l,this.ground.spriteFrame=a,this.ground.node.active=h,this.lock.active=this.isClear,this.bossMark.active=c,this.princess.active=c&&d,c&&d&&(this.princess.getComponent(n.default).setLoop(!0).setDuration(.4).setFrom(cc.v3(88,-44)).setTo(cc.v3(92,-44)).play(),this.princess.getComponent(o.default).setLoop(!0).setDuration(1).setFrom(3).setTo(-3).play()),this.isClear&&this.lock.getComponent(cc.Animation).play(),s.default.loadPrefab("enemy").then(t=>{for(let i=0;i<e.enemy.length;i++){const a=e.enemy[i],n=cc.instantiate(t);n.setParent(this.enemyNode);const o=n.getComponent(r.default);o.initialize(a,c),n.x=50+50*i-(e.enemy.length-1)/2*50,n.zIndex=e.enemy.length-i,this.enemyList.push(o)}})}reset(){this.isClear=!1,this.lock.active=this.isClear}unlock(){this.lock.active=!1}clear(){this.clearTips(),this.enemyNode.removeAllChildren(),this.enemyList=[],this.arrow.active=!1,this.isClear=!1,this.cost=0}playLock(){this.lock.active=this.isClear,this.isClear&&this.lock.getComponent(cc.Animation).play(),this.clearTips()}clearTips(){cc.Tween.stopAllByTarget(this.arrow),this.arrow.opacity=0,this.arrow.active=!1}playTips(e){this.clearTips(),this.arrow.active=!0,this.arrow.opacity=0,this.arrow.angle=e,cc.tween(this.arrow).to(1,{opacity:255},{easing:cc.easing.sineOut}).to(1,{opacity:0},{easing:cc.easing.sineIn}).start()}getBeforeEnemy(){return this.enemyList[0]}getAfterEnemy(){return this.enemyList[this.enemyList.length-1]}getAllEnemy(){return this.enemyList}shiftEnemy(){let e=this.enemyList.shift();return null==e||e.node.destroy(),0==this.enemyList.length}popEnemy(){let e=this.enemyList.pop();return null==e||e.node.destroy(),0==this.enemyList.length}removeEnemy(e){let t=this.enemyList.indexOf(e);this.enemyList[t].destroy(),this.enemyList.splice(t,1)}checkClear(){let e=!0;for(let t=0;t<this.enemyList.length;t++){const i=this.enemyList[t];i.isClear?i.playLose(()=>{this.removeEnemy(i)}):e=!1}return e}};a([h(cc.Node)],c.prototype,"bossMark",void 0),a([h(cc.Sprite)],c.prototype,"room",void 0),a([h(cc.Sprite)],c.prototype,"roof",void 0),a([h(cc.Sprite)],c.prototype,"ground",void 0),a([h(cc.Node)],c.prototype,"lock",void 0),a([h(cc.Node)],c.prototype,"princess",void 0),a([h(cc.Node)],c.prototype,"arrow",void 0),a([h(cc.Node)],c.prototype,"enemyNode",void 0),c=a([l],c),i.default=c,cc._RF.pop()},{"../LibTool/Tween/TweenPosition":"TweenPosition","../LibTool/Tween/TweenRotation":"TweenRotation","../Manager/AssetsManager":"AssetsManager","./Enemy":"Enemy"}],GrowingSpeedUp:[function(e,t,i){"use strict";cc._RF.push(t,"376adFnRtFKLrmv8DrmZxrj","GrowingSpeedUp"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Component/Base/SkillBase");class n extends a.default{eval(e,t,i,a){return super.eval(e,t,i,a),e.addCost(this.damage*this.level*e.cost),a&&a(),!0}}i.default=n,n.skillName="\u6210\u957f\u52a0\u901f",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase"}],GuideView:[function(e,t,i){"use strict";cc._RF.push(t,"d126dcSWDlKt6XvjsdJYLV7","GuideView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),{ccclass:o,property:s}=cc._decorator;let r=class extends n.default{constructor(){super(...arguments),this._viewName="GuideView",this._layout=6,this.guideNode=null,this.mask=null,this.blocks=[],this.hand=null}showGuide(e,t,i,a){this.openView(),this.guideNode.active=!0;const n=this.node.convertToNodeSpaceAR(cc.v2(e,t));this.guideNode.setPosition(n),this.guideNode.width=0,this.guideNode.height=0,cc.tween(this.guideNode).to(.3,{width:i,height:a},{easing:cc.easing.sineOut}).start(),this.mask.active=!0;for(const o in this.blocks)this.blocks[o].active=!0;this.hand.play()}showHand(e,t){this.openView(),this.guideNode.active=!0;const i=this.node.convertToNodeSpaceAR(cc.v2(e,t));this.guideNode.setPosition(i),this.guideNode.width=0,this.guideNode.height=0,this.mask.active=!1;for(const a in this.blocks)this.blocks[a].active=!1;this.hand.play()}onTouch(){this.closeView()}};a([s(cc.Node)],r.prototype,"guideNode",void 0),a([s(cc.Node)],r.prototype,"mask",void 0),a([s({type:cc.Node})],r.prototype,"blocks",void 0),a([s(cc.Animation)],r.prototype,"hand",void 0),r=a([o],r),i.default=r,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase"}],HolyShield:[function(e,t,i){"use strict";cc._RF.push(t,"603d4jh8FpDpbujxUznIaBK","HolyShield");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Component/Base/SkillBase"),{ccclass:o,property:s}=cc._decorator;let r=class extends n.default{};r.skillName="\u795e\u5723\u62a4\u76fe",r=a([o],r),i.default=r,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase"}],HomeView:[function(e,t,i){"use strict";cc._RF.push(t,"465aay1GstEvZMoxHNB4AJe","HomeView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Button"),o=e("../LibTool/Component/Base/ViewBase"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/LanguageManager"),l=e("../LibTool/Manager/SDKManager"),h=e("../LibTool/Manager/SoundsManager"),c=e("../LibTool/Manager/ViewManager"),d=e("../LibTool/tools"),g=e("../Manager/AssetsManager"),u=e("./CTSignInView"),m=e("./EnergyView"),{ccclass:p,property:v}=cc._decorator;let S=class extends o.default{constructor(){super(...arguments),this._layout=0,this._viewName="HomeView",this.level=null,this.page=null,this.redPoint=null,this.energyNode=null,this.energyBoom=null,this.startBtn=null,this.isAction=!1,this.pages=[],this.count=[0,30,80],this.lastTime=0,this.clickCount=0}onLoad(){super.onLoad(),this.pages=this.page.getPages()}openView(){super.openView(),s.archiveManager.gameData.map||(s.archiveManager.gameData.map=0),s.archiveManager.saveData(),this.page.setCurrentPageIndex(s.archiveManager.gameData.map);let e=0;switch(s.archiveManager.gameData.map){case 0:e=s.archiveManager.gameData.level1;break;case 1:e=s.archiveManager.gameData.level2;break;case 2:e=s.archiveManager.gameData.level3}this.level.string=e+"",l.default.reportEvent("Show_Event",{Show_Home:1}),l.default.showBanner(),this.updateRedPoint(),this.scheduleOnce(()=>{let e=this.level.node.parent.width+this.level.node.width+9;this.level.node.parent.x=this.level.node.parent.width-e/2}),this.pages[this.page.getCurrentPageIndex()].getComponent(cc.Animation).play(),this.scheduleOnce(()=>{g.default.loadSound("towerDown2").then(e=>{h.soundsManager.playEffect(e)})},.3),this.scheduleOnce(()=>{g.default.loadSound("towerDown").then(e=>{h.soundsManager.playEffect(e)})},.5),this.scheduleOnce(()=>{g.default.loadSound("towerDown").then(e=>{h.soundsManager.playEffect(e)})},.57),this.scheduleOnce(()=>{g.default.loadSound("towerDown").then(e=>{h.soundsManager.playEffect(e)})},.64)}pageEvent(){const e=this.page.getCurrentPageIndex(),t=this.pages[e];s.archiveManager.gameData.map=e;let i=0,a=0;switch(s.archiveManager.gameData.map){case 0:i=Number(s.archiveManager.gameData.level1),a=Number(s.archiveManager.gameData.level1);break;case 1:i=30+Number(s.archiveManager.gameData.level2),a=Number(s.archiveManager.gameData.level2);break;case 2:i=80+Number(s.archiveManager.gameData.level3),a=Number(s.archiveManager.gameData.level3)}t.getComponent(cc.Animation).play(),this.scheduleOnce(()=>{g.default.loadSound("towerDown2").then(e=>{h.soundsManager.playEffect(e)})},.3),this.scheduleOnce(()=>{g.default.loadSound("towerDown").then(e=>{h.soundsManager.playEffect(e)})},.5),this.scheduleOnce(()=>{g.default.loadSound("towerDown").then(e=>{h.soundsManager.playEffect(e)})},.57),this.scheduleOnce(()=>{g.default.loadSound("towerDown").then(e=>{h.soundsManager.playEffect(e)})},.64),this.scheduleOnce(()=>{g.default.loadSound("buttonDown3").then(e=>{h.soundsManager.playEffect(e)})},.71),t.getChildByName("lock").active=i<=this.count[e],this.startBtn.interactable=i>this.count[e],this.level.string=a+"",s.archiveManager.saveData()}onTouchStart(){if(this.isAction)return;let e=Number(d.default.getItem("guideId"));if(e<17||s.archiveManager.energy>=10){const t=c.viewManager.getView("EnergyView",m.default),i=d.default.convertToNodeSpace(t.energyNode.getPosition(),t.energyNode,this.node),a=this.level.node.parent.parent.getPosition();this.isAction=!0,this.energyNode.active=!0,this.energyNode.opacity=255,this.energyNode.setPosition(i),g.default.loadSound("energyDown").then(e=>{h.soundsManager.playEffect(e)}),cc.tween(this.energyNode).bezierTo(1,cc.v2(a.x-200,a.y+500),cc.v2(a.x-100,a.y+100),a).call(()=>{let t=cc.instantiate(this.energyBoom);t.setParent(this.node),t.setPosition(this.level.node.parent.parent.getPosition()),t.active=!0,g.default.loadSound("useEnergy").then(e=>{h.soundsManager.playEffect(e)}),cc.tween(this.energyNode).to(.5,{opacity:0}).call(()=>{this.energyNode.active=!1}).start(),this.isAction=!1,e>=17&&(s.archiveManager.energy-=10),l.default.reportEvent("Touch_Event",{Touch_HomeStart:1}),c.viewManager.openView("MoveView",()=>{this.closeView(),c.viewManager.openView("GameView")})}).start()}else d.default.showToast(r.languageManager.getLan("4"),.5,"UI")}onTouchSignIn(){this.isAction||(c.viewManager.openView("CTSignInView"),this.updateRedPoint(),l.default.reportEvent("Touch_Event",{Touch_SignIn:1}))}onTouchStore(){this.isAction||(c.viewManager.openView("ShopView"),l.default.reportEvent("Touch_Event",{Touch_Shop:1}))}onTouchRole(){this.isAction||(c.viewManager.openView("RoleView"),l.default.reportEvent("Touch_Event",{Touch_Role:1}))}onTouchSetUp(){this.isAction||(c.viewManager.openView("SetUpView"),l.default.reportEvent("Touch_Event",{Touch_SetUp:1}))}updateRedPoint(){let e=c.viewManager.getView("CTSignInView",u.default);this.redPoint.active=e.hasReward}onTouchCopyright(){(new Date).getMilliseconds()-this.lastTime>1e3&&(this.clickCount=0),this.clickCount++,this.lastTime=(new Date).getMilliseconds(),this.clickCount>5&&(this.clickCount=0,c.viewManager.openView("CopyrightNoticeView"))}onTouchSlot(){this.isAction||c.viewManager.openView("SlotView")}onTouchTask(){this.isAction||c.viewManager.openView("TaskView")}};a([v(cc.Label)],S.prototype,"level",void 0),a([v(cc.PageView)],S.prototype,"page",void 0),a([v(cc.Node)],S.prototype,"redPoint",void 0),a([v(cc.Node)],S.prototype,"energyNode",void 0),a([v(cc.Node)],S.prototype,"energyBoom",void 0),a([v(n.default)],S.prototype,"startBtn",void 0),S=a([p],S),i.default=S,cc._RF.pop()},{"../LibTool/Button":"Button","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager","./CTSignInView":"CTSignInView","./EnergyView":"EnergyView"}],HttpRequest:[function(e,t,i){"use strict";cc._RF.push(t,"8234epnQ1lN7YV5GtmCEhvG","HttpRequest"),Object.defineProperty(i,"__esModule",{value:!0}),i.ContentType=void 0;const a=e("./GetConfig"),n=e("./LocalStorage");var o;(function(e){e.APPLICATION_JSON="application/json",e.APPLICATION_X_WWW_FORM_URLENCODED="application/x-www-form-urlencoded"})(o=i.ContentType||(i.ContentType={}));class s{constructor(){this.hasGetToken=!1,this.hasGetAdConfig=!1,this.hasGetPushGameConfig=!1}static getInstance(){return s.instance||(s.instance=new s),s.instance}clearHasGetToken(){this.hasGetToken=!1}requestPost(e,t,i){let a=this;this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if(a.hasGetToken)return;a.hasGetToken=!0,console.log("XminigameSDK","\u3010POST\u3011",e),console.log("XminigameSDK","requestHeader1\uff1a",s.CONTENT_TYPE,o.APPLICATION_JSON),console.log("XminigameSDK","this.responseText:",this.responseText);let t=JSON.parse(this.responseText);console.log("XminigameSDK","\u8fd4\u56de\u7ed3\u679c\uff1a",JSON.stringify(t)),200==t.status?(n.default.setData("userId",t.data.userId),n.default.setData("token",t.data.token),n.default.setData("userType",0==t.data.isVisitor||"false"==t.data.isVisitor?"1":"0"),n.default.setData("nickName",t.data.nickName),n.default.setData("avatarUrl",t.data.avatar),i(!0,t)):i(!1,"")}},this.httpRequest.timeout=5e3,this.httpRequest.ontimeout=()=>{console.log("XminigameSDK","\u4e0b\u53d1\u53c2\u6570\u8d85\u65f6",e),i(!1,"")},this.httpRequest.onerror=function(t){console.log("XminigameSDK",e,"error",JSON.stringify(t)),i(!1,"")},this.httpRequest.open("POST",e,!0),this.httpRequest.setRequestHeader(s.CONTENT_TYPE,o.APPLICATION_JSON),this.httpRequest.send(JSON.stringify(t))}requestPostWithAuthor(e,t,i,n){e=e+`?channelId=${a.default.getChannelId()}`+`&pushGamePackage=${t}`,this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=function(){if(4==this.readyState&&200==this.status){console.log("XminigameSDK","\u3010POST\u3011",e),console.log("XminigameSDK","requestHeader1\uff1a",s.CONTENT_TYPE,o.APPLICATION_JSON),console.log("XminigameSDK","requestHeader2\uff1a",s.AUTHORIZATION,i);let t=JSON.parse(this.responseText);console.log("XminigameSDK","\u8fd4\u56de\u7ed3\u679c\uff1a",JSON.stringify(t)),200==t.status?n(!0,t):n(!1,"")}},this.httpRequest.onerror=function(t){console.log("XminigameSDK",e,"error",JSON.stringify(t)),n(!1,"")},this.httpRequest.open("POST",e,!0),this.httpRequest.setRequestHeader(s.CONTENT_TYPE,o.APPLICATION_JSON),this.httpRequest.setRequestHeader(s.AUTHORIZATION,i),this.httpRequest.send()}requestGet(e,t,i,n){let r=this;e+=`?channelId=${a.default.getChannelId()}`,this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if(i){if(r.hasGetAdConfig)return;r.hasGetAdConfig=!0}else{if(r.hasGetPushGameConfig)return;r.hasGetPushGameConfig=!0}let a=JSON.parse(this.responseText);console.log("XminigameSDK","\u3010GET\u3011",e),console.log("XminigameSDK","requestHeader1\uff1a",s.AUTHORIZATION,t),i&&console.log("XminigameSDK","requestHeader2\uff1a",s.CONTENT_TYPE,o.APPLICATION_X_WWW_FORM_URLENCODED),console.log("XminigameSDK","\u8fd4\u56de\u7ed3\u679c\uff1a",JSON.stringify(a)),200==a.status?n(!0,a):n(!1,"")}},this.httpRequest.timeout=5e3,this.httpRequest.ontimeout=()=>{console.log("XminigameSDK","\u4e0b\u53d1\u53c2\u6570\u8d85\u65f6",e),n(!1,"")},this.httpRequest.onerror=function(){console.log("XminigameSDK","\u3010GET\u3011",e),console.log("XminigameSDK","requestHeader1\uff1a",s.AUTHORIZATION,t),i&&console.log("XminigameSDK","requestHeader2\uff1a",s.CONTENT_TYPE,o.APPLICATION_X_WWW_FORM_URLENCODED),n(!1,"")},this.httpRequest.open("GET",e,!0),i&&this.httpRequest.setRequestHeader(s.CONTENT_TYPE,o.APPLICATION_X_WWW_FORM_URLENCODED),this.httpRequest.setRequestHeader(s.AUTHORIZATION,t),this.httpRequest.send()}}i.default=s,s.AUTHORIZATION="Authorization",s.CONTENT_TYPE="Content-Type",cc._RF.pop()},{"./GetConfig":"GetConfig","./LocalStorage":"LocalStorage"}],HuaweiAd:[function(e,t,i){"use strict";cc._RF.push(t,"ea504tHEH5D6YQHhjeqd/wB","HuaweiAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LoadRes"),s=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=60,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.bannerAd=null,this.loadSucc_Banner=!1,this.loadSucc_SystemBanner=!1,this.hasShowBanner=!1,this.isShow_SystemBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.NUM_BannerClose=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.nativeAd=null,this.hasCreateNative=!1,this.loadSucc_NewNativeAd=!1,this.nativeAdShowInfo=["",""],this.nativeAdInfo=null,this.nativeBannerRes=null,this.res_NativeBannerLoadNative=null,this.loadSucc_NativeBanner=!1,this.isShow_NativeBanner=!1,this.node_nativeBanner=null,this.nativeIntersRes=null,this.res_NativeIntersLoadNative=null,this.loadSucc_NativeInters=!1,this.node_nativeInters=null,this.createNative_NativeBanner=!1,this.createNative_NativeInters=!1,this.node_privacyAgreement=null,this.isShow_PrivacyAgreement=!1,this.AdGroup=""}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_Video&&""!=this.ID_Video&&this.createVideo(),this.SW_Native&&""!=this.ID_Native&&(this.onGameShow(),this.SW_NativeBanner&&this.loadNativeBannerRes(),this.SW_NativeInters&&this.loadNativeInterRes())}startLoadPushGamaes(){}createSystemInters(){console.log("XminigameSDK","--createSystemInters--"),a.default.stringHasSpace(this.ID_SystemInters)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************"):(this.systemIntersAd=qg.createInterstitialAd({adUnitId:this.ID_SystemInters}),this.systemIntersAd.onLoad(()=>{console.log("XminigameSDK","HW \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.systemIntersAd.show()}),this.systemIntersAd.onError(e=>{console.log("XminigameSDK","HW \u7cfb\u7edf\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e))}),this.systemIntersAd.onClose(()=>{console.log("XminigameSDK","HW \u7528\u6237\u624b\u52a8\u5173\u95ed\u7cfb\u7edf\u63d2\u5c4f"),this.NUM_IntersNowIntervalTime=0}),this.systemIntersAd.load())}createSystemBanner(){if(console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner))return void console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************");let e=qg.getSystemInfoSync().windowWidth,t=qg.getSystemInfoSync().windowHeight;this.bannerAd=qg.createBannerAd({adUnitId:this.ID_SystemBanner,style:{top:t-57,left:e<t?(e-360)/2:0,height:57,width:360}}),this.bannerAd.onLoad(()=>{console.log("XminigameSDK","HW \u7cfb\u7edfbanner\u5c55\u793a\u6210\u529f"),this.isShow_SystemBanner=!0}),this.bannerAd.onError(e=>{console.log("XminigameSDK","HW \u7cfb\u7edfbanner\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))}),this.bannerAd.onClose(()=>{console.log("XminigameSDK","HW \u7cfb\u7edfbanner\u88ab\u7528\u6237\u5173\u95ed",this.NUM_BannerUpdateTime,"S\u540e\u518d\u6b21\u5237\u65b0")}),this.hasShowBanner&&this.bannerAd.show()}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=hbs.createRewardedVideoAd({adUnitId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK","HW \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","HW \u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff1a"+JSON.stringify(e)),this.loadSucc_Video=!1,this.videoAd&&setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{e.isEnded?(console.log("XminigameSDK","HW \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.videoAd.load())):(console.log("XminigameSDK","HW \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.videoAd.load()))}),this.videoAd.load())}createNative(){console.log("XminigameSDK","--createNative--"),a.default.stringHasSpace(this.ID_Native)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u539f\u751f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u539f\u751f\u5e7f\u544aID*********************"):(this.nativeAd=hbs.createNativeAd({adUnitId:this.ID_Native}),this.nativeAdInfo={adId:null,title:"",source:"",Native_icon:null,Native_BigImage:null},this.hasCreateNative=!0,this.nativeAd.onLoad(e=>{console.log("XminigameSDK","HW \u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",JSON.stringify(e.adList[0])),this.loadSucc_NewNativeAd=!0;let t=e.adList[0];null!=t.adId&&""!=t.adId&&(this.nativeAdInfo.adId=t.adId),null!=t.title&&""!=t.title&&(this.nativeAdInfo.title=t.title),null!=t.source&&""!=t.source&&(this.nativeAdInfo.source=t.source),t&&null!=t.imgUrlList&&t.imgUrlList.length>0?cc.loader.load(t.imgUrlList[0],(e,t)=>{this.nativeAdInfo.Native_BigImage=t,this.createNative_NativeBanner?(this.createNative_NativeBanner=!1,this.res_NativeBannerLoadNative=this.nativeAdInfo,this.showNativeBanner()):this.createNative_NativeInters&&(this.createNative_NativeInters=!1,this.res_NativeIntersLoadNative=this.nativeAdInfo,this.showNativeInters())}):this.nativeAdInfo.Native_BigImage=null}),this.nativeAd.onError(e=>{console.log("XminigameSDK","HW \u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e))}),this.nativeAd.load())}loadNativeBannerRes(){console.log("XminigameSDK","--loadNativeBannerRes--"),this.nativeBannerRes={NativeBannerBg:null,NativeBannerButton:null,NativeClose:null,NativeAdTip:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"],(e,t)=>{this.nativeBannerRes.NativeBannerBg=t[0],this.nativeBannerRes.NativeBannerButton=t[1],this.nativeBannerRes.NativeClose=t[2],this.nativeBannerRes.NativeAdTip=t[3],this.loadSucc_NativeBanner=!0,console.log("XminigameSDK","\u539f\u751fbanner\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadNativeInterRes(){console.log("XminigameSDK","--loadNativeInterRes--"),this.nativeIntersRes={NativeInterMask:null,NativeIntersBg:null,NativeIntersButton:null,NativeIntersClose:null,NativeIntersAdTip:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/NativeInters2/BlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/NativeInters2/Bg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/NativeInters2/Button.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/NativeInters2/Close.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/NativeInters2/AdTip.png"],(e,t)=>{this.nativeIntersRes.NativeInterMask=t[0],this.nativeIntersRes.NativeIntersBg=t[1],this.nativeIntersRes.NativeIntersButton=t[2],this.nativeIntersRes.NativeIntersClose=t[3],this.nativeIntersRes.NativeIntersAdTip=t[4],this.loadSucc_NativeInters=!0,console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}getChannelId(){return n.default.getChannelId()}showBanner(){if(this.loadSucc_Banner)return this.NUM_BannerMostShow<=this.NUM_BannerClose?(console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner))):void(this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.loadSucc_SystemBanner=this.SW_SystemBanner&&""!=this.ID_SystemBanner,this.SW_SystemBanner&&this.SW_NativeBanner?this.SW_SystemBannerFirst?(console.log("XminigameSDK","\u7cfb\u7edfbanner\u4f18\u5148"),this.loadSucc_SystemBanner?this.showSystemBanner():this.loadSucc_NativeBanner&&(console.log("XminigameSDK","\u7cfb\u7edfbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5c55\u793a\u539f\u751fbanner"),this.showNativeBanner())):(console.log("XminigameSDK","\u539f\u751fbanner\u4f18\u5148"),this.loadSucc_NativeBanner?this.showNativeBanner():this.loadSucc_SystemBanner&&(console.log("XminigameSDK","\u539f\u751fbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5c55\u793a\u7cfb\u7edfbanner"),this.showSystemBanner())):this.SW_SystemBanner?this.showSystemBanner():this.SW_NativeBanner&&this.showNativeBanner(),this.updateBanner()));this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideNativeBanner(),this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return this.loadSucc_NativeInters||this.SW_AddDesktop&&this.NUM_AutoAddDeskMostTimes>0||""!=this.ID_SystemInters}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK","\u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762","\u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK","\u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_hasShowInters,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_intersNowInterval,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230",this.NUM_IntersNowIntervalTime,"\u76ee\u6807\u65f6\u95f4",this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.SW_SystemInters&&this.SW_NativeInters?Math.floor(100*Math.random())>=this.NUM_NativeIntersP?(console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u4f18\u5148"),""!=this.ID_SystemInters?(console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u53ef\u4ee5\u5c55\u793a"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showSystemInters()},this.NUM_IntersDelayTime)):this.showSystemInters()):(console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u6ca1\u6709\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_NativeInters&&(console.log("XminigameSDK","\u6539\u4e3a\u5c55\u793a\u539f\u751f\u63d2\u5c4f"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showNativeInters()},this.NUM_IntersDelayTime)):this.showNativeInters()))):(console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u4f18\u5148"),this.loadSucc_NativeInters?(console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u53ef\u4ee5\u5c55\u793a"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showNativeInters()},this.NUM_IntersDelayTime)):this.showNativeInters()):(console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u6ca1\u6709\u52a0\u8f7d\u5230"),""!=this.ID_SystemInters&&(console.log("XminigameSDK","\u6539\u4e3a\u5c55\u793a\u7cfb\u7edf\u63d2\u5c4f"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showSystemInters()},this.NUM_IntersDelayTime)):this.showSystemInters()))):this.SW_SystemInters?(console.log("XminigameSDK","\u53ea\u6253\u5f00\u4e86\u7cfb\u7edf\u63d2\u5c4f"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showSystemInters()},this.NUM_IntersDelayTime)):this.showSystemInters()):this.SW_NativeInters?(console.log("XminigameSDK","\u53ea\u6253\u5f00\u4e86\u539f\u751f\u63d2\u5c4f"),this.loadSucc_NativeInters&&(this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showNativeInters()},this.NUM_IntersDelayTime)):this.showNativeInters())):console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u5f00\u5173\u548c\u539f\u751f\u63d2\u5c4f\u5f00\u5173\u90fd\u6ca1\u6709\u6253\u5f00")}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(console.log("XminigameSDK","HW showVideo========================"),this.callback_Video=e,this.videoAd.show())}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){}reportNativeAdShow(e){console.log("XminigameSDK","HW \u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u5c55\u793a","\u5e7f\u544aID\u4e3a:"+e),this.nativeAd.reportAdShow({adId:e})}reportNativeAdClick(e){console.log("XminigameSDK","HW \u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u70b9\u51fb","\u5e7f\u544aID\u4e3a:"+e),this.nativeAd.reportAdClick({adId:e})}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){this.AdGroup=e}hasAddDesktopFunc(){return!0}getAddDesktopFlag(e){hbs.hasInstalled({success:function(t){t?(console.log("XminigameSDK","HW \u5df2\u521b\u5efa\u684c\u9762\u56fe\u6807"),e(!1)):(console.log("XminigameSDK","HW \u672a\u521b\u5efa\u684c\u9762\u56fe\u6807"),e(!0))},fail:function(t){console.log("XminigameSDK","HW \u6dfb\u52a0\u684c\u9762\u672a\u77e5\u9519\u8bef:"+t),e(!1)}})}addDesktop(e){hbs.install({success:function(){console.log("XminigameSDK","HW \u6dfb\u52a0\u684c\u9762\u6210\u529f"),e(!0)},fail:function(t){console.log("XminigameSDK","HW \u6dfb\u52a0\u684c\u9762\u5931\u8d25:"+JSON.stringify(t)),e(!1)}})}phoneVibrate(e){}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){e(null)}shareVideo(e,t,i,a,n){n(null)}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","HW getUserData====================="),e({userId:s.default.getData("userId"),token:s.default.getData("token"),userType:s.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","HW getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};hbs.authorize({scope:"userInfo",params:{appid:n.default.getAppId(),type:"token",scope:"scope.baseProfile",state:"200"},success:i=>{console.log("XminigameSDK","HW authorize success",i),t.name=i.nickname,null!=i.avatar.default&&(t.head=i.avatar.default),t.power=!0,s.default.setData("avatarUrl",t.head),s.default.setData("nickName",t.name),e(t)},fail:()=>{console.log("XminigameSDK","HW authorize fail"),t.power=!1,e(t)}})}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){}visitorExperience(e){}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){if(this.isShow_PrivacyAgreement)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showPrivacyAgreement,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_PrivacyAgreement=!0,console.log("XminigameSDK","HW showPrivacyAgreement=================="),""==e&&(e="https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/companyLogUrl_Xplay.png"),""==t&&(t="https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/htmlUrl_Xplay.html");let a=[e,"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/PrivacyAgreementBtn.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/Agree.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/Close.png"];o.default.loadResArray(a,(e,a)=>{let n=cc.director.getScene();this.node_privacyAgreement=new cc.Node("node_privacyAgreement"),n.addChild(this.node_privacyAgreement),this.node_privacyAgreement.x=cc.winSize.width/2,this.node_privacyAgreement.y=cc.winSize.height/2,cc.winSize.width<cc.winSize.height?this.node_privacyAgreement.scale=cc.view.getDesignResolutionSize().width/1080:this.node_privacyAgreement.scale=cc.view.getDesignResolutionSize().height/1080,""!=this.AdGroup&&(this.node_privacyAgreement.group=this.AdGroup),this.node_privacyAgreement.zIndex=3e4;let o=new cc.Node("main");this.node_privacyAgreement.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[0]),o.x=0,o.y=0;let s=new cc.Node("privacyAgreementBtn");o.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[1]),s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignRight=!0,s.getComponent(cc.Widget).right=236,s.getComponent(cc.Widget).isAlignBottom=!0,s.getComponent(cc.Widget).bottom=207;let r=new cc.Node("agree");o.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[2]),r.addComponent(cc.Widget),r.getComponent(cc.Widget).isAlignRight=!0,r.getComponent(cc.Widget).right=23,r.getComponent(cc.Widget).isAlignBottom=!0,r.getComponent(cc.Widget).bottom=50.5;let l=new cc.Node("close");o.addChild(l),l.addComponent(cc.Sprite),l.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[3]),l.addComponent(cc.Widget),l.getComponent(cc.Widget).isAlignLeft=!0,l.getComponent(cc.Widget).left=24.5,l.getComponent(cc.Widget).isAlignBottom=!0,l.getComponent(cc.Widget).bottom=51.5,s.on(cc.Node.EventType.TOUCH_END,()=>{hbs.openDeeplink({uri:t})}),r.on(cc.Node.EventType.TOUCH_END,()=>{this.hidePrivacyAgreement(),i(!0)}),l.on(cc.Node.EventType.TOUCH_END,()=>{this.hidePrivacyAgreement(),i(!1)})})}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_SystemBanner=this.SW_SystemBanner&&""!=this.ID_SystemBanner,this.loadSucc_Banner=this.loadSucc_NativeBanner||this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showNativeBanner(){if(this.createNative_NativeBanner=!0,!this.hasCreateNative)return void this.createNative();if(!this.loadSucc_NewNativeAd)return void this.loadNewNative();this.loadSucc_NewNativeAd=!1,this.createNative_NativeBanner=!1,this.isShow_NativeBanner=!0;let e=cc.director.getScene();console.log("XminigameSDK","showNativeBanner========================");let t=this.res_NativeBannerLoadNative.adId;this.reportNativeAdShow(t),this.nativeAdShowInfo[0]=t,this.node_nativeBanner=new cc.Node("node_nativeBanner"),e.addChild(this.node_nativeBanner),this.node_nativeBanner.addComponent(cc.Sprite),this.node_nativeBanner.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeBannerBg),this.node_nativeBanner.addComponent(cc.Widget),this.node_nativeBanner.getComponent(cc.Widget).isAlignHorizontalCenter=!0,this.node_nativeBanner.getComponent(cc.Widget).isAlignBottom=!0,this.node_nativeBanner.getComponent(cc.Widget).bottom=0,cc.winSize.width<cc.winSize.height?(this.node_nativeBanner.width=cc.winSize.width,this.node_nativeBanner.height=.18*cc.winSize.width):(this.node_nativeBanner.width=cc.winSize.width/2,this.node_nativeBanner.height=.18*this.node_nativeBanner.width),""!=this.AdGroup&&(this.node_nativeBanner.group=this.AdGroup),this.node_nativeBanner.zIndex=29999,this.node_nativeBanner.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(t),console.log("XminigameSDK","\u539f\u751fbanner\u5173\u95ed",this.NUM_BannerUpdateTime+"S\u540e\u518d\u6b21\u5237\u65b0"),this.hideNativeBanner(),this.NUM_BannerClose++,this.updateBanner()});let i=new cc.Node("adTip");this.node_nativeBanner.addChild(i),i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeAdTip),i.height=.2*this.node_nativeBanner.height,i.width=i.height/.45,i.x=this.node_nativeBanner.width/2-i.width/2,i.y=this.node_nativeBanner.height/2-i.height/2;let a=new cc.Node("bannerButton");this.node_nativeBanner.addChild(a),a.active=!1,a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeBannerButton),a.width=.255*this.node_nativeBanner.width,a.height=.351*a.width,a.x=this.node_nativeBanner.width/2-.185*this.node_nativeBanner.width,a.y=0;let n=new cc.Node("image");this.node_nativeBanner.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.res_NativeBannerLoadNative.Native_BigImage),n.height=this.node_nativeBanner.height,n.width=2*n.height,n.x=n.width/2-this.node_nativeBanner.width/2,n.y=0;let o=new cc.Node("titleLabel");this.node_nativeBanner.addChild(o),o.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?o.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*35:o.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*35,""==this.res_NativeBannerLoadNative.source?o.getComponent(cc.Label).string=this.res_NativeBannerLoadNative.title:o.getComponent(cc.Label).string=this.res_NativeBannerLoadNative.source,o.getComponent(cc.Label).overflow=cc.Label.Overflow.CLAMP,o.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.LEFT,o.getComponent(cc.Label).verticalAlign=cc.Label.VerticalAlign.CENTER,o.getComponent(cc.Label).lineHeight=o.getComponent(cc.Label).fontSize,o.color=cc.color(255,0,0),o.width=this.node_nativeBanner.width-n.width-a.width-.2*this.node_nativeBanner.height/.45,o.height=this.node_nativeBanner.height,o.y=0,o.x=-this.node_nativeBanner.width/2+2.2*this.node_nativeBanner.height+o.width/2;let s=new cc.Node("closeICON");this.node_nativeBanner.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeClose),s.width=.27*this.node_nativeBanner.height,s.height=.27*this.node_nativeBanner.height,s.x=-this.node_nativeBanner.width/2+s.width/2,s.y=this.node_nativeBanner.height/2-s.width/2;let r=new cc.Node("closeButton");this.node_nativeBanner.addChild(r),r.width=s.height,r.height=s.height,r.x=-this.node_nativeBanner.width/2+s.width/2,r.y=this.node_nativeBanner.height/2-s.width/2,r.zIndex=29999,r.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u539f\u751fbanner\u5173\u95ed",this.NUM_BannerUpdateTime+"S\u540e\u518d\u6b21\u5237\u65b0"),this.hideNativeBanner(),this.NUM_BannerClose++,this.updateBanner(),e.stopPropagation()})}showSystemBanner(){console.log("XminigameSDK","HW showSystemBanner========================"),this.createSystemBanner()}updateBanner(){if(this.NUM_BannerMostShow<=this.NUM_BannerClose)return console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed(\u6700\u591a\u5c55\u793a)\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner));this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{if(this.NUM_BannerMostShow<=this.NUM_BannerClose)return console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed(\u6700\u591a\u5c55\u793a)\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner));this.loadSucc_SystemBanner=this.SW_SystemBanner&&""!=this.ID_SystemBanner,this.SW_SystemBanner&&this.SW_NativeBanner?this.SW_SystemBannerFirst?(console.log("XminigameSDK","\u7cfb\u7edfbanner\u4f18\u5148"),this.loadSucc_SystemBanner?(console.log("XminigameSDK","\u5237\u65b0\u7cfb\u7edfbanner"),this.updateSystemBanner()):this.loadSucc_NativeBanner&&(console.log("XminigameSDK","\u7cfb\u7edfbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5237\u65b0\u539f\u751fbanner"),this.updateNativeBanner())):(console.log("XminigameSDK","\u539f\u751fbanner\u4f18\u5148"),this.loadSucc_NativeBanner?(console.log("XminigameSDK","\u5237\u65b0\u539f\u751fbanner"),this.updateNativeBanner()):this.loadSucc_SystemBanner&&(console.log("XminigameSDK","\u539f\u751fbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5237\u65b0\u7cfb\u7edfbanner"),this.updateSystemBanner())):this.SW_SystemBanner?this.updateSystemBanner():this.SW_NativeBanner&&this.updateNativeBanner()},1e3*this.NUM_BannerUpdateTime)}updateSystemBanner(){console.log("XminigameSDK","HW updateSystemBanner========================"),this.hideNativeBanner(),this.hideSystemBanner(),this.createSystemBanner()}hideSystemBanner(){this.isShow_SystemBanner&&(console.log("XminigameSDK","HW hideSystemBanner========================"),this.isShow_SystemBanner=!1,this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null))}updateNativeBanner(){console.log("XminigameSDK","HW updateNativeBanner========================"),this.hideNativeBanner(),this.hideSystemBanner(),this.showNativeBanner()}hideNativeBanner(){this.isShow_NativeBanner&&(console.log("XminigameSDK","HW hideNativeBanner========================"),this.isShow_NativeBanner=!1,this.nativeAdShowInfo[0]="",this.node_nativeBanner&&(this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null))}showSystemInters(){""!=this.ID_SystemInters?(console.log("XminigameSDK","HW showSystemInters========================"),this.systemIntersAd?this.systemIntersAd.load():this.createSystemInters()):console.log("XminigameSDK","HW \u63d2\u5c4f\u672a\u52a0\u8f7d\u5b8c\u6210\u6216\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aid\u4e3a\u7a7a")}showNativeInters(){if(this.createNative_NativeInters=!0,!this.hasCreateNative)return void this.createNative();if(!this.loadSucc_NewNativeAd)return void this.loadNewNative();this.loadSucc_NewNativeAd=!1,this.createNative_NativeInters=!1;let e=cc.director.getScene();console.log("XminigameSDK","showNativeInters========================");let t=this.res_NativeIntersLoadNative.adId;this.reportNativeAdShow(t),this.nativeAdShowInfo[1]=t,this.node_nativeInters=new cc.Node("node_nativeInters"),e.addChild(this.node_nativeInters),this.node_nativeInters.zIndex=30003,this.node_nativeInters.width=2560,this.node_nativeInters.height=2560,this.node_nativeInters.x=cc.winSize.width/2,this.node_nativeInters.y=cc.winSize.height/2,""!=this.AdGroup&&(this.node_nativeInters.group=this.AdGroup),this.node_nativeInters.on(cc.Node.EventType.TOUCH_START,function(){});let i=new cc.Node("NativeInterMask");this.node_nativeInters.addChild(i),i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeInterMask),i.width=this.node_nativeInters.width,i.height=this.node_nativeInters.height,i.opacity=150;let a=new cc.Node("NativeIntersBg");if(this.node_nativeInters.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersBg),cc.winSize.width<cc.winSize.height){a.width=.95*cc.winSize.width,a.height=.65*a.width,a.y=.05*cc.winSize.height;let e=new cc.Node("NativeIntersButton");a.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersButton),e.width=.6*a.width,e.height=.25*e.width,e.y=-a.height/2-e.height/2-.3*e.height,e.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(t),this.nativeAdShowInfo[1]="",this.node_nativeInters.removeFromParent(),this.node_nativeInters=null,this.NUM_IntersNowIntervalTime=0})}else{a.height=.6*cc.winSize.height,a.width=1.5*a.height,a.y=.1*cc.winSize.height;let e=new cc.Node("NativeIntersButton");a.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersButton),e.width=.6*a.width,e.height=.25*e.width,e.y=-a.height/2-e.height/2-.3*e.height,e.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(t),this.nativeAdShowInfo[1]="",this.node_nativeInters.removeFromParent(),this.node_nativeInters=null,this.NUM_IntersNowIntervalTime=0})}a.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(t),this.nativeAdShowInfo[1]="",this.node_nativeInters.removeFromParent(),this.node_nativeInters=null,this.NUM_IntersNowIntervalTime=0});let n=new cc.Node("sourceLabel");a.addChild(n),n.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*30:n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*30,n.getComponent(cc.Label).overflow=cc.Label.Overflow.RESIZE_HEIGHT,n.getComponent(cc.Label).string=this.res_NativeIntersLoadNative.source,n.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.CENTER,n.getComponent(cc.Label).lineHeight=n.getComponent(cc.Label).fontSize,n.color=cc.Color.RED,n.width=.2*a.width,n.height=.2*a.height,n.x=n.width/2-a.width/2,n.y=a.height/2-.6*n.height;let o=new cc.Node("titleLabel");a.addChild(o),o.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?o.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*70:o.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*70,this.res_NativeIntersLoadNative.title.length>=6&&(this.res_NativeIntersLoadNative.title=this.res_NativeIntersLoadNative.title.substring(0,10)),o.getComponent(cc.Label).string=this.res_NativeIntersLoadNative.title,o.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.CENTER,o.getComponent(cc.Label).overflow=cc.Label.Overflow.SHRINK,o.getComponent(cc.Label).lineHeight=o.getComponent(cc.Label).fontSize,o.color=cc.color(255,255,255),o.width=.8*a.width,o.height=.2*a.width,o.y=a.height/2-o.height/2-.05*a.height,console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5927\u56fe\u5c55\u793a");let s=new cc.Node("bigImage");a.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.res_NativeIntersLoadNative.Native_BigImage),s.width=.95*a.width,s.height=.5*s.width,s.y=s.height/2-.47*a.height;let r=new cc.Node("NativeIntersAdTip");a.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersAdTip),r.width=.08*a.width,r.height=.53*r.width,r.x=r.width/2-a.width/2,r.y=r.height/2-a.height/2;let l=new cc.Node("NativeIntersClose");a.addChild(l),l.addComponent(cc.Sprite),l.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersClose),l.zIndex=30010,l.x=a.width/2-l.width/2*1.25*a.width/914,l.y=a.height/2-l.width/2*1.25*a.width/914,l.width=a.width/15,l.height=l.width,l.on(cc.Node.EventType.TOUCH_START,e=>{this.NUM_IntersNowIntervalTime=0,this.nativeAdShowInfo[1]="",this.node_nativeInters.removeFromParent(),this.node_nativeInters=null,e.stopPropagation()})}loadNewNative(){this.nativeAd&&this.nativeAd.load()}hidePrivacyAgreement(){this.isShow_PrivacyAgreement&&(console.log("XminigameSDK","hidePrivacyAgreement========================"),this.isShow_PrivacyAgreement=!1,this.node_privacyAgreement&&(this.node_privacyAgreement.removeFromParent(),this.node_privacyAgreement=null))}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}onGameShow(){hbs.onShow(()=>{console.log("XminigameSDK","HW \u6e38\u620f\u56de\u5230\u524d\u53f0,\u662f\u5426\u6709\u539f\u751f\u5e7f\u544a\u5c55\u793a\u4e2d:",""!=this.nativeAdShowInfo[0]||""!=this.nativeAdShowInfo[1]),""!=this.nativeAdShowInfo[0]&&this.reportNativeAdShow(this.nativeAdShowInfo[0]),""!=this.nativeAdShowInfo[1]&&this.reportNativeAdShow(this.nativeAdShowInfo[1])})}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LoadRes":"LoadRes","../utils/LocalStorage":"LocalStorage"}],HuaweiDTO:[function(e,t,i){"use strict";cc._RF.push(t,"b5ce2Qh/EFCsrLhH1v6Y56A","HuaweiDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/GetConfig"),n=e("../../../utils/LocalStorage");i.default=class{constructor(e){this.openId=e,this.appId=a.default.getAppId(),this.nickName=n.default.getData("nickName"),this.avatar=n.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/GetConfig":"GetConfig","../../../utils/LocalStorage":"LocalStorage"}],HuaweiSDK:[function(e,t,i){"use strict";cc._RF.push(t,"15807a4TytHqovcwvgMi3km","HuaweiSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../ad/AdCenter"),n=e("../../SdkConfig"),o=e("../../server/dto/MoblieTokenDTO"),s=e("../../server/dto/VisitorTokenDTO"),r=e("../../server/ServerCenter"),l=e("../../utils/GetConfig"),h=e("../../utils/LocalStorage"),c=e("./dto/HuaweiDTO");i.default=class{constructor(){this.userId=h.default.getData("ServerUserId"),this.channelId=l.default.getChannelId(),this.appId=l.default.getAppId()}initAd(){""!=this.appId?n.huaweiAdConfig.openHuaweiManualModel?qg.gameLoginWithReal({forceLogin:1,appid:this.appId,success:e=>{console.log("XminigameSDK","HW \u767b\u5f55\u6210\u529f\uff1a",JSON.stringify(e)),a.default.getInstance().huaweiManualModel()},fail:(e,t)=>{console.log("XminigameSDK","HW \u767b\u5f55\u5931\u8d25",JSON.stringify(e)+","+JSON.stringify(t)),a.default.getInstance().huaweiManualModel()}}):this.startLogin():console.log("XminigameSDK","\u8bf7\u5728SdkConfig.ts\u4e2d\u586b\u5165appId return=================")}startLogin(){qg.gameLoginWithReal({forceLogin:1,appid:this.appId,success:e=>{console.log("XminigameSDK","HW \u767b\u5f55\u6210\u529f\uff1a",JSON.stringify(e));let t=new c.default(e.playerId);this.loginSucc(t)},fail:(e,t)=>{console.log("XminigameSDK","HW \u767b\u5f55\u5931\u8d25",JSON.stringify(e)+","+JSON.stringify(t)),console.log("XminigameSDK","HW \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new o.default(this.channelId,this.userId,e);r.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?r.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(h.default.setJsonData("adConfig",t.data),r.default.getInstance().getLocalStorageAdConfig()):r.default.getInstance().getLocalStorageAdConfig()}):r.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new s.default(this.channelId,this.userId);r.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?r.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(h.default.setJsonData("adConfig",t.data),r.default.getInstance().getLocalStorageAdConfig()):r.default.getInstance().getLocalStorageAdConfig()}):r.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../SdkConfig":"SdkConfig","../../ad/AdCenter":"AdCenter","../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/HuaweiDTO":"HuaweiDTO"}],IceCone:[function(e,t,i){"use strict";cc._RF.push(t,"b1bd0y7ECNGq7lhvQIV2wbh","IceCone"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Manager/AEManager"),n=e("../../LibTool/Manager/SoundsManager"),o=e("../../Manager/AssetsManager"),s=e("../../LibTool/Component/Base/SkillBase");class r extends s.default{eval(e,t,i,s){super.eval(e,t,i,s);for(let r=1;r<=this.times;r++){setTimeout(()=>{i[t].subCost(this.damage*this.level*e.cost)},1e3*this.delay*r);const l=i[t].node.parent.convertToWorldSpaceAR(i[t].node.position);a.aeManager.playEffect(cc.v2(l.x,l.y),this.effect),o.default.loadSound("Skill/"+this.sound).then(e=>{n.soundsManager.playEffect(e)}),e.playSkill(this.animation,this.icon,s)}return!0}}i.default=r,r.skillName="\u51b0\u7403",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],IceWall:[function(e,t,i){"use strict";cc._RF.push(t,"5bfa2rT7zFNq7pUScP25y/+","IceWall");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase"),{ccclass:l,property:h}=cc._decorator;let c=class extends r.default{eval(e,t,i,a){super.eval(e,t,i,a);for(let r=1;r<=this.times;r++)setTimeout(()=>{const t=cc.v2(0,0);for(let n=0;n<i.length;n++)i[n].subCost(this.damage*this.level*e.cost),t.x+=i[n].node.x,t.y+=i[n].node.y;t.x=t.x/i.length,t.y=t.y/i.length;let a=i[0].node.parent.convertToWorldSpaceAR(t);n.aeManager.playEffect(cc.v2(a.x,a.y+10),this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)})},1e3*this.delay*r),e.playSkill(this.animation,this.icon,a);return!0}};c.skillName="\u51b0\u5899",c=a([l],c),i.default=c,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],InstantDeath:[function(e,t,i){"use strict";cc._RF.push(t,"881b8woKONCbrccWtbD2sbD","InstantDeath");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase"),{ccclass:l,property:h}=cc._decorator;let c=class extends r.default{eval(e,t,i,a){super.eval(e,t,i,a);let r=Math.random()<this.damage;return r&&setTimeout(()=>{i[t].subCost(i[t].cost);const e=i[t].node.parent.convertToWorldSpaceAR(i[t].node.position);n.aeManager.playEffect(cc.v2(e.x,e.y),this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)})},1e3*this.delay),e.playSkill(this.animation,this.icon,a),r}};c.skillName="\u5373\u6b7b",c=a([l],c),i.default=c,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],IosAd:[function(e,t,i){"use strict";cc._RF.push(t,"c727aKjQ+xNGLt78Rg8YJhr","IosAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/GetConfig");let n=null,o=null,s=null,r=null;i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[]}createAd(){}startLoadPushGamaes(){}getChannelId(){return a.default.getChannelId()}showBanner(){jsb.reflection.callStaticMethod("DJADManagerVC","showBanner")}hideBanner(){jsb.reflection.callStaticMethod("DJADManagerVC","hideBanner")}getIntersFlag(){return"1"==jsb.reflection.callStaticMethod("DJADManagerVC","getIntersFlag")}showInters(e){jsb.reflection.callStaticMethod("DJADManagerVC","showInters")}getVideoFlag(){return"1"==jsb.reflection.callStaticMethod("DJADManagerVC","getVideoFlag")}showVideo(e,t){n=e,t?jsb.reflection.callStaticMethod("DJADManagerVC","showVideo:",t):jsb.reflection.callStaticMethod("DJADManagerVC","showVideo")}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!0}showNavigateIcon(e,t,i,a){let n=cc.winSize,o=e/n.width,s=(i-e/2)/n.width,r=(n.height-(a+e/2))/n.height;jsb.reflection.callStaticMethod("DJADManagerVC","showNavigateIcon:withX:withY:",o.toString(),s.toString(),r.toString())}hideNavigateIcon(){jsb.reflection.callStaticMethod("DJADManagerVC","hideNavigateIcon")}getNavigateGroupFlag(){return!0}showNavigateGroup(e,t,i,a){jsb.reflection.callStaticMethod("DJADManagerVC","showNavigateGroup:withSide:",e,t)}hideNavigateGroup(){jsb.reflection.callStaticMethod("DJADManagerVC","hideNavigateGroup")}getNavigateSettleFlag(){return!0}showNavigateSettle(e,t,i){let a=cc.winSize,n=t/a.width,o=(a.height-i)/a.height;jsb.reflection.callStaticMethod("DJADManagerVC","showNavigateSettle:withX:withY:",e.toString(),n.toString(),o.toString())}hideNavigateSettle(){jsb.reflection.callStaticMethod("DJADManagerVC","hideNavigateSettle")}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){jsb.reflection.callStaticMethod("systemSetting","shakePhone:",e)}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){}shareVideo(e,t,i,a,n){}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){}getUserInfo(e){}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return"1"==jsb.reflection.callStaticMethod("DJADManagerVC","getIntersVideoFlag")}showVideoInters(e){o=e,jsb.reflection.callStaticMethod("DJADManagerVC","showIntersVideo")}exitTheGame(){cc.game.end()}reportAnalytics(e,t){jsb.reflection.callStaticMethod("systemSetting","showUMWithType:withData:",e,JSON.stringify(t))}showAuthentication(e){s=e,jsb.reflection.callStaticMethod("systemSetting","showAuthentication")}visitorExperience(e){s=e,jsb.reflection.callStaticMethod("systemSetting","showAuthentication")}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){}showOPPOMoreGame(){}hasNetwork(e){r=e,jsb.reflection.callStaticMethod("systemSetting","hasNetwork")}showReviewAlert(){jsb.reflection.callStaticMethod("systemSetting","showReviewAlert")}showiOSADWithScene(e,t){jsb.reflection.callStaticMethod("DJADManagerVC","showiOSADWithScene:Platform:",e.toString(),t)}showiOSADWithType(e,t){jsb.reflection.callStaticMethod("DJADManagerVC","showiOSADWithType:Platform:",e.toString(),t)}videoUIShow(e){jsb.reflection.callStaticMethod("DJADManagerVC","videoUIShow:",e.toString())}showPrivacyAgreement(e,t,i){}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}},window.IosShowAuthenticationCallback=function(e){console.log("ASCSDK","showAuthenticationCallback",s),s&&s("1"==e)},window.IosHasNetworkCallback=function(e){console.log("ASCSDK","hasNetworkCallback",r),r&&r("1"==e)},window.IosVideoCallback=function(e){console.log("XminigameSDK","\u89c6\u9891\u662f\u5426\u64ad\u653e\u5b8c\u6210?","1"==e),n&&n("1"==e)},window.IosVideoIntersCallBack=function(){console.log("XminigameSDK","videoInsertCallBack"),o&&o()},cc._RF.pop()},{"../utils/GetConfig":"GetConfig"}],IosSDK:[function(e,t,i){"use strict";cc._RF.push(t,"d8378JXqM1AYpFzYZWMjqPz","IosSDK"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{initAd(){}loginSucc(e){}loginFail(){}mustLogin(e){e(!0)}},cc._RF.pop()},{}],JoystickComponent:[function(e,t,i){"use strict";cc._RF.push(t,"b142bzF76xMi7h77kWMAGn6","JoystickComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Manager/MessageManager"),o=e("../tools"),{ccclass:s,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.joystickNode=null,this.maxDistance=100,this.isRotation=!0,this.startPosition=null}start(){this.joystickNode.on(cc.Node.EventType.TOUCH_START,this.onStart,this),this.joystickNode.on(cc.Node.EventType.TOUCH_MOVE,this.onMove,this),this.joystickNode.on(cc.Node.EventType.TOUCH_END,this.onEnd,this),this.joystickNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onEnd,this)}onStart(e){const t=e.getLocation(),i=o.default.convertToNodeSpace(cc.v3(t),cc.find("Canvas"),this.node);this.startPosition=i,n.messageManager.postMessage("joyDown")}onMove(e){const t=e.getLocation();let i=o.default.convertToNodeSpace(cc.v3(t),cc.find("Canvas"),this.node);i=cc.v3(i.x-this.startPosition.x,i.y-this.startPosition.y,i.z-this.startPosition.z);let a=o.default.getDistance(cc.Vec3.ZERO,i);a<this.maxDistance?this.joystickNode.setPosition(i):(a=this.maxDistance,i=o.default.toUnitVector(i,a),this.joystickNode.setPosition(i)),this.isRotation&&(this.joystickNode.angle=o.default.getVectorAngle(cc.v2(i))),n.messageManager.postMessage("joyMove",cc.v2(o.default.toUnitVector(i,a/this.maxDistance)))}onEnd(e){this.joystickNode.setPosition(cc.v3(0,0,0)),this.joystickNode.angle=0,n.messageManager.postMessage("joyUp")}};a([r({type:cc.Node,tooltip:"\u6447\u6746\u8282\u70b9"})],l.prototype,"joystickNode",void 0),a([r({tooltip:"\u6700\u5927\u79fb\u52a8\u8ddd\u79bb"})],l.prototype,"maxDistance",void 0),a([r({tooltip:"\u662f\u5426\u5f00\u542f\u65cb\u8f6c"})],l.prototype,"isRotation",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../Manager/MessageManager":"MessageManager","../tools":"tools"}],KwaiAd:[function(e,t,i){"use strict";cc._RF.push(t,"2bf1bRahwFEB5sNqHmac2+i","KwaiAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.videoPath=null,this.gameRecorder=null,this.callback_Recorder=null}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.SW_Video&&""!=this.ID_Video&&this.createVideo()}startLoadPushGamaes(){}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=kwaigame.createRewardedVideoAd({adUnitId:this.ID_Video}),this.loadSucc_Video=!0,this.videoAd.onClose(()=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u53d6\u6d88\u64ad\u653e"),this.callback_Video(!1)}),this.videoAd.onReward(()=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5b8c\u6210"),this.callback_Video(!0)}))}getChannelId(){return n.default.getChannelId()}showBanner(){}hideBanner(){}getIntersFlag(){return!1}showInters(e){}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(this.callback_Video=e,console.log("XminigameSDK","KS showVideo========================"),this.videoAd.show({success:()=>{},fail:e=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25: "+JSON.stringify(e))}}))}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){}startGameVideo(e){this.videoPath=null,this.gameRecorder=kwaigame.createMediaRecorder(),null!==this.gameRecorder?(this.gameRecorder.onStart(()=>{console.log("XminigameSDK","KS \u5f55\u5c4f\u5f00\u59cb")}),this.gameRecorder.onStop(e=>{console.log("XminigameSDK","KS \u5f55\u5c4f\u7ed3\u675f",JSON.stringify(e)),this.videoPath=e.videoID,this.callback_Recorder(this.videoPath)}),this.gameRecorder.onError(e=>{console.log("XminigameSDK","\u53d1\u751f\u5f55\u5c4f\u9519\u8bef\uff1a",JSON.stringify(e))}),this.gameRecorder.start()):console.log("XminigameSDK","\u5f53\u524d\u7248\u672cApp\u4e0d\u652f\u6301\u5f55\u5c4f")}pauseGameVideo(){console.log("XminigameSDK","KS \u6682\u505c\u5f55\u5c4f=================="),this.gameRecorder&&this.gameRecorder.pause()}resumeGameVideo(){console.log("XminigameSDK","KS \u7ee7\u7eed\u5f55\u5c4f=================="),this.gameRecorder&&this.gameRecorder.resume()}stopGameVideo(e){this.callback_Recorder=e,console.log("XminigameSDK","KS stopGameVideo=================="),this.gameRecorder&&this.gameRecorder.stop()}shareVideo(e,t,i,a,n){this.gameRecorder&&this.gameRecorder.publishVideo({mouldId:e,video:a,callback:e=>{null!=e&&null!=e?(console.log("XminigameSDK","KS \u5206\u4eab\u5f55\u5c4f\u5931\u8d25: ",JSON.stringify(e)),-10014==e.code&&console.log("XminigameSDK","\u5f55\u5c4f\u65f6\u95f4\u8fc7\u77ed"),n(!1)):(console.log("XminigameSDK","KS \u5206\u4eab\u5f55\u5c4f\u6210\u529f"),n(!0))}})}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","BL getUserData====================="),e({userId:o.default.getData("userId"),token:o.default.getData("token"),userType:o.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","BL getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};kwaigame.authorize({scope:"Scope.userInfo",success:()=>{console.log("XminigameSDK","BL \u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f")},fail:e=>{console.log("XminigameSDK","BL \u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff1a"+JSON.stringify(e))},complete:()=>{console.log("XminigameSDK","BL \u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5b8c\u6210")}}),kwaigame.getUserInfo({success:i=>{console.log("XminigameSDK","\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f\uff1a"+JSON.stringify(i)),t.head=i.userHead,t.name=i.userName,t.sex=i.gender,t.power=!0,o.default.setData("avatarUrl",t.head),o.default.setData("nickName",t.name),o.default.setData("gender",t.sex),e(t)},fail:i=>{console.log("XminigameSDK","\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25: "+JSON.stringify(i)),t.power=!1,e(t)},complete:()=>{console.log("XminigameSDK","\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5b8c\u6210")}})}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){e(!1)}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!1)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!1)}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],KwaiDTO:[function(e,t,i){"use strict";cc._RF.push(t,"26d9ay+8/lFfLKHQEHatrzf","KwaiDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e,t){this.gameUserId=e,this.gameToken=t,this.nickName=a.default.getData("nickName"),this.avatar=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],KwaiSDK:[function(e,t,i){"use strict";cc._RF.push(t,"5dbfdX7FyRCRI0PaqpRj/QW","KwaiSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/KwaiDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){this.startLogin()}startLogin(){kwaigame.login({success:e=>{console.log("XminigameSDK","KS \u767b\u5f55\u6210\u529f:"+JSON.stringify(e));let t=new l.default(e.gameUserId,e.gameToken);this.loginSucc(t)},fail:e=>{console.log("XminigameSDK","KS \u767b\u5f55\u5931\u8d25:"+JSON.stringify(e)),console.log("XminigameSDK","KS \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/KwaiDTO":"KwaiDTO"}],LanguageComponent:[function(e,t,i){"use strict";cc._RF.push(t,"a65ddiuB4JLmYLh1u/C73ov","LanguageComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Manager/LanguageManager"),{ccclass:o,property:s,menu:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.isImage=!1,this.images=[],this._langID="",this.txLang=null,this.spLang=null,this.index=0}set langID(e){this._langID=e,this.updateLang()}get langID(){return this._langID}onLoad(){this.isImage?(this.spLang=this.node.getComponent(cc.Sprite),this.spLang||(this.spLang=this.node.addComponent(cc.Sprite))):(this.txLang=this.node.getComponent(cc.Label),this.txLang||(this.txLang=this.node.addComponent(cc.Label))),this.updateLang()}updateLang(){if(this.isImage){switch(n.languageManager.getLanType()){case cc.sys.LANGUAGE_CHINESE:this.index=0;break;case cc.sys.LANGUAGE_ENGLISH:default:this.index=1}this.spLang.spriteFrame=this.images[this.index]}else this.txLang.string=n.languageManager.getLan(this._langID)}};a([s({tooltip:"\u662f\u5426\u662f\u56fe\u7247"})],l.prototype,"isImage",void 0),a([s({type:cc.SpriteFrame,tooltip:"\u591a\u8bed\u8a00\u56fe\u7247\uff0c\u6570\u7ec4\u7b2c\u4e00\u4e2a\u4e3a\u4e2d\u6587\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u82f1\u6587",visible:function(){return this.isImage}})],l.prototype,"images",void 0),a([s({tooltip:"\u591a\u8bed\u8a00ID",visible:function(){return!this.isImage}})],l.prototype,"langID",null),l=a([o,r("LibTool/Component/LanguageComponent")],l),i.default=l,cc._RF.pop()},{"../Manager/LanguageManager":"LanguageManager"}],LanguageManager:[function(e,t,i){"use strict";cc._RF.push(t,"296bfZ1XmVIEomWoZC2rVa2","LanguageManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.languageManager=void 0;const a=e("../tools"),n=e("./Logger");class o{constructor(e){this.id=a.default.getPropertyFromJSON(e,"id"),this.chinese=a.default.getPropertyFromJSON(e,"zh"),this.english=a.default.getPropertyFromJSON(e,"en")}getLang(e){switch(e){case cc.sys.LANGUAGE_CHINESE:return this.chinese;case cc.sys.LANGUAGE_ENGLISH:default:return this.english}}}i.languageManager=new class{constructor(){this.nowLangType=cc.sys.language,this.langList=[]}initialize(e,t=!1){null==this.langList&&(this.langList=[]);const i="object"==typeof e?e:JSON.parse(e);if(null!=i){for(const e in i){const t=a.default.getPropertyFromJSON(i,e),s=new o(t);s?this.langList.push(s):n.logger.warning("Error parsing language file "+e+" : "+JSON.stringify(t))}if(t){const e=a.default.getItem("Language",cc.sys.language);n.logger.info("Load language config..."),this.nowLangType=e}n.logger.info("Now language: "+this.nowLangType)}}setLangType(e){this.nowLangType=e,a.default.setItem("Language",this.nowLangType)}getLan(e){for(const t in this.langList)if(this.langList[t].id===e)return this.langList[t].getLang(this.getLanType());return""}getLanType(){return this.nowLangType}},cc._RF.pop()},{"../tools":"tools","./Logger":"Logger"}],LevelView:[function(e,t,i){"use strict";cc._RF.push(t,"6933cSHkotKOYG9Cbqg/Dvd","LevelView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Component/ScrollComponent"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/LanguageManager"),l=e("../LibTool/Manager/SDKManager"),h=e("../LibTool/Manager/ViewManager"),c=e("../LibTool/tools"),d=e("../Manager/AssetsManager"),{ccclass:g,property:u}=cc._decorator;let m=class extends n.default{constructor(){super(...arguments),this._layout=2,this._viewName="LevelView",this.scroll=null,this.ad=null,this.data=null,this.nowSelect=null}onLoad(){super.onLoad(),d.default.loadJson("Level").then(e=>{this.data=e.json}).catch(()=>{})}openView(){super.openView(),this.ad.active=!1,this.scroll.setData(this.data)}onTouchBack(){for(const e in this.data)this.data[e].isSelect=!1;this.scroll.setData(this.data),this.closeView(),h.viewManager.openView("HomeView")}onTouchUnlock(){l.default.showRewardVideo(e=>{1===e?(l.default.reportEvent("AdTouch_Event",{AdTouch_Unlock:1}),s.archiveManager.gameData.unlock.indexOf(this.nowSelect.data.id)<0&&(s.archiveManager.gameData.unlock.push(this.nowSelect.data.id),this.nowSelect.data.isSelect=!1,this.nowSelect=null,this.scroll.setData(this.data))):2===e?c.default.showToast(r.languageManager.getLan("7"),.5,"UI"):c.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}select(e){if(this.nowSelect=e,this.ad.active=0==e.status,this.ad.active){for(const t in this.data)this.data[t]!=e.data&&(this.data[t].isSelect=!1);this.scroll.setData(this.data)}else{for(const e in this.data)this.data[e].isSelect=!1;this.scroll.setData(this.data),this.closeView(),cc.log(e.data);let t=e.data.id;t<=30?(s.archiveManager.gameData.map=0,s.archiveManager.gameData.level1=t):t<=80?(s.archiveManager.gameData.map=1,s.archiveManager.gameData.level2=t-30):(s.archiveManager.gameData.map=2,s.archiveManager.gameData.level3=t-80),h.viewManager.closeView("HomeView"),h.viewManager.openView("GameView")}}};a([u(o.default)],m.prototype,"scroll",void 0),a([u(cc.Node)],m.prototype,"ad",void 0),m=a([g],m),i.default=m,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Component/ScrollComponent":"ScrollComponent","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager"}],Level:[function(e,t,i){"use strict";cc._RF.push(t,"67b37/IIwJLxoR8Jgwuj7yr","Level");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/ArchiveManager"),o=e("../LibTool/Manager/ViewManager"),s=e("../LibTool/tools"),r=e("../View/LevelView"),{ccclass:l,property:h}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.lock=null,this.text=null,this.starBg=null,this.stars=[],this.select=null,this.data=null,this.status=0}initialize(e){this.data=e;const t=n.archiveManager.gameData.unlock,i=n.archiveManager.gameData.stars;if(this.text.string=(null==e?void 0:e.id)+"",this.isUnlock(t)&&this.hasStar(i)){this.text.node.active=!0,this.lock.active=!1,this.text.node.color=s.default.rgbToColor("#ffffff"),this.starBg.active=!0;for(const t in this.stars)this.stars[t].active=Number(t)<i[null==e?void 0:e.id];this.status=2}else this.isUnlock(t)?(this.text.node.active=!0,this.lock.active=!1,this.starBg.active=!1,this.text.node.color=s.default.rgbToColor("#135967"),this.status=2):(this.status=0,this.lock.active=!0,this.starBg.active=!1,this.text.node.active=!1);this.select.active=null==e?void 0:e.isSelect}isUnlock(e){return!0}hasStar(e){var t;return null!=e&&null!=e[null===(t=this.data)||void 0===t?void 0:t.id]}onTouch(){this.select.active=!0,this.data.isSelect=!0,o.viewManager.getView("LevelView",r.default).select(this)}};a([h(cc.Node)],c.prototype,"lock",void 0),a([h(cc.Label)],c.prototype,"text",void 0),a([h(cc.Node)],c.prototype,"starBg",void 0),a([h({type:cc.Node})],c.prototype,"stars",void 0),a([h(cc.Node)],c.prototype,"select",void 0),c=a([l],c),i.default=c,cc._RF.pop()},{"../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../View/LevelView":"LevelView"}],LoadAssetsManager:[function(e,t,i){"use strict";cc._RF.push(t,"3cb9bPm5KxPFaC8bdNJBhmt","LoadAssetsManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.loadAssetsManager=void 0;const a=e("./Logger");cc.assetManager.downloader.maxRetryCount=10,cc.assetManager.downloader.maxConcurrency=3,cc.assetManager.downloader.maxRequestsPerFrame=5,i.loadAssetsManager=new class{constructor(){this.assetList=new Map,this.bundleList=new Map}loadNetAsset(e,t,i,n,o){if(null==e||""===e)return;const s=this.assetList.get(e);s?o&&o.Call(s):cc.assetManager.loadRemote(e,{ext:t,onFileProgress:(e,t)=>{n&&n.Call(e/t)}},(t,i)=>{null==t?(n&&n.Call(1),this.assetList.set(e,i),o&&o.Call(i)):a.logger.warning("Load Error : "+e+":"+t)})}loadResAssets(e,t,i,n){const o=this.assetList.get(e);o?n&&n.Call(o):cc.resources.load(e,t,(e,t)=>{i&&i.Call(e/t)},(t,o)=>{null==t?(null!=i&&i.Call(1),this.assetList.set(e,o),n&&n.Call(o)):a.logger.warning("Load Error : "+e+"\r\n"+t)})}loadResDirAssets(e,t,i,n){cc.resources.loadDir(e,t,(e,t)=>{i&&i.Call(e/t)},(o,s)=>{if(null!=o)return a.logger.warning("Load Error: "+e+"\r\n"+o),void this.loadResDirAssets(e,t,i,n);null!=i&&i.Call(1),n&&n.Call(s)})}loadBundleAsset(e,t,i,n,o){const s=this.bundleList.get(e);null!=s?this.loadAssetByBundle(s,t,i,n,o):cc.assetManager.loadBundle(e,{onFileProgress:(e,t)=>{null!=n&&n.Call(e/t*.1)}},(s,r)=>{if(null!=s)return a.logger.warning("Load bundle error: "+e+"\r\n"+s),void(o&&o.Call(null));this.bundleList.set(e,r),this.loadAssetByBundle(r,t,i,n,o)})}loadBundleAssets(e,t,i,n,o){cc.assetManager.loadBundle(e,null,(s,r)=>{if(null!=s)return a.logger.warning("Load bundle error: "+e+"\r\n"+s),void(o&&o.Call(null));this.bundleList.set(e,r),r.load(t,i,(e,t)=>{n&&n.Call(e/t)},(e,i)=>{if(e)return a.logger.warning("Load asset error: "+t+"\r\n"+e),void(o&&o.Call(null));n&&n.Call(1),o&&o.Call(i)})})}loadAssetByBundle(e,t,i,n,o){null!=e&&e.load(t,i,(e,t)=>{null!=n&&n.Call(e/t*.9+.1)},(e,i)=>{if(null!=e)return a.logger.warning("Load bundle asset error: "+t+"\r\n"+e),void(o&&o.Call(null));null!=n&&n.Call(1),o&&o.Call(i)})}loadBundleAllAsset(e,t,i,n,o){cc.assetManager.loadBundle(e,(s,r)=>{null==s?r.loadDir(t,i,(e,t)=>{null!=n&&n.Call(e/t)},(t,i)=>{if(null!=t)return a.logger.warning("Load bundle asset error: "+e+"\r\n"+t+"\r\n"+i),void(o&&o.Call(null));null!=n&&n.Call(1),null!=o&&o.Call(i)}):a.logger.warning("Load bundle error: "+e+"\r\n"+s)})}loadBundleAssetPromise(e,t,i,n){return new Promise((o,s)=>{cc.assetManager.loadBundle(e,(r,l)=>{null==r?l.load(t,i,(e,t)=>{n&&n.Call(e/t)},(t,i)=>{if(null!=t)return a.logger.warning("Load bundle asset error: "+e+"\r\n"+t+"\r\n"+i),void s(t);n&&n.Call(1),o(i)}):s(r)})})}loadBundleAssetsPromise(e,t,i,n){return new Promise((o,s)=>{cc.assetManager.loadBundle(e,(r,l)=>{if(null!=r)return a.logger.warning("Load bundle error: "+e+"\r\n"+r+"\r\n"+l),void s(r);l.load(t,i,(e,t)=>{n&&n.Call(e/t)},(t,i)=>{if(t)return a.logger.warning("Load bundle asset error: "+e+"\r\n"+t+"\r\n"+i),void s(t);n&&n.Call(1),o(i)})})})}loadBundleAllAssetPromise(e,t,i,n){return new Promise((o,s)=>{cc.assetManager.loadBundle(e,(r,l)=>{null==r?l.loadDir(t,i,(e,t)=>{null!=n&&n.Call(e/t)},(t,i)=>{if(null!=t)return a.logger.warning("Load bundle asset error: "+e+"\r\n"+t+"\r\n"+i),void s(t);n&&n.Call(1),o(i)}):s(r)})})}},cc._RF.pop()},{"./Logger":"Logger"}],LoadRes:[function(e,t,i){"use strict";cc._RF.push(t,"26933xqRHBG9Jj4UFmPHzh8","LoadRes"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{static loadResArray(e,t){let i=new Array;var a=0;for(let n=0;n<e.length;n++)cc.loader.load({url:e[n],type:"png"},(o,s)=>{if(i[n]=s,null!=o||null==i[n])return console.log("ASCSDK","\u8d44\u6e90\u52a0\u8f7d\u9519\u8bef:"+JSON.stringify(o)),void t(!0,null);++a>=e.length&&t(!1,i)})}},cc._RF.pop()},{}],LoadingView:[function(e,t,i){"use strict";cc._RF.push(t,"45ff1w7O99E3JNDCFemxRB9","LoadingView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/ArchiveManager"),s=e("../LibTool/Manager/LanguageManager"),r=e("../LibTool/Manager/SDKManager"),l=e("../LibTool/Manager/SoundsManager"),h=e("../LibTool/Manager/ViewManager"),c=e("../LibTool/tools"),d=e("../Manager/AssetsManager"),{ccclass:g,property:u}=cc._decorator;let m=class extends n.default{constructor(){super(...arguments),this._layout=0,this._viewName="LoadingView",this.progressBar=null,this.configs=["Level"],this.views=[],this.homeViews=["View/HomeView","View/SetUpView","View/CTSignInView","View/CopyrightNoticeView","View/FreeCoinView","View/RoleView","View/ShopView","View/SlotView","View/TaskView","View/LevelView","View/CoinView","View/EnergyView"],this.gameViews=["View/GameView","View/CardSelectionView","View/DemonView","View/ChooseView","View/MapView","View/SkillInfoView","View/GameOverView","View/SettingView","View/CoinView","View/EnergyView"],this.progress=0,this.jsonProgress=0,this.prefabProgress=0,this.total=2,this.index=0,this.isFinish=!1,this.isFirst=!1}onLoad(){r.default.reportEvent("Load_Event",{Load_FirstScript:1}),super.onLoad(),cc.debug.setDisplayStats(!1),this.openView()}start(){this.isFirst="false"==c.default.getItem("isFirst","false"),Number(c.default.getItem("guideId","10"))<10&&(o.archiveManager.gameData.level1=1,o.archiveManager.gameData.level2=0,o.archiveManager.gameData.level3=0,o.archiveManager.gameData.map=0,o.archiveManager.gameData.unlock=[],o.archiveManager.saveData(),c.default.setItem("guideId","10"),this.isFirst=!0,c.default.setItem("isFirst","false")),this.isFirst?(o.archiveManager.gameData.level1=1,o.archiveManager.saveData()):o.archiveManager.gameData.level1>3&&c.default.setItem("guideId","18"),this.isFirst?h.viewManager.openView("MangaView"):(r.default.showBanner(),h.viewManager.openView("TransitionsView",()=>{this.loadStart()}))}loadStart(){o.archiveManager.gameData.level1&&o.archiveManager.gameData.unlock||(o.archiveManager.gameData={level1:1,level2:0,level3:0,map:0,unlock:[1],tipsCount:1,doubleCount:1,skinUnlock:[0]},o.archiveManager.saveData()),this.progress=0,d.default.loadJsons(this.configs,e=>{this.jsonProgress=e,this.updateProgress()}),this.views=this.homeViews,this.isFirst&&(this.views=this.gameViews),d.default.loadPrefabs(this.views,e=>{this.prefabProgress=e,this.updateProgress()}),d.default.loadJson("Language").then(e=>{s.languageManager.initialize(e.json)})}updateProgress(){const e=(this.jsonProgress+this.prefabProgress)/this.total;e>=this.progress&&(this.progress=e);let t=cc.tween(this.progressBar);t.to(.3,{fillRange:this.progress},{easing:cc.easing.backOut}),this.progress>=1&&!this.isFinish&&(this.isFinish=!0,t.call(()=>{this.loadFinish()})),t.start()}loadFinish(){this.closeView(),this.index=0;for(const e in this.views)d.default.loadPrefab(this.views[e]).then(e=>{h.viewManager.addView(e),this.index++,this.index==this.views.length&&(this.isFirst||h.viewManager.closeView("TransitionsView"),d.default.loadSound("bgm").then(e=>{l.soundsManager.playMusic(e)}),this.isFirst?(h.viewManager.openView("GameView"),c.default.setItem("isFirst","true"),d.default.loadPrefabs(this.homeViews,e=>{if(e>=1)for(const t in this.homeViews)d.default.loadPrefab(this.homeViews[t]).then(e=>{h.viewManager.addView(e)})})):(h.viewManager.openView("HomeView"),d.default.loadPrefabs(this.gameViews,e=>{if(e>=1)for(const t in this.gameViews)d.default.loadPrefab(this.gameViews[t]).then(e=>{h.viewManager.addView(e)})})))})}};a([u(cc.Sprite)],m.prototype,"progressBar",void 0),m=a([g],m),i.default=m,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager"}],LocalStorage:[function(e,t,i){"use strict";cc._RF.push(t,"cc10bbh+nVJzq6fngb3lGx/","LocalStorage"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("./GetEngine");class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}static setData(e,t){""!=e&&""!=t&&("Cocos"==a.default.getEngineName()?cc.sys.localStorage.setItem(e,t):Laya.localStorage.setItem(e,t))}static getData(e){let t;return""!=(t="Cocos"==a.default.getEngineName()?cc.sys.localStorage.getItem(e):Laya.localStorage.getItem(e))&&null!=t&&null!=t||(t=""),t}static setJsonData(e,t){""!=e&&""!=t&&("Cocos"==a.default.getEngineName()?cc.sys.localStorage.setItem(e,JSON.stringify(t)):Laya.localStorage.setItem(e,JSON.stringify(t)))}static getJsonData(e){let t;return""==(t="Cocos"==a.default.getEngineName()?cc.sys.localStorage.getItem(e):Laya.localStorage.getItem(e))||null==t||null==t||t=={}?null:JSON.parse(t)}}i.default=n,cc._RF.pop()},{"./GetEngine":"GetEngine"}],Logger:[function(e,t,i){"use strict";cc._RF.push(t,"82684MtqmJFGbd+eMfzBMkc","Logger"),Object.defineProperty(i,"__esModule",{value:!0}),i.logger=i.RecordData=void 0;const a=e("../tools");i.RecordData=class{constructor(){this.time=0,this.value=[]}},i.logger=new class{error(...e){console.warn("%c"+this.getTime()+"[Error]"+this.messageToString(e),"color: #FF8080;")}warning(...e){console.warn("%c"+this.getTime()+"[Warn]"+this.messageToString(e),"color: yellow;")}info(...e){console.log("%c"+this.getTime()+" [Info] "+this.messageToString(e),"color: #4BADD0;")}getTime(){const e=new Date;return(e.getFullYear()+"").padStart(2,"0")+"/"+(e.getMonth()+1+"").padStart(2,"0")+"/"+(e.getDate()+"").padStart(2,"0")+" "+(e.getHours()+"").padStart(2,"0")+":"+(e.getMinutes()+"").padStart(2,"0")+":"+(e.getSeconds()+"").padStart(2,"0")+":"+(e.getMilliseconds()+"").padStart(3,"0")}messageToString(...e){let t="\u3010 ";for(const i in e[0]){const a=JSON.stringify(e[0][i]);(e[0][i]+"").indexOf("[object")>=0?t+=a:t+=e[0][i],Number(i)+1<e[0].length&&(t+=", ")}return t+" \u3011"}recordData(e,...t){const i=this.getRecordData(e),n=(new Date).getTime();if(null!=i){const o=i.value;n-i.time<=6048e5&&o.push({time:this.getTime(),info:"[Record]",data:JSON.stringify(t)});const s={time:n,value:o};a.default.setItem(e,JSON.stringify(s))}else{const i={time:n,value:[{time:this.getTime(),info:"[Record]",data:JSON.stringify(t)}]};a.default.setItem(e,JSON.stringify(i))}}getRecordData(e){const t=a.default.getItem(e);return"string"==typeof t&&""!=t?JSON.parse(t):""===t?null:t}},cc._RF.pop()},{"../tools":"tools"}],M4399boxAd:[function(e,t,i){"use strict";cc._RF.push(t,"cf3bcscg0JDfZH2LLHwWpII","M4399boxAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.bannerAd=null,this.loadSucc_SystemBanner=!1,this.loadSucc_Banner=!1,this.hasShowBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.isShow_Video=!1}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.SW_SystemBanner&&this.createSystemBanner(),this.SW_SystemInters&&this.createSystemInters(),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_Video&&this.createVideo()}startLoadPushGamaes(){}createSystemBanner(){if(console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner))return void console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************");let e=gamebox.getSystemInfoSync().pixelRatio,t=320*e,i=50*e,o=gamebox.getSystemInfoSync().windowWidth,s=gamebox.getSystemInfoSync().windowHeight;this.bannerAd=gamebox.createBannerAd({style:{width:t,height:i,left:(o*e-t)/2,top:s*e-i}}),this.bannerAd.onLoad(()=>{console.log("XminigameSDK","M4399box \u7cfb\u7edfbanner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.loadSucc_SystemBanner=!0,this.hasShowBanner&&this.showSystemBanner()}),this.bannerAd.onError(e=>{console.log("XminigameSDK","M4399box \u7cfb\u7edfbanner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e))})}createSystemInters(){console.log("XminigameSDK","--createSystemInters--"),a.default.stringHasSpace(this.ID_SystemInters)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************"):(this.systemIntersAd=gamebox.createInterstitialAd(),this.systemIntersAd.onLoad(e=>{console.log("XminigameSDK","M4399box \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",JSON.stringify(e)),this.loadSucc_SystemInters=!0}),this.systemIntersAd.onError(e=>{console.log("XminigameSDK","M4399box \u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e))}),this.systemIntersAd.onClose(e=>{console.log("XminigameSDK","M4399box \u5173\u95ed\u63d2\u5c4f",JSON.stringify(e)),this.NUM_IntersNowIntervalTime=0}),this.systemIntersAd.load())}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=gamebox.createRewardedVideoAd(),this.videoAd.onLoad(e=>{console.log("XminigameSDK","M4399box \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210",JSON.stringify(e)),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","M4399box \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{console.log("XminigameSDK","M4399box \u89c6\u9891\u5e7f\u544a\u5173\u95ed",JSON.stringify(e)),e.isEnded?(console.log("XminigameSDK","M4399box \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.loadSucc_Video=!1,this.videoAd.load())):(console.log("XminigameSDK","M4399box \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.loadSucc_Video=!1,this.videoAd.load())),this.isShow_Video=!1}),this.videoAd.load())}getChannelId(){return n.default.getChannelId()}showBanner(){this.loadSucc_Banner?this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&(this.showSystemBanner(),this.updateSystemBanner())):this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return this.loadSucc_SystemInters}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK","\u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762","\u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK","\u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_hasShowInters,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_intersNowInterval,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230",this.NUM_IntersNowIntervalTime,"\u76ee\u6807\u65f6\u95f4",this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.loadSucc_SystemInters&&this.showSystemInters()},this.NUM_IntersDelayTime)):this.loadSucc_SystemInters&&this.showSystemInters()}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.isShow_Video?console.log("XminigameSDK","\u89c6\u9891\u6b63\u5728\u64ad\u653e\u4e2d,\u8bf7\u52ff\u591a\u6b21\u70b9\u51fb\uff01"):(this.isShow_Video=!0,this.callback_Video=e,this.videoAd?this.videoAd.show().then(()=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(e=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e)),this.videoAd.load().then(()=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),this.videoAd.show().catch(e=>{console.log("XminigameSDK","\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25",JSON.stringify(e)),this.isShow_Video=!1,this.callback_Video(!1)})})}):(this.isShow_Video=!1,this.callback_Video(!1)))}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){"long"==e?gamebox.vibrateLong({success:()=>{},fail:e=>{console.log("XminigameSDK","M4399box vibrateLong fail",JSON.stringify(e))}}):"short"==e&&gamebox.vibrateShort({success:()=>{},fail:e=>{console.log("XminigameSDK","M4399box vibrateShort fail",JSON.stringify(e))}})}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){e(null)}shareVideo(e,t,i,a,n){n(!1)}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","getUserData====================="),e({userId:o.default.getData("userId"),token:o.default.getData("token"),userType:o.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};gamebox.getUserInfo({success:i=>{console.log("XminigameSDK","m4399box \u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f",JSON.stringify(i)),t.head=i.avatarUrl,t.name=i.nickName,t.power=!0,o.default.setData("avatarUrl",t.head),o.default.setData("nickName",t.name),e(t)}}),e(t)}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!1)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!1)}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.SW_SystemBanner&&this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showSystemBanner(){this.bannerAd?(console.log("XminigameSDK","M4399box showSystemBanner========================"),this.bannerAd.show()):this.createSystemBanner()}updateSystemBanner(){this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{console.log("XminigameSDK","M4399box updateSystemBanner========================"),this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null,this.createSystemBanner()},1e3*this.NUM_BannerUpdateTime)}hideSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","M4399box hideSystemBanner========================"),this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null),this.interval_updateBanner&&clearInterval(this.interval_updateBanner)}showSystemInters(){this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("XminigameSDK","M4399box showSystemInters========================"),this.systemIntersAd.show())}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],M4399boxDTO:[function(e,t,i){"use strict";cc._RF.push(t,"f2ab57h5GZI3qqHhdhF1/eb","M4399boxDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e,t){this.code=e,this.uid=t,this.preview=gamebox.getPreviewSync(),this.nickName=a.default.getData("nickName"),this.avatar=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],M4399boxSDK:[function(e,t,i){"use strict";cc._RF.push(t,"7c1fd6LlNpOqa0FJGdhshfg","M4399boxSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../ad/AdCenter"),n=e("../../SdkConfig"),o=e("../../server/dto/MoblieTokenDTO"),s=e("../../server/dto/VisitorTokenDTO"),r=e("../../server/ServerCenter"),l=e("../../utils/GetConfig"),h=e("../../utils/LocalStorage"),c=e("./dto/M4399boxDTO");i.default=class{constructor(){this.userId=h.default.getData("ServerUserId"),this.channelId=l.default.getChannelId()}initAd(){n.m4399boxAdConfig.openM4399boxManualModel?gamebox.login({success:e=>{e.code?(console.log("XminigameSDK","m4399box \u767b\u5f55\u6210\u529f",JSON.stringify(e)),a.default.getInstance().m4399boxManualModel()):(console.log("XminigameSDK","m4399box \u767b\u5f55\u5931\u8d25",JSON.stringify(e)),console.log("XminigameSDK","m4399box \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),a.default.getInstance().m4399boxManualModel())}}):this.startLogin()}startLogin(){gamebox.login({success:e=>{if(e.code){console.log("XminigameSDK","m4399box \u767b\u5f55\u6210\u529f",JSON.stringify(e));let t=new c.default(e.code,e.uid);this.loginSucc(t)}else console.log("XminigameSDK","m4399box \u767b\u5f55\u5931\u8d25",JSON.stringify(e)),console.log("XminigameSDK","m4399box \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new o.default(this.channelId,this.userId,e);r.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?r.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(h.default.setJsonData("adConfig",t.data),r.default.getInstance().getLocalStorageAdConfig()):r.default.getInstance().getLocalStorageAdConfig()}):r.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new s.default(this.channelId,this.userId);r.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?r.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(h.default.setJsonData("adConfig",t.data),r.default.getInstance().getLocalStorageAdConfig()):r.default.getInstance().getLocalStorageAdConfig()}):r.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../SdkConfig":"SdkConfig","../../ad/AdCenter":"AdCenter","../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/M4399boxDTO":"M4399boxDTO"}],MangaView:[function(e,t,i){"use strict";cc._RF.push(t,"828bfI24aVK+7r3U9bHnaZx","MangaView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/SDKManager"),s=e("../LibTool/Manager/SoundsManager"),r=e("../LibTool/Manager/ViewManager"),l=e("./LoadingView"),{ccclass:h,property:c}=cc._decorator;let d=class extends n.default{constructor(){super(...arguments),this._viewName="MangaView",this._layout=1,this.frames=[],this.page=null,this.se=[],this.path=[[cc.v2(-732,415),cc.v2(-13,415)],[cc.v2(-602,11),cc.v2(-153.5,11)],[cc.v2(602,24),cc.v2(143,24)],[cc.v2(-2,-1e3),cc.v2(-2,-381)],[cc.v2(1,847),cc.v2(1,450)],[cc.v2(-700,-6),cc.v2(1,-6)],[cc.v2(0,-1e3),cc.v2(0,-389)]],this.isMove=!1,this.index=0}openView(){super.openView(),this.playAnimation()}playAnimation(){if(4==this.index)for(const e in this.frames)this.frames[e].active=!1;o.default.reportEvent("Story_Event",JSON.parse('{ "Story_Show'+(this.index+1)+'": 1 }')),this.frames[this.index].x=this.path[this.index][0].x,this.frames[this.index].y=this.path[this.index][0].y,this.frames[this.index].active=!0,this.isMove=!0,cc.tween(this.frames[this.index]).to(.5,{position:cc.v3(this.path[this.index][1])},{easing:cc.easing.sineOut}).call(()=>{this.index>=this.path.length?(o.default.reportEvent("Story_Event",{Story_Finish:1}),this.scheduleOnce(()=>{r.viewManager.openView("TransitionsView",()=>{r.viewManager.getView("LoadingView",l.default).loadStart()})},1),this.scheduleOnce(()=>{this.closeView()},2)):this.isMove=!1}).start(),s.soundsManager.playEffect(this.se[this.index]),this.index++,s.soundsManager.playEffect(this.page)}onTouch(){this.isMove||this.playAnimation()}};a([c(cc.Node)],d.prototype,"frames",void 0),a([c(cc.AudioClip)],d.prototype,"page",void 0),a([c({type:cc.AudioClip})],d.prototype,"se",void 0),d=a([h],d),i.default=d,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","./LoadingView":"LoadingView"}],MapGrid:[function(e,t,i){"use strict";cc._RF.push(t,"6f941w4F0ZE0IxzoHEIOZeK","MapGrid");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/tools"),{ccclass:o,property:s}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.bg=null,this.player=null,this.boss=null,this.demon=null,this.cost=null,this.costBg=null,this.widget=null,this.widgetBg=null}initialize(e,t,i){for(this.bg.width=e,this.bg.height=t,this.demon.active=i.search("-1")>=0;i.search("-1,")>=0;)i=i.replace("-1,","");for(;i.search("-1")>=0;)i=i.replace("-1","");this.cost.string=i+"",this.cost.node.active="0"!=i,this.costBg.string=i+"",this.costBg.node.active="0"!=i,this.boss.active=!1,this.player.active=!1,this.widget.top=0,this.widget.updateAlignment(),this.widgetBg.top=3,this.widgetBg.updateAlignment()}setBoss(){this.boss.active=!0,this.player.active=!1,this.widget.top=Math.floor(.3*this.bg.height),this.widget.updateAlignment(),this.widgetBg.top=Math.floor(.3*this.bg.height)+3,this.widgetBg.updateAlignment()}setPlayer(){this.player.active=!0,this.boss.active=!1,this.bg.color=n.default.rgbToColor("#ffffff"),this.cost.node.active=!1,this.cost.string="-",this.costBg.string="-",this.costBg.node.active=!1,this.demon.active=!1}setTextColor(e){this.bg.color=n.default.rgbToColor(e)}};a([s(cc.Node)],r.prototype,"bg",void 0),a([s(cc.Node)],r.prototype,"player",void 0),a([s(cc.Node)],r.prototype,"boss",void 0),a([s(cc.Node)],r.prototype,"demon",void 0),a([s(cc.Label)],r.prototype,"cost",void 0),a([s(cc.Label)],r.prototype,"costBg",void 0),a([s(cc.Widget)],r.prototype,"widget",void 0),a([s(cc.Widget)],r.prototype,"widgetBg",void 0),r=a([o],r),i.default=r,cc._RF.pop()},{"../LibTool/tools":"tools"}],MapManager:[function(e,t,i){"use strict";cc._RF.push(t,"fb41f+kcx5HCb4byMTNtB1D","MapManager");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.mapManager=void 0;const n=e("../Component/Grid"),o=e("../Component/Player"),s=e("../Component/Select"),r=e("../LibTool/Component/ZoomComponent"),l=e("../LibTool/Delegate"),h=e("../LibTool/Manager/ArchiveManager"),c=e("../LibTool/Manager/EventManager"),d=e("../LibTool/Manager/Logger"),g=e("../LibTool/Manager/MessageManager"),u=e("../LibTool/Manager/SDKManager"),m=e("../LibTool/Manager/SkillManager"),p=e("../LibTool/Manager/SoundsManager"),v=e("../LibTool/Manager/ViewManager"),S=e("../LibTool/tools"),f=e("../View/GameView"),w=e("../View/MapView"),N=e("./AssetsManager"),{ccclass:_,property:I}=cc._decorator;let y=class extends cc.Component{constructor(){super(...arguments),this.zoomNode=null,this.bgNode=null,this.wallNode=null,this.mapNode=null,this.selectNode=null,this.playerNode=null,this.zoom=null,this.grid=null,this.select=null,this.bg=null,this.lastFiled=0,this.isReLife=!1,this.isBehind=!1,this.level=0,this.data=null,this.room=null,this.roof=null,this.ground=null,this.battle=null,this.move=null,this.up=null,this.lock=null,this.isCreate=!1,this.isPlayerInit=!1,this.col=0,this.row=0,this.width=0,this.height=0,this.max=0,this.isLock=!1,this.roomWidth=178.2,this.roomHeight=106.2,this.directions=[[0,1],[0,-1],[1,0],[-1,0]],this.player=null,this.nowPos=null,this.lastPos=[],this.tipsList=[],this.gridList=[],this.selectList=[],this.wallList=[],this.bgList=[],this.demonGrid=null,this.nowSkill=[],this.nowIndex=0,this.useDouble=!0}onLoad(){i.mapManager=this,this.zoom=this.node.getComponent(r.default),this.grid||N.default.loadPrefab("grid").then(e=>{this.grid=e,this.checkOver()}),this.select||N.default.loadPrefab("select").then(e=>{this.select=e,this.checkOver()}),this.player||N.default.loadPrefab("player").then(e=>{const t=cc.instantiate(e);t.setParent(this.playerNode),this.player=t.getComponent(o.default),this.checkOver()}),g.messageManager.addListener(l.Delegate.Create(this,e=>{"Resurrection"==e[0]&&(this.isReLife=!0)})),g.messageManager.addListener(l.Delegate.Create(this,e=>{"Unexpected"==e[0]&&(this.isBehind=!0)}))}onDestroy(){i.mapManager=null}update(e){if((this.isCreate||this.isPlayerInit)&&this.grid){if(this.isCreate){const e=this.data.map[this.col][this.row],t=e.cost;t&&0!=t&&(this.createGrid(e),this.createSelect(),this.createWall(),this.createBg(),this.checkSelect())}if(this.row<this.data.map[this.col].length-1)this.row++;else if(this.col>0)this.col--,this.row=0;else if(this.isCreate=!1,this.player){this.isPlayerInit=!1,d.logger.info("\u5173\u95ed\u52a0\u8f7d\u9875:"+v.viewManager.getView("GameView",f.default).guideId),v.viewManager.closeView("TransitionsView",()=>{c.eventManager.emit("gameInitialized")}),v.viewManager.closeView("MoveView",()=>{c.eventManager.emit("gameInitialized")}),this.player.initialize(this.data.role),this.player.node.active=!0;const e=this.getStartPosition();this.player.node.setPosition(e[0],e[1]),this.clearSelect(),this.updateMiniMap(),this.zoom.focusTarget(cc.v3(e[0],e[1]),1,1.5,()=>{c.eventManager.emit("gameStart"),this.checkSelect();let e=v.viewManager.getView("GameView",f.default);14==e.guideId&&(this.scheduleOnce(()=>{e.guideTips()},.05),e.guideId++,S.default.setItem("guideId",e.guideId+"")),e.guideId>=17&&(v.viewManager.openView("CardSelectionView"),this.lastFiled==this.level&&(e.showTipsLight(),this.lastFiled=0))})}}}initialize(e){this.isCreate=!1,this.isPlayerInit=!1,this.level=e,this.isLock=!1,this.clear(),u.default.reportEvent("Stage_Event",JSON.parse('{ "Stage_Start'+this.level+'": 1 }')),this.scheduleOnce(()=>{N.default.loadJson("Stage/"+e).then(e=>{this.data="string"==typeof e.json?JSON.parse(e.json):e.json,this.col=this.data.map.length-1,this.row=0,this.max=0;for(const a in this.data.map)for(const e in this.data.map[a])this.data.map[a][e].cost>this.max&&(this.max=this.data.map[a][e].cost);this.height=this.data.map.length;for(const a in this.data.map)this.data.map[a].length>this.width&&(this.width=this.data.map[a].length);const t=this.roomWidth*this.width+400,i=this.roomHeight*this.height+800;this.zoomNode.width=this.zoomNode.width>t?this.zoomNode.width:t,this.zoomNode.height=this.zoomNode.height>i?this.zoomNode.height:i,this.zoom.updatePosition(),this.zoom.setPosition(cc.v3(-this.zoomNode.width/2,0),1),this.checkOver(),this.tipsList=this.data.tips,this.isReLife=!1});let t=0;t=Number(e)<=30?1:Number(e)<=80?2:3,N.default.loadSprite("Map/room"+t).then(e=>{this.room=e,this.checkOver()}),N.default.loadSprite("Map/roof"+t).then(e=>{this.roof=e,this.checkOver()}),N.default.loadSprite("Map/ground"+t).then(e=>{this.ground=e,this.checkOver()}),N.default.loadSprite("Map/wall").then(e=>{this.bg=e,this.checkOver()}),N.default.loadSound("lock").then(e=>{this.lock=e,this.checkOver()}),N.default.loadSound("hit1").then(e=>{this.battle=e,this.checkOver()}),N.default.loadSound("move").then(e=>{this.move=e,this.checkOver()}),N.default.loadSound("up").then(e=>{this.up=e,this.checkOver()})},.1)}createGrid(e){let t=cc.instantiate(this.grid);t.name="grid:"+this.row+"|"+(this.data.map.length-(this.col+1))+","+e,t.active=!0,t.getComponent(n.default).node.active=!0,t.setParent(this.mapNode);const i=this.getGridPosition(this.row,this.data.map.length-(this.col+1));t.setPosition(i[0],i[1]),t.getComponent(n.default).initialize(e,this.room,this.roof,this.ground,this.isTop(this.col,this.row),this.col==this.data.map.length-1,e.cost==this.max,150==this.level),this.gridList[this.row]||(this.gridList[this.row]=[]),this.gridList[this.row][this.data.map.length-(this.col+1)]=t}createSelect(){let e=this.selectList[this.row]&&this.selectList[this.row][this.data.map.length-(this.col+1)];if(!this.select)return;e||(e=cc.instantiate(this.select)).setParent(this.selectNode),e.name="select:"+this.row+","+(this.data.map.length-(this.col+1));const t=this.getGridPosition(this.row,this.data.map.length-(this.col+1));e.setPosition(t[0],t[1]),this.selectList[this.row]||(this.selectList[this.row]=[]),this.selectList[this.row][this.data.map.length-(this.col+1)]=e}createWall(){let e=new cc.Node;e.setParent(this.wallNode),e.width=this.roomWidth,e.height=this.roomHeight,e.active=!0;let t=e.getComponent(cc.Sprite);t||((t=e.addComponent(cc.Sprite)).sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.TILED),t.spriteFrame=this.bg,e.name="wall:"+this.row+","+(this.data.map.length-(this.col+1));const i=this.getGridPosition(this.row,this.data.map.length-(this.col+1));e.setPosition(i[0],i[1]),this.wallList[this.row]||(this.wallList[this.row]=[]),this.wallList[this.row][this.data.map.length-(this.col+1)]=e}createBg(){let e=new cc.Node;e.setParent(this.bgNode),e.width=this.roomWidth+20,e.height=this.roomHeight+20,e.color=cc.color(100,100,100),e.active=!0;let t=e.getComponent(cc.Sprite);t||((t=e.addComponent(cc.Sprite)).sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.TILED),t.spriteFrame=this.bg,e.name="bg:"+this.row+","+(this.data.map.length-(this.col+1));const i=this.getGridPosition(this.row,this.data.map.length-(this.col+1));e.setPosition(i[0],i[1]),this.bgList[this.row]||(this.bgList[this.row]=[]),this.bgList[this.row][this.data.map.length-(this.col+1)]=e}getGridWorldPosition(e,t){return this.zoomNode.convertToWorldSpaceAR(this.gridList[t][this.gridList[t].length-e-1].position)}getGridPosition(e,t){return[e*this.roomWidth-this.roomWidth*this.width/2+this.roomWidth/2,t*this.roomHeight-2.3*this.roomHeight]}getStartPosition(){for(let e=this.data.map.length;e>=0;e--){const t=this.data.map[e];for(const e in t)if(t[e].cost>0&&t[e].cost<=this.data.role)return[-(this.roomWidth*this.width+200)/2+this.width*(Number(e)-1),-280]}return[0,-280]}isTop(e,t){var i;for(let a=e-1;a>=0;a--)if((null===(i=this.data.map[a][t])||void 0===i?void 0:i.cost)>0)return!1;return 0!=this.data.map[e][t].cost}playTips(){for(const e in this.tipsList){let t=this.tipsList[e][0],i=this.tipsList[e][1],a=this.gridList[i][this.height-t-1];if(!a)continue;let o=a.getComponent(n.default);const s=cc.v2(this.tipsList[e][0],this.tipsList[e][1]);if(!this.tipsList[Number(e)+1])continue;const r=cc.v2(this.tipsList[Number(e)+1][0],this.tipsList[Number(e)+1][1]);if(!r)continue;let l=0;r.x-s.x==0&&r.y-s.y==1?l=-90:r.x-s.x==0&&r.y-s.y==-1?l=90:r.x-s.x==1&&r.y-s.y==0?l=180:r.x-s.x==-1&&r.y-s.y==0&&(l=0),o.clearTips(),this.scheduleOnce(()=>{o.playTips(l)},.5*Number(e))}this.scheduleOnce(()=>{this.playTips()},.5*this.tipsList.length+.5)}showTips(){this.playTips()}updateMiniMap(){var e,t;const i=[];for(const a in this.gridList){i[a]||(i[a]=[]);for(const o in this.gridList[a]){let s=null,r=!1,l=!1;this.gridList[a]&&(s=null===(e=this.gridList[a][o])||void 0===e?void 0:e.getComponent(n.default)),s?this.nowPos?this.nowPos[0]+1==Number(a)&&this.nowPos[1]==Number(o)||this.nowPos[0]-1==Number(a)&&this.nowPos[1]==Number(o)||this.nowPos[0]==Number(a)&&this.nowPos[1]+1==Number(o)||this.nowPos[0]==Number(a)&&this.nowPos[1]-1==Number(o)?r=!s.isClear:(this.nowPos[0]==Number(a)&&this.nowPos[1]==Number(o)&&(l=!0),r=!1):(r=(null==s?void 0:s.originCost)<(null===(t=this.player)||void 0===t?void 0:t.cost),this.isCreate||(r=!0)):r=!1;let h=[],c=s.getAllEnemy();for(const e in c)h.push(c[e].cost);i[a][o]={cost:h,canGo:r,isPlayer:l,isClear:s.isClear}}}v.viewManager.openView("MapView"),v.viewManager.getView("MapView",w.default).updateData(i)}clear(){this.room=null,this.roof=null,this.ground=null,this.clearSelect(),this.nowPos=null,this.lastPos=[],this.data=null,m.skillManager.clear(),this.unscheduleAllCallbacks(),this.player&&(this.player.node.active=!1),this.mapNode.removeAllChildren(),this.gridList=[],this.wallNode.removeAllChildren(),this.wallList=[],this.bgNode.removeAllChildren(),this.bgList=[]}double(){this.player.playDouble(),this.player.addCost(this.player.cost,!1),N.default.loadSound("double").then(e=>{this.scheduleOnce(()=>{p.soundsManager.playEffect(e)},.3)}),N.default.loadSound("double2").then(e=>{this.scheduleOnce(()=>{p.soundsManager.playEffect(e)},.3)})}checkOver(){this.data&&this.room&&this.roof&&this.select&&this.ground&&this.battle&&this.move&&this.up&&this.bg&&this.lock&&(this.isCreate=!0,this.isPlayerInit=!0)}checkSelect(){var e;this.updateMiniMap();for(const t in this.selectList)for(const i in this.selectList[t]){const a=this.selectList[t][i];let o=null;if(this.gridList[t]&&(o=null===(e=this.gridList[t][i])||void 0===e?void 0:e.getComponent(n.default)),o){const e=a.getComponent(s.default);this.nowPos?this.nowPos[0]+1==Number(t)&&this.nowPos[1]==Number(i)||this.nowPos[0]-1==Number(t)&&this.nowPos[1]==Number(i)||this.nowPos[0]==Number(t)&&this.nowPos[1]+1==Number(i)||this.nowPos[0]==Number(t)&&this.nowPos[1]-1==Number(i)||this.nowPos[0]==Number(t)&&this.nowPos[1]==Number(i)?(a.active=!0,e.switchColor(null==o?void 0:o.isClear)):a.active=!1:(a.active=!0,e.switchColor(!1))}else a.active=!1}}checkGameOver(e,t){var i;if(this.gridList[e][t].getComponent(n.default).originCost==this.max)return 2;for(const a in this.directions){if(!this.gridList[this.nowPos[0]+this.directions[a][0]]||!this.gridList[this.nowPos[0]+this.directions[a][0]][this.nowPos[1]+this.directions[a][1]])continue;let e=this.gridList[this.nowPos[0]+this.directions[a][0]][this.nowPos[1]+this.directions[a][1]],t=null==e?void 0:e.getComponent(n.default);if(null==t?void 0:t.isClear)continue;let o=null==t?void 0:t.getAllEnemy();for(let a=0;a<o.length;a++)if(o[a].cost<=(null===(i=this.player)||void 0===i?void 0:i.cost))return 1;return 3}return 0}badCard(){this.player.subCost(.2*this.player.cost),this.checkSelect(),this.isBehind?this.demonGrid.popEnemy():this.demonGrid.shiftEnemy(),this.demonGrid=null}goodCard(){this.player.addCost(.1*this.player.cost),v.viewManager.openView("ChooseView"),this.checkSelect(),this.isBehind?this.demonGrid.popEnemy():this.demonGrid.shiftEnemy(),this.demonGrid=null}normalCard(){this.player.subCost(.1*this.player.cost),v.viewManager.openView("ChooseView"),this.checkSelect(),this.isBehind?this.demonGrid.popEnemy():this.demonGrid.shiftEnemy(),this.demonGrid=null}setPos(e){if(this.isLock)return;this.isLock=!0,this.clearSelect();let t=v.viewManager.getView("GameView",f.default);t.stopDoubleLight();for(const i in this.selectList){const a=this.selectList[i];for(const o in a)if(e==a[o].getComponent(s.default)){this.nowPos&&this.lastPos.push(this.nowPos),this.nowPos=[Number(i),Number(o)];const e=this.gridList[i][o].getComponent(n.default);let a=null;this.isBehind=!1,this.useSkill("beforeMove",null,e,null),a=this.isBehind?e.getAfterEnemy():e.getBeforeEnemy();const s=e.getAllEnemy().indexOf(a),l=S.default.convertToNodeSpace(a.node.position,a.node.parent,this.player.node.parent),c=[l.x-50,l.y],d=()=>{const n=()=>{let n=a.cost<=this.player.cost;this.scheduleOnce(()=>{if(a.subCost(this.player.cost),n){1==e.getAllEnemy().length&&(e.isClear=!0),a.playLose(()=>{this.isBehind?e.popEnemy():e.shiftEnemy()}),this.player.playWin(),this.player.addCost(a.originCost);const n=this.checkGameOver(Number(i),Number(o));t.guideId>=17&&2!=n&&this.player.addExp(1)&&v.viewManager.openView("ChooseView"),3==n&&(16==t.guideId&&3==h.archiveManager.gameData.level1&&(t.guideDouble(),t.guideId++,S.default.setItem("guideId",t.guideId+"")),t.showDoubleLight()),2!=n&&this.checkSelect(),this.scheduleOnce(()=>{2==n?(this.gameOver(!0),u.default.reportEvent("Stage_Event",JSON.parse('{ "Stage_Finish'+this.level+'": 1 }'))):0==n&&3!=h.archiveManager.gameData.level1&&(this.isReLife?(this.isReLife=!1,this.checkSelect(),this.isLock=!1):(this.player.playLose(),this.player.isClear=!0,this.gameOver(!1)))},1),this.useSkill("clear",s,e,null)}else this.useSkill("dead",s,e,null),this.isReLife?(this.isReLife=!1,this.checkSelect(),this.isLock=!1):(this.player.playLose(),this.player.isClear=!0,this.gameOver(!1));this.node.getComponent(r.default).focusTarget(cc.v3(this.player.node.x,this.player.node.y),1)},.6)};if(this.node.getComponent(r.default).focusTarget(cc.v3(this.player.node.x,this.player.node.y),e.isBoss?1.2:1),a.isDemon)return this.demonGrid=e,v.viewManager.openView("DemonView"),1==e.getAllEnemy().length&&(e.isClear=!0),void(this.isLock=!1);this.useDouble=!0,this.useSkill("beforeAttack",s,e,()=>{this.player.playBattle(),e.isClear||a.playBattle(),this.useSkill("attack",s,e,null),n()})};if(p.soundsManager.playEffect(this.move),this.player.node.active){if(this.lastPos&&this.lastPos.length>0){const e=this.lastPos[this.lastPos.length-1];e&&(this.gridList[e[0]][e[1]].getComponent(n.default).playLock(),p.soundsManager.playEffect(this.lock))}this.zoom.focusTarget(cc.v3(c[0],c[1]),1),cc.tween(this.player.node).to(0,{scale:.6}).to(.5,{x:c[0],y:c[1]},{easing:cc.easing.sineOut}).call(d).start()}else this.player.node.active=!0,this.player.node.scale=0,this.player.node.setPosition(c[0],c[1]),cc.tween(this.player.node).to(.3,{scale:.6},{easing:cc.easing.sineOut}).call(d).start();return}}}useSkill(e,t,i,a){if(this.nowSkill&&0!=this.nowSkill.length||(this.nowSkill=m.skillManager.getSkill(e),this.nowIndex=0),!this.nowSkill[this.nowIndex])return this.nowSkill=[],this.nowIndex=0,void(a&&a());this.nowSkill[this.nowIndex].eval(this.player,t,i.getAllEnemy(),()=>{if(this.nowIndex++,this.nowIndex>=this.nowSkill.length){this.nowSkill=[],this.nowIndex=0;let n=m.skillManager.getSkill("skillOver");n.length>0&&this.useDouble?n[0].eval(null,null,null,n=>{this.useDouble=!1,this.scheduleOnce(()=>{n?this.useSkill(e,t,i,a):a&&a()},.05)}):a&&a()}else this.scheduleOnce(()=>{this.useSkill(e,t,i,a)},.05)})||(this.nowIndex++,this.scheduleOnce(()=>{this.useSkill(e,t,i,a)},.05))}clearSelect(){for(const e in this.selectList)for(const t in this.selectList[e])this.selectList[e][t].active=!1}gameOver(e){this.isLock=!0,e||(this.lastFiled=this.level),this.scheduleOnce(()=>{c.eventManager.emit("gameEnd",e)},.05)}};a([I(cc.Node)],y.prototype,"zoomNode",void 0),a([I(cc.Node)],y.prototype,"bgNode",void 0),a([I(cc.Node)],y.prototype,"wallNode",void 0),a([I(cc.Node)],y.prototype,"mapNode",void 0),a([I(cc.Node)],y.prototype,"selectNode",void 0),a([I(cc.Node)],y.prototype,"playerNode",void 0),y=a([_],y),i.default=y,i.mapManager=null,cc._RF.pop()},{"../Component/Grid":"Grid","../Component/Player":"Player","../Component/Select":"Select","../LibTool/Component/ZoomComponent":"ZoomComponent","../LibTool/Delegate":"Delegate","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/EventManager":"EventManager","../LibTool/Manager/Logger":"Logger","../LibTool/Manager/MessageManager":"MessageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SkillManager":"SkillManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../View/GameView":"GameView","../View/MapView":"MapView","./AssetsManager":"AssetsManager"}],MapView:[function(e,t,i){"use strict";cc._RF.push(t,"c82a471guRKgqLmNErWV+H/","MapView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/MapGrid"),o=e("../LibTool/Component/Base/ViewBase"),s=e("../LibTool/Manager/SDKManager"),{ccclass:r,property:l}=cc._decorator;let h=class extends o.default{constructor(){super(...arguments),this._layout=1,this._viewName="MapView",this.grid=null,this.mapNode=null,this.map=null,this.top=null,this.flag=null,this.gridList=[],this.gridPool=[],this.data=[],this.width=0,this.height=0,this.max=0,this.isOpen=!1,this.isMove=!1}openView(){super.openView(),this.map.x=this.node.width/2+240,this.isOpen=!1}openMap(){cc.tween(this.map).to(.5,{x:0},{easing:cc.easing.backOut}).start(),cc.tween(this.top).delay(.4).to(.4,{height:52},{easing:cc.easing.sineOut}).start(),cc.tween(this.flag).delay(.4).to(.4,{y:0},{easing:cc.easing.sineOut}).call(()=>{this.moveCallBack()}).start(),s.default.reportEvent("Show_Event",{Show_Map:1}),s.default.reportEvent("Touch_Event",{Touch_MapOut:1})}closeMap(){cc.tween(this.map).delay(.3).to(.5,{x:this.node.width/2+240},{easing:cc.easing.sineIn}).call(()=>{this.moveCallBack()}).start(),cc.tween(this.top).to(.4,{height:60},{easing:cc.easing.sineIn}).start(),cc.tween(this.flag).to(.4,{y:600},{easing:cc.easing.sineIn}).start(),s.default.reportEvent("Touch_Event",{Touch_MapIn:1})}updateData(e){this.data=e,this.width=this.data.length,this.height=0,this.max=0;for(const t in this.data){this.height<this.data[t].length&&(this.height=this.data[t].length);for(const e in this.data[t]){let i=0;for(let a=0;a<this.data[t][e].cost.length;a++)i+=this.data[t][e].cost[a];this.max<i&&(this.max=i)}}this.clear(),this.updateMap()}updateMap(){for(const e in this.data)for(const t in this.data[e]){const i=this.data[e][t];let a=this.gridPool.shift();a||(a=cc.instantiate(this.grid.node));const o=a.getComponent(n.default),s=this.mapNode.width/this.width,r=this.mapNode.height/this.height;a.width=s-5,a.height=r-5;let l="",h=0;for(let e=0;e<i.cost.length;e++){const t=Math.round(i.cost[e]);h+=t,l+=0==t?"-1":t+"",e!=i.cost.length-1&&(l+=",\r\n")}o.initialize(s,r,i.isClear?"-":l),i.canGo?o.setTextColor("#84E337"):o.setTextColor("#FF751F"),i.isPlayer?o.setPlayer():h===this.max&&o.setBoss(),a.active=!0,a.setParent(this.mapNode);let c=s*Number(e)+s/2-this.mapNode.width/2,d=r*Number(t)+r/2-this.mapNode.height/2;a.setPosition(c,d),this.gridList[e]||(this.gridList[e]=[]),this.gridList[e][t]=a}}clear(){for(const e in this.gridList)for(const t in this.gridList[e])this.gridList[e][t].active=!1,this.gridPool.push(this.gridList[e][t]);this.gridList=[]}onTouch(){this.isMove||(this.isMove=!0,this.isOpen?(this.isOpen=!1,this.closeMap()):(this.isOpen=!0,this.openMap()))}moveCallBack(){this.isMove=!1}};a([l(n.default)],h.prototype,"grid",void 0),a([l(cc.Node)],h.prototype,"mapNode",void 0),a([l(cc.Node)],h.prototype,"map",void 0),a([l(cc.Node)],h.prototype,"top",void 0),a([l(cc.Node)],h.prototype,"flag",void 0),h=a([r],h),i.default=h,cc._RF.pop()},{"../Component/MapGrid":"MapGrid","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/SDKManager":"SDKManager"}],Md5:[function(e,t,i){"use strict";cc._RF.push(t,"d98bexTwzJPOr2Y+vNDvyKJ","Md5"),Object.defineProperty(i,"__esModule",{value:!0});class a{static AddUnsigned(e,t){let i,a,n,o,s;return n=2147483648&e,o=2147483648&t,s=(1073741823&e)+(1073741823&t),(i=1073741824&e)&(a=1073741824&t)?2147483648^s^n^o:i|a?1073741824&s?3221225472^s^n^o:1073741824^s^n^o:s^n^o}static FF(e,t,i,a,n,o,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.F(t,i,a),n),s)),this.AddUnsigned(this.RotateLeft(e,o),t)}static GG(e,t,i,a,n,o,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.G(t,i,a),n),s)),this.AddUnsigned(this.RotateLeft(e,o),t)}static HH(e,t,i,a,n,o,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.H(t,i,a),n),s)),this.AddUnsigned(this.RotateLeft(e,o),t)}static II(e,t,i,a,n,o,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.I(t,i,a),n),s)),this.AddUnsigned(this.RotateLeft(e,o),t)}static ConvertToWordArray(e){let t,i=e.length,a=i+8,n=16*((a-a%64)/64+1),o=Array(n-1),s=0,r=0;for(;r<i;)s=r%4*8,o[t=(r-r%4)/4]=o[t]|e.charCodeAt(r)<<s,r++;return s=r%4*8,o[t=(r-r%4)/4]=o[t]|128<<s,o[n-2]=i<<3,o[n-1]=i>>>29,o}static WordToHex(e){let t,i,a="",n="";for(i=0;i<=3;i++)a+=(n="0"+(t=e>>>8*i&255).toString(16)).substr(n.length-2,2);return a}static Utf8Encode(e){let t,i="";e=e.replace(/\r\n/g,"\n");for(let a=0;a<e.length;a++)(t=e.charCodeAt(a))<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(63&t|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(63&t|128));return i}static init(e){let t;for("string"!=typeof e&&(e=JSON.stringify(e)),this._string=this.Utf8Encode(e),this.x=this.ConvertToWordArray(this._string),this.a=1732584193,this.b=4023233417,this.c=2562383102,this.d=271733878,this.k=0;this.k<this.x.length;this.k+=16)this.AA=this.a,this.BB=this.b,this.CC=this.c,this.DD=this.d,this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k],this.S11,3614090360),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+1],this.S12,3905402710),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S13,606105819),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+3],this.S14,3250441966),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S11,4118548399),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+5],this.S12,1200080426),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S13,2821735955),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+7],this.S14,4249261313),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S11,1770035416),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+9],this.S12,2336552879),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S13,4294925233),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+11],this.S14,2304563134),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S11,1804603682),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+13],this.S12,4254626195),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S13,2792965006),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+15],this.S14,1236535329),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S21,4129170786),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+6],this.S22,3225465664),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S23,643717713),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k],this.S24,3921069994),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S21,3593408605),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+10],this.S22,38016083),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S23,3634488961),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+4],this.S24,3889429448),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S21,568446438),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+14],this.S22,3275163606),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S23,4107603335),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+8],this.S24,1163531501),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S21,2850285829),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+2],this.S22,4243563512),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S23,1735328473),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+12],this.S24,2368359562),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S31,4294588738),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+8],this.S32,2272392833),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S33,1839030562),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+14],this.S34,4259657740),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S31,2763975236),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+4],this.S32,1272893353),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S33,4139469664),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+10],this.S34,3200236656),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S31,681279174),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k],this.S32,3936430074),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S33,3572445317),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+6],this.S34,76029189),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S31,3654602809),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+12],this.S32,3873151461),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S33,530742520),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+2],this.S34,3299628645),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k],this.S41,4096336452),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+7],this.S42,1126891415),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S43,2878612391),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+5],this.S44,4237533241),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S41,1700485571),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+3],this.S42,2399980690),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S43,4293915773),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+1],this.S44,2240044497),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S41,1873313359),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+15],this.S42,4264355552),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S43,2734768916),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+13],this.S44,1309151649),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S41,4149444226),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+11],this.S42,3174756917),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S43,718787259),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+9],this.S44,3951481745),this.a=this.AddUnsigned(this.a,this.AA),this.b=this.AddUnsigned(this.b,this.BB),this.c=this.AddUnsigned(this.c,this.CC),this.d=this.AddUnsigned(this.d,this.DD);return(t=this.WordToHex(this.a)+this.WordToHex(this.b)+this.WordToHex(this.c)+this.WordToHex(this.d)).toLowerCase()}}i.default=a,a.x=Array(),a.S11=7,a.S12=12,a.S13=17,a.S14=22,a.S21=5,a.S22=9,a.S23=14,a.S24=20,a.S31=4,a.S32=11,a.S33=16,a.S34=23,a.S41=6,a.S42=10,a.S43=15,a.S44=21,a.RotateLeft=(e,t)=>e<<t|e>>>32-t,a.F=(e,t,i)=>e&t|~e&i,a.G=(e,t,i)=>e&i|t&~i,a.H=(e,t,i)=>e^t^i,a.I=(e,t,i)=>t^(e|~i),cc._RF.pop()},{}],MessageManager:[function(e,t,i){"use strict";cc._RF.push(t,"de824ItqfpFaIcpndCJ66nH","MessageManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.messageManager=void 0,i.messageManager=new class{constructor(){this.listenerList=[]}addListener(e){this.listenerList.indexOf(e)>=0||this.listenerList.push(e)}removeListener(e){const t=this.listenerList.indexOf(e);this.listenerList.splice(t,1)}postMessage(e,t){for(const i in this.listenerList)this.listenerList[i].Call(e,t)}},cc._RF.pop()},{}],MoblieTokenDTO:[function(e,t,i){"use strict";cc._RF.push(t,"db896WqQ0JHVKAg3HTNx+md","MoblieTokenDTO"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(e,t,i){this.channelId=e,this.userId=t,this.signParam=i}},cc._RF.pop()},{}],MoveView:[function(e,t,i){"use strict";cc._RF.push(t,"3eb33oqcl5JiLg0DHwPzCXT","MoveView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/SoundsManager"),{ccclass:s,property:r}=cc._decorator;let l=class extends n.default{constructor(){super(...arguments),this._layout=5,this._viewName="MoveView",this.fire=null}onLoad(){super.onLoad()}openView(e){super.openView(e),o.soundsManager.playEffect(this.fire)}transition(e){this.openView(()=>{this.scheduleOnce(()=>{this.closeView()}),e&&e()})}};a([r(cc.AudioClip)],l.prototype,"fire",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/SoundsManager":"SoundsManager"}],Navigate:[function(e,t,i){"use strict";cc._RF.push(t,"f9f70bTn4ZODpu58DUoqgtj","Navigate"),Object.defineProperty(i,"__esModule",{value:!0});class a{static getTips(e,t){this.defaultCost=e;let i=0;this.boss=[0,0],this.excludePath=[],this.nowPos=null,this.nowPath=[],this.nowCost=e,this.data=t;for(let a=0;a<t.length;a++)for(let e=0;e<t[a].length;e++)t[a][e].cost>i&&(i=t[a][e].cost,this.boss[0]=a,this.boss[1]=e);return this.getFirst()}static getFirst(){for(let e=0;e<this.data.length;e++)for(let t=0;t<this.data[e].length;t++)this.nowPos||this.canSelect(e,t)&&(this.nowPos=[e,t],this.nowCost+=this.data[this.nowPos[0]][this.nowPos[1]].cost,this.nowPath.push([this.nowPos[0],this.nowPos[1]]));return this.nowPos?this.checkPos():this.nowPath}static checkPos(){if(this.isIdeas(this.nowPos[0],this.nowPos[1])){if(this.excludePath.push([...this.nowPath]),this.nowCost-=this.data[this.nowPos[0]][this.nowPos[1]].cost,this.nowPath.pop(),!this.nowPath[this.nowPath.length-1])return this.nowPos=null,this.nowCost=this.defaultCost,this.getFirst();this.nowPos[0]=this.nowPath[this.nowPath.length-1][0],this.nowPos[1]=this.nowPath[this.nowPath.length-1][1]}else for(const e in this.directions){let t=this.nowPos[0]+this.directions[e][0],i=this.nowPos[1]+this.directions[e][1];if(this.canSelect(t,i)){if(this.nowPos[0]=t,this.nowPos[1]=i,this.nowCost+=this.data[this.nowPos[0]][this.nowPos[1]].cost,this.nowPath.push([this.nowPos[0],this.nowPos[1]]),this.isBoss(this.nowPos[0],this.nowPos[1]))return this.nowPath;break}}return this.checkPos()}static canSelect(e,t){const i=this.data[e]?this.data[e][t]:null;if(!i||i.cost>this.nowCost)return!1;for(let n=0;n<this.nowPath.length;n++)if(this.nowPath[n][0]==e&&this.nowPath[n][1]==t)return!1;let a=this.nowPath.concat([[e,t]]);for(let n=0;n<this.excludePath.length&&0!=this.excludePath[n].length;n++){let e=!0;if(a.length==this.excludePath[n].length){for(let t=0;t<this.excludePath[n].length;t++)a[t]&&a[t][0]==this.excludePath[n][t][0]&&a[t][1]==this.excludePath[n][t][1]||(e=!1);if(e)return!1}else e=!1}return!0}static isIdeas(e,t){let i=0;for(const a in this.directions){let n=e+this.directions[a][0],o=t+this.directions[a][1];this.data[n]&&this.canSelect(n,o)&&i++}return 0==i}static isBoss(e,t){return this.boss[0]==e&&this.boss[1]==t}}i.default=a,a.nowPos=null,a.defaultCost=0,a.nowCost=0,a.nowPath=[],a.boss=[0,0],a.excludePath=[],a.directions=[[0,1],[0,-1],[1,0],[-1,0]],a.data=[],cc._RF.pop()},{}],OppoAd:[function(e,t,i){"use strict";cc._RF.push(t,"3afe7Ihln1I7reMRSGfU9M8","OppoAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LoadRes"),s=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=999,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.bannerAd=null,this.loadSucc_Banner=!1,this.loadSucc_SystemBanner=!1,this.loadSucc_NativeBanner=!1,this.hasShowBanner=!1,this.isShow_SystemBanner=!1,this.isShow_NativeBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.NUM_BannerClose=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.timeout_loadVideo=null,this.nativeAd=null,this.customNativeAd=null,this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.isShow_NativeImage=!1,this.loadSucc_NativeImage=!1,this.nativeAdInfo=null,this.firstNativeAdInfo=null,this.customNativeAdInfo=null,this.param_nativeIcon=null,this.param_nativeImage=null,this.timeout_updateNativeIcon=null,this.timeout_updateNativeImage=null,this.node_nativeIcon=null,this.node_nativeImage=null,this.hasReport_NativeAdId=[""],this.hasReport_CustomNativeAdId=[""],this.customNativeAdIdArray=[""],this.nativeOtherRes=null,this.loadSucc_NativeOther=!1,this.nativeBannerRes=null,this.node_nativeBanner=null,this.node_nativePaster=null,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.navigateBoxBannerAd=null,this.loadSucc_NavigateBoxBanner=!1,this.navigateBoxPortalAd=null,this.loadSucc_NavigateBoxPortal=!1,this.temp_hasShowBanner=!1,this.isShow_NavigateSettle=!1,this.NUM_NowErrVideo=0,this.NUM_NowGetErrVideoFlag=0,this.NUM_NowHasShowPaster=0,this.NUM_NowErrPaster=0,this.AdGroup=""}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.SW_SystemBanner&&""!=this.ID_SystemBanner&&this.createSystemBanner(),this.SW_Video&&""!=this.ID_Video&&this.createVideo(),this.SW_Box&&""!=this.ID_Box&&this.createNavigateBoxPortal(),this.SW_Box&&""!=this.ID_Block&&this.createNavigateBoxBanner(),this.SW_Native&&""!=this.ID_Native&&(this.createNative(),this.loadNativeOtherRes(),this.SW_NativeBanner&&this.loadNativeBannerRes()),this.SW_Native&&""!=this.ID_NativeCustom&&this.createCustomNative()}startLoadPushGamaes(){}createSystemBanner(){console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************"):(this.bannerAd=qg.createBannerAd({adUnitId:this.ID_SystemBanner,style:{}}),this.loadSucc_SystemBanner=!0,this.bannerAd.onError(e=>{console.log("XminigameSDK","OPPO \u7cfb\u7edfbanner\u52a0\u8f7d/\u5c55\u793a\u5931\u8d25\uff1a",JSON.stringify(e))}),this.bannerAd.onHide(()=>{console.log("XminigameSDK","OPPO \u7cfb\u7edfbanner\u5173\u95ed",this.NUM_BannerUpdateTime+"S\u4e4b\u540e\u518d\u6b21\u5237\u65b0"),this.updateBanner()}))}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=qg.createRewardedVideoAd({posId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK","OPPO \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","OPPO \u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.videoAd&&setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{e.isEnded?(console.log("XminigameSDK","OPPO \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.videoAd.load())):(console.log("XminigameSDK","OPPO \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.videoAd.load()))}),this.videoAd.load())}createNative(){console.log("XminigameSDK","--createNative--"),a.default.stringHasSpace(this.ID_Native)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u539f\u751f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u539f\u751f\u5e7f\u544aID*********************"):(this.nativeAd=qg.createNativeAd({posId:this.ID_Native}),this.nativeAdInfo={adId:null,title:null,desc:null,Native_icon:null,Native_BigImage:null},this.firstNativeAdInfo={adId:null,title:null,desc:null,Native_icon:null,Native_BigImage:null,NativeClose:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png",NativeAdTip:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"},this.nativeAd.onLoad(e=>{let t=0;if(null!=typeof e.adList&&0!=e.adList.length){if(t=e.adList.length-1,console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff1a",JSON.stringify(e.adList[t])),""!=e.adList[t].icon&&e.adList[t].imgUrlList.length>0?console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u540c\u65f6\u5b58\u5728\u539f\u751fICON\u548c\u5927\u56fe"):console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u53ea\u5b58\u5728\u539f\u751fICON\u6216\u5927\u56fe"),this.firstNativeAdInfo.adId=e.adList[t].adId,this.firstNativeAdInfo.title=e.adList[t].title,this.firstNativeAdInfo.desc=e.adList[t].desc,this.nativeAdInfo.adId=e.adList[t].adId,this.nativeAdInfo.title=e.adList[t].title,this.nativeAdInfo.desc=e.adList[t].desc,e.adList&&""!=e.adList[t].icon){let i=new Array;i[0]=e.adList[t].icon,o.default.loadResArray(i,(e,t)=>{if(e)return console.log("XminigameSDK","OPPO \u539f\u751fICON\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_icon=null,void(this.loadSucc_NativeIcon=!1);console.log("XminigameSDK","OPPO \u539f\u751fICON\u52a0\u8f7d\u6210\u529f"),this.nativeAdInfo.Native_icon=t[0],this.loadSucc_NativeIcon=!0}),this.firstNativeAdInfo.Native_icon=e.adList[t].icon}else this.nativeAdInfo.Native_icon=null,this.loadSucc_NativeIcon=!1,this.firstNativeAdInfo.Native_icon=null;if(e.adList&&e.adList[t].imgUrlList.length>0){let i=new Array;i[0]=e.adList[t].imgUrlList[0],o.default.loadResArray(i,(e,t)=>{if(e)return console.log("XminigameSDK","OPPO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_BigImage=null,void(this.loadSucc_NativeImage=!1);console.log("XminigameSDK","OPPO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u6210\u529f"),this.nativeAdInfo.Native_BigImage=t[0],this.loadSucc_NativeImage=!0}),this.firstNativeAdInfo.Native_BigImage=e.adList[t].imgUrlList[0]}else this.nativeAdInfo.Native_BigImage=null,this.loadSucc_NativeImage=!1,this.firstNativeAdInfo.Native_BigImage=null}else console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u5217\u8868\u4e3a\u7a7a return")}),this.nativeAd.onError(e=>{console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.customNativeToNative()}),this.nativeAd.load(),this.nativeAdAutoUpdate())}customNativeToNative(){if(console.log("XminigameSDK","OPPO customNativeToNative"),this.customNativeAdInfo.adId){if(this.firstNativeAdInfo.adId=this.customNativeAdInfo.adId,this.firstNativeAdInfo.title=this.customNativeAdInfo.title,this.firstNativeAdInfo.desc=this.customNativeAdInfo.desc,this.nativeAdInfo.adId=this.customNativeAdInfo.adId,this.nativeAdInfo.title=this.customNativeAdInfo.title,this.nativeAdInfo.desc=this.customNativeAdInfo.desc,this.customNativeAdInfo.Native_BigImage){let e=new Array;e[0]=this.customNativeAdInfo.Native_BigImage,o.default.loadResArray(e,(e,t)=>{if(e)return console.log("XminigameSDK","OPPO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_BigImage=null,void(this.loadSucc_NativeImage=!1);console.log("XminigameSDK","OPPO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u6210\u529f"),this.nativeAdInfo.Native_BigImage=t[0],this.loadSucc_NativeImage=!0}),this.firstNativeAdInfo.Native_BigImage=this.customNativeAdInfo.Native_BigImage}else this.firstNativeAdInfo.Native_BigImage=null;if(this.customNativeAdInfo.Native_icon){let e=new Array;e[0]=this.customNativeAdInfo.Native_icon,o.default.loadResArray(e,(e,t)=>{if(e)return console.log("XminigameSDK","OPPO \u539f\u751ficon\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_icon=null,void(this.loadSucc_NativeIcon=!1);console.log("XminigameSDK","OPPO \u539f\u751ficon\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_icon=t[0],this.loadSucc_NativeIcon=!0}),this.firstNativeAdInfo.Native_icon=this.customNativeAdInfo.Native_icon}else this.firstNativeAdInfo.Native_icon=null}}createCustomNative(){console.log("XminigameSDK","--createCustomNative--"),a.default.stringHasSpace(this.ID_NativeCustom)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID*********************"):this.ID_Native!=this.ID_NativeCustom?(this.customNativeAd=qg.createNativeAd({posId:this.ID_NativeCustom}),this.customNativeAdInfo={adId:null,title:null,desc:null,Native_icon:null,Native_BigImage:null,NativeClose:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png",NativeAdTip:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"},this.customNativeAd.onLoad(e=>{let t=e.adList.length-1;console.log("XminigameSDK","OPPO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff1a",JSON.stringify(e.adList[t])),this.customNativeAdInfo.adId=String(e.adList[t].adId),this.customNativeAdInfo.title=String(e.adList[t].title),this.customNativeAdInfo.desc=String(e.adList[t].desc),this.customNativeAdIdArray.unshift(this.customNativeAdInfo.adId),e.adList&&""!=e.adList[t].icon?this.customNativeAdInfo.Native_icon=e.adList[t].icon:this.customNativeAdInfo.Native_icon=null,e.adList&&e.adList[t].imgUrlList.length>0?this.customNativeAdInfo.Native_BigImage=e.adList[t].imgUrlList[0]:this.customNativeAdInfo.Native_BigImage=null}),this.customNativeAd.onError(e=>{console.log("XminigameSDK","OPPO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e))}),this.customNativeAd.load(),this.customNativeAdAutoUpdate()):console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u539f\u751f\u5e7f\u544aID\u548c\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID\u76f8\u540c,\u8bf7\u68c0\u67e5\u540e\u53f0\u539f\u751f\u4e0e\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID*********************")}createNavigateBoxBanner(){console.log("XminigameSDK","--createNavigateBoxBanner--"),a.default.stringHasSpace(this.ID_Block)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544aID*********************"):qg.getSystemInfoSync().platformVersionCode<1076?console.log("XminigameSDK","OPPO \u7248\u672c\u8f83\u4f4e,\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u5e7f\u544a"):(this.navigateBoxBannerAd=qg.createGameBannerAd({adUnitId:this.ID_Block}),this.loadSucc_NavigateBoxBanner=!0,this.navigateBoxBannerAd.onError(e=>{console.log("XminigameSDK","OPPO \u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u51fa\u9519:",JSON.stringify(e))}))}createNavigateBoxPortal(){console.log("XminigameSDK","--createNavigateBoxPortal--"),a.default.stringHasSpace(this.ID_Box)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544aID*********************"):qg.getSystemInfoSync().platformVersionCode<1076?console.log("XminigameSDK","OPPO \u7248\u672c\u8f83\u4f4e,\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u5e7f\u544a"):(this.navigateBoxPortalAd=qg.createGamePortalAd({adUnitId:this.ID_Box}),this.navigateBoxPortalAd.onLoad(()=>{console.log("XminigameSDK","OPPO \u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_NavigateBoxPortal=!0}),this.navigateBoxPortalAd.onError(e=>{console.log("XminigameSDK","OPPO \u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d/\u5c55\u793a\u5931\u8d25\uff1a",JSON.stringify(e)),this.loadSucc_NavigateBoxPortal=!1,setTimeout(()=>{this.navigateBoxPortalAd.load()},2e4)}),this.navigateBoxPortalAd.onClose(()=>{console.log("XminigameSDK","OPPO \u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u5173\u95ed"),this.navigateBoxPortalAd.load(),this.temp_hasShowBanner&&this.showBanner()}),this.navigateBoxPortalAd.load())}loadNativeBannerRes(){console.log("XminigameSDK","--loadNativeBannerRes--"),this.nativeBannerRes={NativeBannerBg:null,NativeBannerButton:null,NativeClose:null,NativeAdTip:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"],(e,t)=>{this.nativeBannerRes.NativeBannerBg=t[0],this.nativeBannerRes.NativeBannerButton=t[1],this.nativeBannerRes.NativeClose=t[2],this.nativeBannerRes.NativeAdTip=t[3],this.loadSucc_NativeBanner=!0,console.log("XminigameSDK","\u539f\u751fbanner\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadNativeOtherRes(){console.log("XminigameSDK","--loadNativeOtherRes--"),this.nativeOtherRes={NativeAdTip:null,NativeClose:null,NativeButton:null,NativeMask:null,NativeBlank:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeInterMask.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBlank.png"],(e,t)=>{this.nativeOtherRes.NativeAdTip=t[0],this.nativeOtherRes.NativeClose=t[1],this.nativeOtherRes.NativeButton=t[2],this.nativeOtherRes.NativeMask=t[3],this.nativeOtherRes.NativeBlank=t[4],this.loadSucc_NativeOther=!0,console.log("XminigameSDK","\u5176\u4ed6\u539f\u751f\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}getChannelId(){return n.default.getChannelId()}showBanner(){if(this.loadSucc_Banner)return this.NUM_BannerMostShow<=this.NUM_BannerClose?(console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner))):void(this.isShow_NavigateSettle?console.log("XminigameSDK","OPPO \u6b63\u5728\u5c55\u793a\u4e92\u63a8\u76d2\u5b50 return"):this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&this.SW_NativeBanner?this.SW_SystemBannerFirst?(console.log("XminigameSDK","\u7cfb\u7edfbanner\u4f18\u5148"),this.loadSucc_SystemBanner?this.showSystemBanner():this.loadSucc_NativeBanner&&(console.log("XminigameSDK","\u7cfb\u7edfbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5c55\u793a\u539f\u751fbanner"),this.showNativeBanner())):(console.log("XminigameSDK","\u539f\u751fbanner\u4f18\u5148"),this.loadSucc_NativeBanner?this.showNativeBanner():this.loadSucc_SystemBanner&&(console.log("XminigameSDK","\u539f\u751fbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5c55\u793a\u7cfb\u7edfbanner"),this.showSystemBanner())):this.SW_SystemBanner?this.showSystemBanner():this.SW_NativeBanner&&this.showNativeBanner(),this.updateBanner()));this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideNativeBanner(),this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return!!(this.SW_AddDesktop&&this.SW_IntersIntervalToAddDesktop&&this.NUM_AutoAddDeskMostTimes>0&&this.NUM_IntersToAddDesktopNumber>0)||(console.log("XminigameSDK","\u684c\u9762\u5f00\u5173\u672a\u5f00\u542f\u6216\u6b21\u6570\u672a\u8bbe\u7f6e"),!1)}showInters(e){this.NUM_hasShowInters++,this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes?this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.NUM_hasShowInters=0,console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))}):console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762\u6b21\u6570\u672a\u8fbe\u5230\u6216\u81ea\u52a8\u5f39\u6dfb\u52a0\u684c\u9762\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650\u6216\u5df2\u6210\u529f\u6dfb\u52a0\u684c\u9762")}getVideoFlag(){return this.loadSucc_Video||null!=this.timeout_loadVideo||(this.timeout_loadVideo=setTimeout(()=>{this.videoAd&&this.videoAd.destroy(),this.createVideo(),this.timeout_loadVideo=null},1e3)),this.loadSucc_Video}showVideo(e,t){this.callback_Video=e,this.videoAd&&(console.log("XminigameSDK","OPPO showVideo==========================="),this.videoAd.show(),this.loadSucc_Video=!1)}getNativeIconFlag(){return this.loadSucc_NativeOther&&this.loadSucc_NativeIcon}showNativeIcon(e,t,i,a){if(!this.loadSucc_NativeIcon||!this.loadSucc_NativeOther)return void console.log("XminigameSDK","\u539f\u751ficon\u6216\u8d44\u6e90\u672a\u52a0\u8f7d\u6210\u529f return");if(this.isShow_NativeIcon)return void console.log("XminigameSDK","\u539f\u751ficon\u6b63\u5728\u5c55\u793a\u4e2d,\u8bf7\u52ff\u591a\u6b21show return");this.isShow_NativeIcon=!0,this.param_nativeIcon={width:e,height:t,x:i,y:a},console.log("XminigameSDK","showNativeIcon===========================");let n=this.nativeAdInfo.adId;this.reportNativeAdShow(n);let o=cc.director.getScene();this.node_nativeIcon=new cc.Node("node_nativeIcon"),o.addChild(this.node_nativeIcon),this.node_nativeIcon.addComponent(cc.Sprite),this.node_nativeIcon.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_icon),this.node_nativeIcon.zIndex=3e4,this.node_nativeIcon.width=e,this.node_nativeIcon.height=t,this.node_nativeIcon.x=i,this.node_nativeIcon.y=a,""!=this.AdGroup&&(this.node_nativeIcon.group=this.AdGroup);var s=new cc.Node("NativeAdTip");this.node_nativeIcon.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeAdTip),s.width=e/3,s.height=s.width/70*34,s.x=e/2-s.width/2,s.y=t/2-s.height/2;var r=new cc.Node("NativeClose");this.node_nativeIcon.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeClose),r.width=45,r.height=45,r.x=-this.node_nativeIcon.width/2+r.width/2,r.y=this.node_nativeIcon.height/2-r.width/2;var l=new cc.Node("titleLabel");this.node_nativeIcon.addChild(l),l.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?l.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*40:l.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*40,l.getComponent(cc.Label).lineHeight=l.getComponent(cc.Label).fontSize,l.color=cc.color(255,255,255),this.nativeAdInfo.title.length<=5?l.getComponent(cc.Label).string=this.nativeAdInfo.title:l.getComponent(cc.Label).string="",l.y=-t/2-30,r.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u624b\u52a8\u5173\u95ed\u539f\u751fICON"),this.node_nativeIcon.removeFromParent(),this.node_nativeIcon=null,e.stopPropagation()}),this.node_nativeIcon.on(cc.Node.EventType.TOUCH_START,()=>{console.log("XminigameSDK","\u70b9\u51fb\u539f\u751fICON"),this.reportNativeAdClick(n)}),this.timeout_updateNativeIcon=setTimeout(()=>{console.log("XminigameSDK","\u539f\u751ficon\u5237\u65b0"),this.hideNativeIcon(),this.showNativeIcon(this.param_nativeIcon.width,this.param_nativeIcon.height,this.param_nativeIcon.x,this.param_nativeIcon.y)},1e3*this.NUM_NativeUpdateTime)}hideNativeIcon(){this.isShow_NativeIcon&&(console.log("XminigameSDK","hideNativeIcon==========================="),this.isShow_NativeIcon=!1,this.timeout_updateNativeIcon&&clearTimeout(this.timeout_updateNativeIcon),this.node_nativeIcon&&(this.node_nativeIcon.removeFromParent(),this.node_nativeIcon=null))}getNativeImageFlag(){return this.loadSucc_NativeOther&&this.loadSucc_NativeImage}showNativeImage(e,t,i,a){if(!this.loadSucc_NativeImage||!this.loadSucc_NativeOther)return void console.log("XminigameSDK","\u539f\u751f\u5927\u56fe\u6216\u8d44\u6e90\u672a\u52a0\u8f7d\u6210\u529f return");if(this.isShow_NativeImage)return void console.log("XminigameSDK","\u539f\u751f\u5927\u56fe\u6b63\u5728\u5c55\u793a\u4e2d,\u8bf7\u52ff\u591a\u6b21show");this.isShow_NativeImage=!0,this.param_nativeImage={width:e,height:t,x:i,y:a},console.log("XminigameSDK","OPPO showNativeImage===========================");let n=this.nativeAdInfo.adId;this.reportNativeAdShow(n);let o=cc.director.getScene();this.node_nativeImage=new cc.Node("node_nativeImage"),o.addChild(this.node_nativeImage),this.node_nativeImage.addComponent(cc.Sprite),this.node_nativeImage.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),this.node_nativeImage.zIndex=3e4,this.node_nativeImage.width=e,this.node_nativeImage.height=t,this.node_nativeImage.x=i,this.node_nativeImage.y=a,""!=this.AdGroup&&(this.node_nativeImage.group=this.AdGroup);var s=new cc.Node("NativeAdTip");this.node_nativeImage.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeAdTip),s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignLeft=!0,s.getComponent(cc.Widget).isAlignTop=!0,s.getComponent(cc.Widget).left=0,s.getComponent(cc.Widget).top=0,s.width=e/5,s.height=s.width/70*34;var r=new cc.Node("NativeClose");this.node_nativeImage.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeClose),r.addComponent(cc.Widget),r.getComponent(cc.Widget).isAlignRight=!0,r.getComponent(cc.Widget).isAlignTop=!0,r.getComponent(cc.Widget).right=0,r.getComponent(cc.Widget).top=0,r.width=45,r.height=45,r.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u624b\u52a8\u5173\u95ed\u539f\u751f\u5927\u56fe"),this.hideNativeImage(),e.stopPropagation()}),this.node_nativeImage.on(cc.Node.EventType.TOUCH_START,()=>{console.log("XminigameSDK","\u70b9\u51fb\u539f\u751f\u5927\u56fe"),this.reportNativeAdClick(n)})}hideNativeImage(){this.isShow_NativeImage=!1,this.node_nativeImage&&(this.node_nativeImage.removeFromParent(),this.node_nativeImage=null)}getNativePasterFlag(){return this.SW_NativePaster&&this.loadSucc_NativeOther&&this.loadSucc_NativeImage}showNativePaster(){if(!this.getNativePasterFlag())return;null!=this.node_nativePaster&&(this.node_nativePaster.removeFromParent(),this.node_nativePaster=null),console.log("XminigameSDK","showNativePaster===========================");let e=this.nativeAdInfo.adId;this.reportNativeAdShow(e);let t=cc.director.getScene();this.node_nativePaster=new cc.Node("node_nativePaster"),t.addChild(this.node_nativePaster),this.node_nativePaster.width=cc.winSize.width,this.node_nativePaster.height=cc.winSize.height,this.node_nativePaster.x=cc.winSize.width/2,this.node_nativePaster.y=cc.winSize.height/2,this.node_nativePaster.zIndex=30003,""!=this.AdGroup&&(this.node_nativePaster.group=this.AdGroup),this.node_nativePaster.on(cc.Node.EventType.TOUCH_START,function(){});let i=new cc.Node("NativeBlank");if(this.node_nativePaster.addChild(i),i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeBlank),cc.winSize.width<cc.winSize.height){i.width=.96*this.node_nativePaster.width,i.height=i.width/2,i.y=i.height/2;let t=new cc.Node("NativeButton");i.addChild(t),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeButton),t.width=.5*i.width,t.height=.35*t.width,t.y=-i.height/2-t.height,t.on(cc.Node.EventType.TOUCH_START,()=>{this.node_nativePaster.removeFromParent(),this.node_nativePaster=null,this.reportNativeAdClick(e)})}else i.width=.48*this.node_nativePaster.width,i.height=i.width/2;let a=new cc.Node("bigImage");i.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),a.width=.98*i.width,a.height=a.width/2,a.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(e),this.node_nativePaster.removeFromParent(),this.node_nativePaster=null});let n=new cc.Node("NativeAdTip");a.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeAdTip),n.width=70,n.height=n.width/70*34,n.x=a.width/2-n.width/2,n.y=n.height/2-a.height/2;let o=new cc.Node("NativeClose");i.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeClose),o.width=a.height/7,o.height=o.width,o.x=o.width-a.width/2,o.y=a.height/2-o.height,o.on(cc.Node.EventType.TOUCH_START,t=>{if(this.node_nativePaster.removeFromParent(),this.node_nativePaster=null,t.stopPropagation(),this.NUM_NowHasShowPaster++,this.NUM_NowHasShowPaster==this.NUM_NativePasterErrMust)return console.log("XminigameSDK","p \u7b2c"+this.NUM_NativePasterErrMust+"\u6b21\u51fa\u73b0"),void this.reportNativeAdClick(e);if(this.NUM_NowErrPaster>=this.NUM_NativePasterErrMost)console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 p");else if(this.NUM_NativePasterErrP>0){let t=Math.floor(100*Math.random());if(console.log("XminigameSDK","Pp",this.NUM_NativePasterErrP,"num",t),t<this.NUM_NativePasterErrP)return this.NUM_NowErrPaster++,void this.reportNativeAdClick(e)}})}getNativeAdInfo(e){return 1==e?(console.log("XminigameSDK","\u83b7\u53d6\u539f\u751f\u5e7f\u544a"),this.firstNativeAdInfo):(console.log("XminigameSDK","\u83b7\u53d6\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a"),this.customNativeAdInfo)}reportNativeAdShow(e){if(-1!=this.customNativeAdIdArray.indexOf(e)){if(console.log("XminigameSDK","OPPO \u8be5\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aid\u662f\u5426\u5df2\u4e0a\u62a5\u5c55\u793a?",-1!=this.hasReport_CustomNativeAdId.indexOf(e)),-1!=this.hasReport_CustomNativeAdId.indexOf(e))return;console.log("XminigameSDK","OPPO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u5c55\u793a",e),this.hasReport_CustomNativeAdId.unshift(e),this.customNativeAd.reportAdShow({adId:e})}else{if(console.log("XminigameSDK","OPPO \u8be5\u539f\u751f\u5e7f\u544aid\u662f\u5426\u5df2\u4e0a\u62a5\u5c55\u793a?",-1!=this.hasReport_NativeAdId.indexOf(e)),-1!=this.hasReport_NativeAdId.indexOf(e))return;console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u5c55\u793a",e),this.hasReport_NativeAdId.unshift(e),this.nativeAd.reportAdShow({adId:e})}}reportNativeAdClick(e){-1!=this.customNativeAdIdArray.indexOf(e)?(console.log("XminigameSDK","OPPO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u70b9\u51fb",e),this.customNativeAd.reportAdClick({adId:e})):(console.log("XminigameSDK","OPPO \u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u70b9\u51fb",e),this.nativeAd.reportAdClick({adId:e}))}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return this.loadSucc_NavigateBoxBanner}showNavigateBoxBanner(){this.isShow_NavigateSettle?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNavigateBoxBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_NavigateSettle=!0,this.loadSucc_NavigateBoxBanner&&(this.hideBanner(),console.log("XminigameSDK","showNavigateBoxBanner====================="),this.navigateBoxBannerAd.show()))}hideNavigateBoxBanner(){this.isShow_NavigateSettle&&(console.log("XminigameSDK","hideNavigateBoxBanner====================="),this.isShow_NavigateSettle=!1,this.navigateBoxBannerAd&&this.navigateBoxBannerAd.hide())}getNavigateBoxPortalFlag(){return this.loadSucc_NavigateBoxPortal}showNavigateBoxPortal(){this.loadSucc_NavigateBoxPortal&&(this.temp_hasShowBanner=this.hasShowBanner,this.hideBanner(),this.navigateBoxPortalAd.show())}setGroup(e){this.AdGroup=e}hasAddDesktopFunc(){return!0}getAddDesktopFlag(e){qg.hasShortcutInstalled({success:t=>{0==t?(console.log("XminigameSDK","OPPO \u4e0d\u5b58\u5728\u684c\u9762\u56fe\u6807"),e(!0)):(console.log("XminigameSDK","OPPO \u5df2\u5b58\u5728\u684c\u9762\u56fe\u6807"),e(!1))},fail:t=>{console.log("XminigameSDK","OPPO qg.hasShortcutInstalled err\uff1a",JSON.stringify(t)),e(!1)},complete:()=>{}})}addDesktop(e){qg.installShortcut({success:()=>{console.log("XminigameSDK","OPPO \u6dfb\u52a0\u684c\u9762\u6210\u529f"),e(!0)},fail:t=>{console.log("XminigameSDK","OPPO \u6dfb\u52a0\u684c\u9762\u5931\u8d25:"+JSON.stringify(t)),e(!1)},complete:()=>{}})}phoneVibrate(e){"short"==e?qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}}):"long"==e&&qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){}shareVideo(e,t,i,a,n){}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","OPPO getUserData====================="),e({userId:s.default.getData("userId"),token:s.default.getData("token"),userType:s.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","OPPO getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};t.head=s.default.getData("avatarUrl"),t.name=s.default.getData("nickName"),t.sex=s.default.getData("gender"),t.power=!0,e(t)}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){}visitorExperience(e){}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){}showOPPOMoreGame(){}hasNetwork(e){}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return this.NUM_NowGetErrVideoFlag++,this.NUM_NowGetErrVideoFlag==this.NUM_VideoErrMust?(console.log("XminigameSDK","v \u7b2c"+this.NUM_VideoErrMust+"\u6b21\u51fa\u73b0"),!0):this.NUM_NowErrVideo>=this.NUM_VideoErrMost?(console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 v"),!1):this.getVideoFlag()?this.NUM_VideoErrP>0&&(console.log("XminigameSDK","Pv",this.NUM_VideoErrP),Math.floor(100*Math.random())<this.NUM_VideoErrP&&(this.NUM_NowErrVideo++,!0)):(console.log("XminigameSDK","OPPO \u89c6\u9891\u5e7f\u544a\u672a\u52a0\u8f7d\u5b8c\u6210"),!1)}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.loadSucc_NativeBanner&&(this.loadSucc_NativeIcon||this.loadSucc_NativeImage)||this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showNativeBanner(){if(this.isShow_NavigateSettle)return void console.log("XminigameSDK","OPPO \u6b63\u5728\u5c55\u793a\u4e92\u63a8\u76d2\u5b50 return");this.isShow_NativeBanner=!0;let e=cc.director.getScene(),t=this.nativeAdInfo.adId;this.reportNativeAdShow(t),console.log("XminigameSDK","showNativeBanner========================"),this.node_nativeBanner=new cc.Node("node_nativeBanner"),e.addChild(this.node_nativeBanner),this.node_nativeBanner.addComponent(cc.Sprite),this.node_nativeBanner.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeBannerBg),this.node_nativeBanner.addComponent(cc.Widget),this.node_nativeBanner.getComponent(cc.Widget).isAlignHorizontalCenter=!0,this.node_nativeBanner.getComponent(cc.Widget).isAlignBottom=!0,this.node_nativeBanner.getComponent(cc.Widget).bottom=0,cc.winSize.width<cc.winSize.height?(this.node_nativeBanner.width=cc.winSize.width,this.node_nativeBanner.height=.18*cc.winSize.width):(this.node_nativeBanner.width=cc.winSize.width/2,this.node_nativeBanner.height=.18*this.node_nativeBanner.width),""!=this.AdGroup&&(this.node_nativeBanner.group=this.AdGroup),this.node_nativeBanner.zIndex=29999,this.node_nativeBanner.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(t)});let i=new cc.Node("adTip");this.node_nativeBanner.addChild(i),i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeAdTip),i.height=.2*this.node_nativeBanner.height,i.width=i.height/.45,i.x=this.node_nativeBanner.width/2-i.width/2,i.y=this.node_nativeBanner.height/2-i.height/2;let a=new cc.Node("bannerButton");if(this.node_nativeBanner.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeBannerButton),a.width=.255*this.node_nativeBanner.width,a.height=.351*a.width,a.x=this.node_nativeBanner.width/2-.185*this.node_nativeBanner.width,a.y=0,this.loadSucc_NativeImage){let e=new cc.Node("image");this.node_nativeBanner.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),e.height=this.node_nativeBanner.height,e.width=2*e.height,e.x=e.width/2-this.node_nativeBanner.width/2,e.y=0}else if(this.loadSucc_NativeIcon){let e=new cc.Node("icon");this.node_nativeBanner.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),e.height=.8*this.node_nativeBanner.height,e.width=e.height,e.x=.8*e.width-this.node_nativeBanner.width/2,e.y=0}let n=new cc.Node("titleLabel");this.node_nativeBanner.addChild(n),n.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*35:n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*35,""==this.nativeAdInfo.desc?n.getComponent(cc.Label).string=this.nativeAdInfo.title:n.getComponent(cc.Label).string=this.nativeAdInfo.desc,n.getComponent(cc.Label).overflow=cc.Label.Overflow.CLAMP,n.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.LEFT,n.getComponent(cc.Label).verticalAlign=cc.Label.VerticalAlign.CENTER,n.getComponent(cc.Label).lineHeight=n.getComponent(cc.Label).fontSize,n.color=cc.color(255,0,0),n.width=this.node_nativeBanner.width-2*this.node_nativeBanner.height-a.width-.2*this.node_nativeBanner.height/.45,n.height=this.node_nativeBanner.height,n.y=0,n.x=-this.node_nativeBanner.width/2+2.1*this.node_nativeBanner.height+n.width/2;let o=new cc.Node("closeICON");this.node_nativeBanner.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeClose),o.width=.27*this.node_nativeBanner.height,o.height=.27*this.node_nativeBanner.height,o.x=-this.node_nativeBanner.width/2+o.width/2,o.y=this.node_nativeBanner.height/2-o.width/2;let s=new cc.Node("closeButton");this.node_nativeBanner.addChild(s),s.width=o.height,s.height=o.height,s.x=-this.node_nativeBanner.width/2+o.width/2,s.y=this.node_nativeBanner.height/2-o.width/2,s.zIndex=29999,s.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u539f\u751fbanner\u5173\u95ed",this.NUM_BannerUpdateTime+"S\u540e\u518d\u6b21\u5237\u65b0"),this.hideNativeBanner(),this.NUM_BannerClose++,this.updateBanner(),e.stopPropagation()})}showSystemBanner(){this.isShow_NavigateSettle?console.log("XminigameSDK","OPPO \u6b63\u5728\u5c55\u793a\u4e92\u63a8\u76d2\u5b50 return"):(console.log("XminigameSDK","OPPO showSystemBanner========================"),this.isShow_SystemBanner=!0,this.bannerAd.show())}updateBanner(){if(this.NUM_BannerMostShow<=this.NUM_BannerClose)return console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed(\u6700\u591a\u5c55\u793a)\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner));this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{if(this.NUM_BannerMostShow<=this.NUM_BannerClose)return console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed(\u6700\u591a\u5c55\u793a)\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner));this.SW_SystemBanner&&this.SW_NativeBanner?this.SW_SystemBannerFirst?(console.log("XminigameSDK","\u7cfb\u7edfbanner\u4f18\u5148"),this.loadSucc_SystemBanner?(console.log("XminigameSDK","\u5237\u65b0\u7cfb\u7edfbanner"),this.updateSystemBanner()):this.loadSucc_NativeBanner&&(console.log("XminigameSDK","\u7cfb\u7edfbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5237\u65b0\u539f\u751fbanner"),this.updateNativeBanner())):(console.log("XminigameSDK","\u539f\u751fbanner\u4f18\u5148"),this.loadSucc_NativeBanner?(console.log("XminigameSDK","\u5237\u65b0\u539f\u751fbanner"),this.updateNativeBanner()):this.loadSucc_SystemBanner&&(console.log("XminigameSDK","\u539f\u751fbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5237\u65b0\u7cfb\u7edfbanner"),this.updateSystemBanner())):this.SW_SystemBanner?this.updateSystemBanner():this.SW_NativeBanner&&this.updateNativeBanner()},1e3*this.NUM_BannerUpdateTime)}updateSystemBanner(){console.log("XminigameSDK","OPPO updateSystemBanner========================"),this.hideNativeBanner(),this.hideSystemBanner(),this.showSystemBanner()}hideSystemBanner(){this.isShow_SystemBanner&&this.bannerAd&&(console.log("XminigameSDK","OPPO hideSystemBanner========================"),this.isShow_SystemBanner=!1,this.bannerAd.offHide(),this.bannerAd.hide())}updateNativeBanner(){console.log("XminigameSDK","OPPO updateNativeBanner========================"),this.hideNativeBanner(),this.hideSystemBanner(),this.showNativeBanner()}hideNativeBanner(){this.isShow_NativeBanner&&(console.log("XminigameSDK","OPPO hideNativeBanner========================"),this.isShow_NativeBanner=!1,this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null)}nativeAdAutoUpdate(){setInterval(()=>{this.nativeAd&&this.nativeAd.load()},1e3*this.NUM_NativeUpdateTime)}customNativeAdAutoUpdate(){setInterval(()=>{this.customNativeAd&&this.customNativeAd.load()},1e3*this.NUM_NativeUpdateTime)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LoadRes":"LoadRes","../utils/LocalStorage":"LocalStorage"}],OppoDTO:[function(e,t,i){"use strict";cc._RF.push(t,"af980OiLX5EQp2x/tgN45Eh","OppoDTO"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(e){this.sdkVersion="1.0.0",this.token=e}},cc._RF.pop()},{}],OppoSDK:[function(e,t,i){"use strict";cc._RF.push(t,"3d575qWs6VMaombEXpY4QHq","OppoSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/OppoDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){qg.reportMonitor("game_scene",0),this.startLogin()}startLogin(){qg.login({success:e=>{console.log("XminigameSDK","OPPO \u767b\u5f55\u6210\u529f\uff1a"+JSON.stringify(e.data));let t=new l.default(e.data.token);this.loginSucc(t)},fail:e=>{console.log("XminigameSDK","OPPO \u767b\u5f55\u5931\u8d25,",JSON.stringify(e)),console.log("XminigameSDK","OPPO \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/OppoDTO":"OppoDTO"}],Player:[function(e,t,i){"use strict";cc._RF.push(t,"ba37aXVcahLk5I6/2RsmCuG","Player");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/AEManager"),o=e("../LibTool/Manager/SkillManager"),s=e("../LibTool/Manager/SoundsManager"),r=e("../LibTool/Manager/ViewManager"),l=e("../Manager/AssetsManager"),h=e("../Manager/MapManager"),c=e("../View/GameView"),d=e("../View/RoleView"),g=e("./Base/RoleBase"),{ccclass:u,property:m}=cc._decorator;let p=class extends g.default{constructor(){super(...arguments),this.costText=null,this.up=null,this.spine=null,this.skill=null,this.isClear=!1,this.cost=0,this.level=1,this.exp=0,this.levelExp=null}initialize(e){var t;this.clear(),this.cost=e,this.isClear=!1,this.costText.node.active=!0,this.costText.string=e+"";const i=null===(t=r.viewManager.getView("RoleView",d.default))||void 0===t?void 0:t.getSkin();if(l.default.loadSpine(i.spine).then(e=>{this.spine.skeletonData=e,this.spine.setAnimation(0,"daiji",!0)}),l.default.loadJson("PlayerExp").then(e=>{this.levelExp=e.json}),this.spine.node.y=1500,cc.tween(this.spine.node).delay(.5).to(.5,{y:-10}).call(()=>{const e=this.spine.node.convertToWorldSpaceAR(this.spine.node.getPosition());n.aeManager.playEffect(cc.v2(e.x,e.y-20),"Smoke")}).to(.2,{y:20},{easing:cc.easing.sineOut}).to(.2,{y:-10},{easing:cc.easing.sineIn}).start(),""!=i.skill){const e=o.skillManager.getSkillDataByName(i.skill);o.skillManager.addSkill(e.eventId,e.nameCN),r.viewManager.getView("GameView",c.default).updateSkill()}}addCost(e,t=!0){let i=e;this.cost+=e,this.schedule(()=>{e-=i/31,this.costText.string=Math.round(this.cost-e)+""},.01,30),cc.tween(this.costText.node).to(.2,{scale:1.2},{easing:cc.easing.backOut}).to(.1,{scale:1},{easing:cc.easing.sineOut}).start(),this.up.active=!0,this.up.opacity=0,this.up.y=0,t&&l.default.loadSound("up").then(e=>{this.scheduleOnce(()=>{s.soundsManager.playEffect(e)},.3)}),cc.tween(this.up).parallel(cc.tween().to(.5,{y:100},{easing:cc.easing.sineOut}),cc.tween().to(.1,{opacity:255}),cc.tween().delay(.4).to(.1,{opacity:0})).call(()=>{this.up.active=!1}).start()}subCost(e){let t=e;this.cost-=e,this.schedule(()=>{e-=t/11;let i=Math.round(this.cost+e);i<=0&&(i=0),this.costText.string=i+""},.01,10)}addExp(e){this.exp+=e;for(let t=0;t<this.levelExp.length;t++)if(this.levelExp[t].level==this.level){if(this.exp>=this.levelExp[t].exp)return this.level++,this.exp=0,r.viewManager.getView("GameView",c.default).updateExp(this.level-1,1),this.scheduleOnce(()=>{r.viewManager.getView("GameView",c.default).updateExp(this.level-1,this.exp/this.levelExp[t].exp)},.2),!0;r.viewManager.getView("GameView",c.default).updateExp(this.level-1,this.exp/this.levelExp[t].exp);break}return!1}getExp(){return this.exp}clear(){this.level=1,this.exp=0,this.costText.node.active=!0,this.costText.node.opacity=255}setCost(e){this.cost=e,this.costText.string=this.cost+""}playBattle(){this.spine.setAnimation(0,"gongji",!1),l.default.loadSound("hit2").then(e=>{this.scheduleOnce(()=>{s.soundsManager.playEffect(e)},.3)}),this.spine.setCompleteListener(()=>{this.spine.setAnimation(0,"daiji",!0),this.spine.setCompleteListener(null)})}playWin(){this.spine.setAnimation(0,"shengli",!1);const e=this.node.parent.convertToWorldSpaceAR(this.node.position);n.aeManager.playEffect(cc.v2(e.x,e.y),"StateUp"),this.scheduleOnce(()=>{h.mapManager.isLock=!1,r.viewManager.getView("GameView",c.default).showGuide()},.2),this.spine.addAnimation(0,"daiji",!0)}playLose(){this.spine.setAnimation(0,"shibai",!1),this.spine.setCompleteListener(()=>{this.isClear&&cc.tween(this.costText.node).to(.5,{opacity:0}).start(),this.spine.setCompleteListener(null)})}playDouble(){this.spine.setAnimation(0,"baoqi",!1),this.spine.addAnimation(0,"daiji",!0)}playSkill(e,t,i){t&&"Icon/Skill/9"!=t&&this.playSkillIcon(t),this.spine.setAnimation(0,e,!1),this.spine.setCompleteListener(()=>{i&&i(),this.spine.setCompleteListener(null)})}playSkillIcon(e){this.skill.node.active=!0,this.skill.node.scale=0,this.skill.node.opacity=0,cc.tween(this.skill.node).to(.2,{opacity:255,scale:1},{easing:cc.easing.backOut}).delay(.5).to(.2,{opacity:0,scale:0}).call(()=>{this.skill.node.active=!1}).start(),l.default.loadSprite(e).then(e=>{this.skill.spriteFrame=e})}};a([m(cc.Label)],p.prototype,"costText",void 0),a([m(cc.Node)],p.prototype,"up",void 0),a([m(sp.Skeleton)],p.prototype,"spine",void 0),a([m(cc.Sprite)],p.prototype,"skill",void 0),p=a([u],p),i.default=p,cc._RF.pop()},{"../LibTool/Manager/AEManager":"AEManager","../LibTool/Manager/SkillManager":"SkillManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../Manager/AssetsManager":"AssetsManager","../Manager/MapManager":"MapManager","../View/GameView":"GameView","../View/RoleView":"RoleView","./Base/RoleBase":"RoleBase"}],RateView:[function(e,t,i){"use strict";cc._RF.push(t,"c24cf4oa2ZGfbOeTsiKcvOz","RateView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/SDKManager"),s=e("../LibTool/tools"),{ccclass:r,property:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this._layout=4,this._viewName="RateView"}openView(){super.openView(),o.default.reportEvent("Show_Event",{Show_Rate:1})}onTouchClose(){this.closeView()}onTouchRate(){this.closeView(),s.default.setItem("openRate","true"),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/asc/sdk/ndk/AndroidNDKHelper","xgameComment","()V"):cc.sys.os==cc.sys.OS_IOS&&o.default.showReviewAlert()}};h=a([r],h),i.default=h,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/tools":"tools"}],Resurrection:[function(e,t,i){"use strict";cc._RF.push(t,"98dc5aYa4dOapLwTKGy3vSA","Resurrection"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Manager/AEManager"),n=e("../../LibTool/Manager/MessageManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase");class l extends r.default{eval(e,t,i,r){super.eval(e,t,i,r);let l=Math.random()<this.damage;if(l){const t=e.node.parent.convertToWorldSpaceAR(e.node.position);a.aeManager.playEffect(cc.v2(t),this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)}),n.messageManager.postMessage("Resurrection"),r&&r()}return l}}i.default=l,l.skillName="\u590d\u6d3b",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/MessageManager":"MessageManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],RoleBase:[function(e,t,i){"use strict";cc._RF.push(t,"9acde0HjYFJ4Yaz5DQd3nLU","RoleBase"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class extends cc.Component{constructor(){super(...arguments),this.cost=0,this.originCost=0,this.spine=null}addCost(e){}subCost(e){}playSkill(e,t,i){}playBattle(){}},cc._RF.pop()},{}],RoleView:[function(e,t,i){"use strict";cc._RF.push(t,"76d8baN+SdAZ7LBfyb07OFv","RoleView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Role"),o=e("../LibTool/Component/Base/ViewBase"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/LanguageManager"),l=e("../LibTool/Manager/SDKManager"),h=e("../LibTool/tools"),c=e("../Manager/AssetsManager"),{ccclass:d,property:g}=cc._decorator;let u=class extends o.default{constructor(){super(...arguments),this._viewName="RoleView",this._layout=1,this.coin=null,this.coinBtn=null,this.adBtn=null,this.useBtn=null,this.usingNode=null,this.moveNode=null,this.skinObj=[],this.widthLimit=150,this.nowIndex=0,this.displayIndex=[-2,-1,0,1,2],this.width=480,this.startX=0,this.isMove=!1,this.skin=null,this.skill=null,this.nowSkin=null,this.selectSkin=null,this.isInit=!1}onLoad(){super.onLoad(),c.default.loadJson("Skin").then(e=>{this.skin=e.json,s.archiveManager.gameData.nowSkin||(s.archiveManager.gameData.nowSkin=0),this.selectSkin=this.nowSkin=this.skin[Number(s.archiveManager.gameData.nowSkin)]}),c.default.loadJson("Skill").then(e=>{this.skill=e.json}),this.moveNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.moveNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.moveNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.moveNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.nowIndex=0}openView(){super.openView(),this.isInit||this.scheduleOnce(()=>{this.switchSkin(s.archiveManager.gameData.nowSkin),this.updatePageContent()},.05),this.adBtn.active=!1,this.coinBtn.active=!1,this.useBtn.active=!1,h.default.isVivo||h.default.isQQ?this.scheduleOnce(()=>{l.default.showInters()},.8):l.default.showInters(),l.default.reportEvent("Inter_Event",{Inter_Role:1}),l.default.reportEvent("Show_Event",{Show_Role:1})}closeView(){super.closeView()}onTouchStart(e){this.isMove||(this.isMove=!0,this.startX=e.getLocationX())}onTouchMove(e){if(!this.isMove)return;if(e.getTouches().length>1)return;const t=e.getLocationX();this.startX-t>this.widthLimit?(this.isMove=!1,this.lastPage()):t-this.startX>this.widthLimit&&(this.isMove=!1,this.nextPage())}onTouchCancel(e){e.getTouches().length>1||(this.isMove=!1)}onTouchEnd(e){e.getTouches().length>1||(this.isMove=!1)}lastPage(){this.nowIndex++,this.nowIndex>=this.skin.length&&(this.nowIndex=0);const e=this.skinObj.shift();cc.Tween.stopAllByTarget(e.node),e.node.x=720,this.skinObj.push(e),this.updatePageContent()}nextPage(){this.nowIndex--,this.nowIndex<0&&(this.nowIndex=this.skin.length-1);const e=this.skinObj.pop();cc.Tween.stopAllByTarget(e.node),e.node.x=-720,this.skinObj=[e].concat(this.skinObj),this.updatePageContent()}updatePageContent(){for(let e=0;e<this.skinObj.length;e++){const t=this.skinObj[e],i=cc.tween(t.node).to(.3,{x:e*this.width-2*this.width,scale:1-.1*Math.abs(2-e)},{easing:cc.easing.sineOut});i.call(()=>{let i=Number(this.nowIndex)+Number(this.displayIndex[e]);i<0&&(i=this.skin.length+i),i>=this.skin.length&&(i-=this.skin.length),t.initialize(this.skin[i]);const a=this.skin[this.nowIndex],n=this.isUnlock(a.id);this.coin.string=a.cost+"",this.coinBtn.active=!n,this.adBtn.active=!n,this.nowSkin.id==this.skin[this.nowIndex].id?(this.useBtn.active=!1,this.usingNode.active=!0):(this.useBtn.active=n,this.usingNode.active=!1)}),i.start()}}onTouchClose(){this.closeView()}onTouchCoin(){s.archiveManager.coin>=this.skin[this.nowIndex].cost?(s.archiveManager.coin-=this.skin[this.nowIndex].cost,this.unlockSkin(this.skin[this.nowIndex].id)):h.default.showToast(r.languageManager.getLan("3"),.5,"UI")}onTouchAd(){l.default.reportEvent("AdTouch_Event",JSON.parse('{ "AdTouch_RoleUnlock'+this.skin[this.nowIndex].id+'": 1 }')),l.default.showRewardVideo(e=>{1===e?this.unlockSkin(this.skin[this.nowIndex].id):2===e?h.default.showToast(r.languageManager.getLan("7"),.5,"UI"):h.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}onTouchUse(){this.useSkin(this.skin[this.nowIndex])}useSkin(e){this.nowSkin=e,s.archiveManager.gameData.nowSkin=this.nowSkin.id,this.selectSkin=this.nowSkin,this.usingNode.active=!0,this.useBtn.active=!1,s.archiveManager.saveData()}switchSkin(e){this.nowIndex=e}isUnlock(e){s.archiveManager.gameData.skinUnlock||(s.archiveManager.gameData.skinUnlock=[0],s.archiveManager.saveData());for(let t=0;t<s.archiveManager.gameData.skinUnlock.length;t++)if(Number(s.archiveManager.gameData.skinUnlock[t])==e)return!0;return!1}unlockSkin(e){this.isUnlock(e)||s.archiveManager.gameData.skinUnlock.push(e),s.archiveManager.saveData(),this.coinBtn.active=!1,this.adBtn.active=!1;for(let t=0;t<this.skinObj.length;t++){const i=this.skinObj[t];i.data.id==e&&i.playUnlock(()=>{this.updatePageContent()})}}getSkin(){return this.selectSkin}};a([g(cc.Label)],u.prototype,"coin",void 0),a([g(cc.Node)],u.prototype,"coinBtn",void 0),a([g(cc.Node)],u.prototype,"adBtn",void 0),a([g(cc.Node)],u.prototype,"useBtn",void 0),a([g(cc.Node)],u.prototype,"usingNode",void 0),a([g(cc.Node)],u.prototype,"moveNode",void 0),a([g({type:n.default})],u.prototype,"skinObj",void 0),u=a([d],u),i.default=u,cc._RF.pop()},{"../Component/Role":"Role","../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager"}],Role:[function(e,t,i){"use strict";cc._RF.push(t,"bdca1mPMBlI+rCpfACTaTEm","Role");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/LanguageManager"),o=e("../LibTool/Manager/SoundsManager"),s=e("../LibTool/Manager/ViewManager"),r=e("../Manager/AssetsManager"),l=e("../View/RoleView"),{ccclass:h,property:c}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.lock=null,this.spine=null,this.skillIcon=null,this.skillInfo=null,this.animation=null,this.data=null,this.callback=null}initialize(e){if(this.lock.active=!s.viewManager.getView("RoleView",l.default).isUnlock(e.id),e==this.data)return;this.data=e;let t="";if(""==e.skill)t="Icon/Skill/null",this.skillInfo.string=n.languageManager.getLan("6");else{let i=s.viewManager.getView("RoleView",l.default).skill;for(let a=0;a<i.length;a++){const o=i[a];if(o.nameCN==e.skill){t=o.icon,"zh"==n.languageManager.getLanType()?this.skillInfo.string=o.infoCN:this.skillInfo.string=o.infoEN;break}}}r.default.loadSprite(t).then(e=>{this.skillIcon.spriteFrame=e}),r.default.loadSpine(this.data.spine).then(e=>{this.spine.skeletonData=e,this.spine.setAnimation(0,"daiji",!0)})}playUnlock(e){this.callback=e,r.default.loadSound("lockMove").then(e=>{o.soundsManager.playEffect(e)}),this.scheduleOnce(()=>{r.default.loadSound("unlock").then(e=>{o.soundsManager.playEffect(e)})},.6),this.animation.play()}unlockCallback(){this.callback&&this.callback()}};a([c(cc.Node)],d.prototype,"lock",void 0),a([c(sp.Skeleton)],d.prototype,"spine",void 0),a([c(cc.Sprite)],d.prototype,"skillIcon",void 0),a([c(cc.Label)],d.prototype,"skillInfo",void 0),a([c(cc.Animation)],d.prototype,"animation",void 0),d=a([h],d),i.default=d,cc._RF.pop()},{"../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../Manager/AssetsManager":"AssetsManager","../View/RoleView":"RoleView"}],SDKManager:[function(e,t,i){"use strict";cc._RF.push(t,"3dd03VnDIJPqZPVzCspoa2S","SDKManager"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../Delegate"),n=e("../SDK/ASCAd"),o=e("../SDK/SdkConfig"),s=e("../SDK/utils/GetConfig"),r=e("../tools"),l=e("./LoadAssetsManager"),h=e("./Logger"),c=e("./SoundsManager");class d{static initialize(e,t,i,a=!1){o.sdkConfig.channelId=e,o.sdkConfig.appId=t,i&&(kwaigame.readyGo(),kwaigame.init({appId:s.default.getAppId()})),n.default.getInstance().initAd(),this._isRecordAd=a,this._isRecordAd&&(this._adCount=r.default.getItem("adCount",0))}static showPrivacyAgreement(e,t,i){n.default.getInstance().showPrivacyAgreement(e,t,i)}static getInterFlag(){return n.default.getInstance().getIntersFlag()}static getRewardVideoFlag(){return n.default.getInstance().getVideoFlag()}static getNativeIconFlag(){return n.default.getInstance().getNativeIconFlag()}static getNavigateIconFlag(){return n.default.getInstance().getNativeIconFlag()}static getNavigateGroupFlag(){return n.default.getInstance().getNavigateGroupFlag()}static getNavigateSettleFlag(){return n.default.getInstance().getNavigateSettleFlag()}static setGroup(e){n.default.getInstance().setGroup(e)}static getNativeInfo(e){this.data=n.default.getInstance().getNativeAdInfo(1),this.data&&l.loadAssetsManager.loadNetAsset(this.data.Native_BigImage,".png",cc.Texture2D,void 0,a.Delegate.Create(this,t=>{this.bannerBG=new cc.SpriteFrame(t),e&&e.CallOnce()}))}static showNativeBanner(){this._isNoneAd||this.getNativeInfo(a.Delegate.Create(this,()=>{if(this.bannerNative)return this.bannerNative.active=!0,void n.default.getInstance().reportNativeAdShow(this.data.adId);this.bannerNative=cc.find("Canvas/banner");let e=cc.view.getFrameSize(),t=1920;t=e.width/1080*t;let i=e.height/t;if(640*(i=(t*i-1562)/358)>1080&&(i=1.6875),i<1&&(i=1),!this.bannerNative)return;this.bannerNative.scale=i,this.bannerNative.active=!0;let a=this.bannerNative.getChildByName("bg");a.getComponent(cc.Sprite).spriteFrame=this.bannerBG,a.on(cc.Node.EventType.TOUCH_START,this.touchNativeBanner,this),this.bannerNative.getChildByName("btn_close").on(cc.Node.EventType.TOUCH_START,this.hideNativeBanner,this),this.bannerNative.zIndex=3e4,n.default.getInstance().reportNativeAdShow(this.data.adId)}))}static hideNativeBanner(){this.bannerNative&&(this.bannerNative.active=!1)}static touchNativeBanner(){n.default.getInstance().reportNativeAdClick(this.data.adId)}static showNativeImage(e,t,i,a){this._isNoneAd||n.default.getInstance().getNativeImageFlag()&&n.default.getInstance().showNativeImage(e,t,i,a)}static hideNativeImage(){this._isNoneAd||n.default.getInstance().hideNativeImage()}static showReviewAlert(){this._isNoneAd||n.default.getInstance().showReviewAlert()}static showInters(){this._isNoneAd||this.getInterFlag()&&n.default.getInstance().showInters()}static showRewardVideo(e){this._isNoneAd?e&&e(1):this.getRewardVideoFlag()?((r.default.isVivo||cc.sys.os==cc.sys.OS_IOS)&&(c.soundsManager.pause(),c.soundsManager.stopAllEffect()),n.default.getInstance().showVideo(t=>{r.default.isVivo&&c.soundsManager.continue(),cc.sys.os==cc.sys.OS_IOS&&c.soundsManager.replayMusic(),this._isRecordAd&&(this._adCount++,r.default.setItem("adCount",this._adCount+"")),e&&e(t?1:2)})):e&&e(0)}static getAdCount(){return this._adCount}static showBanner(){this._isNoneAd||n.default.getInstance().showBanner()}static hideBanner(){this._isNoneAd||n.default.getInstance().hideBanner()}static showNativePaster(){this._isNoneAd||n.default.getInstance().getNativePasterFlag()&&n.default.getInstance().showNativePaster()}static showNativeIcon(e,t,i,a){this._isNoneAd||this.getNavigateIconFlag()&&n.default.getInstance().showNativeIcon(e,t,i,a)}static hideNativeIcon(){this._isNoneAd||n.default.getInstance().hideNativeIcon()}static showNavigateIcon(e,t,i,a){this._isNoneAd||this.getNavigateIconFlag()&&n.default.getInstance().showNavigateIcon(e,t,i,a)}static hideNavigateIcon(){this._isNoneAd||n.default.getInstance().hideNavigateIcon()}static showHideNavigateGroup(e,t,i,a,o){if(!this._isNoneAd)if(e){if(!this.getNavigateGroupFlag())return;n.default.getInstance().showNavigateGroup(t,i,a,o)}else n.default.getInstance().hideNavigateGroup()}static showHideNavigateSettle(e,t,i,a){if(!this._isNoneAd)if(e){if(!this.getNavigateSettleFlag())return;n.default.getInstance().showNavigateSettle(t,i,a)}else n.default.getInstance().hideNavigateSettle()}static startRecordVideo(e){n.default.getInstance().startGameVideo(e),window.setTimeout(()=>{this.isStart=!0},1e3)}static pauseRecordVideo(){this.isStart&&n.default.getInstance().pauseGameVideo()}static resumeRecordVideo(){this.isStart&&n.default.getInstance().resumeGameVideo()}static stopRecordVideo(e){this.isStart?(n.default.getInstance().stopGameVideo(e||(()=>{})),this.isStart=!1):null!=e&&e("")}static shareVideo(e,t,i,a,o){h.logger.info("\u5206\u4eab\u89c6\u9891:",e,t,i),n.default.getInstance().shareVideo(e,t,i,a,o)}static shakePhone(e){n.default.getInstance().phoneVibrate(e)}static getBoxFlag(){return n.default.getInstance().getBoxFlag()}static showAppBox(){this._isNoneAd||n.default.getInstance().showAppBox()}static ttShowMoreGames(){this._isNoneAd||n.default.getInstance().showMoreGamesBanner()}static ttHideMoreGames(){n.default.getInstance().hideMoreGamesBanner()}static getDeskTopFlag(e){n.default.getInstance().getAddDesktopFlag(e||(()=>{}))}static addDeskTop(e){n.default.getInstance().addDesktop(e||(()=>{}))}static ttShare(){window.tt.shareAppMessage()}static reportEvent(e,t){r.default.isWX||n.default.getInstance().reportAnalytics(e,t)}static getNetworkStatus(e){window.qg.getNetworkType({success:t=>{e&&e.CallOnce("none"!=t.type)}})}static setNetworkStatusListener(e){window.qg.subscribeNetworkStatus({callback:t=>{e&&e.CallOnce("none"!=t.type)}})}static showBlock(e,t,i,a){n.default.getInstance().getBlockFlag()&&n.default.getInstance().showBlock(e,t,i,a)}static hideBlock(){n.default.getInstance().hideBlock()}static showErrorBanner(e){n.default.getInstance().getErrBannerFlag()?n.default.getInstance().showErrBanner(t=>{t&&(console.log("\u53d1\u653e\u5956\u52b1"),e())}):cc.winSize.width/cc.winSize.height>.5625&&n.default.getInstance().getNavigateSettleFlag()&&n.default.getInstance().showNavigateSettle(2,0,0)}static showMoreOPPO(){n.default.getInstance().showOPPOMoreGame()}}i.default=d,d._isRecordAd=!1,d._adCount=0,d._isNoneAd=!1,d.data=null,d.bannerNative=null,d.bannerBG=null,d.isStart=!1,cc._RF.pop()},{"../Delegate":"Delegate","../SDK/ASCAd":"ASCAd","../SDK/SdkConfig":"SdkConfig","../SDK/utils/GetConfig":"GetConfig","../tools":"tools","./LoadAssetsManager":"LoadAssetsManager","./Logger":"Logger","./SoundsManager":"SoundsManager"}],ScrollComponent:[function(e,t,i){"use strict";cc._RF.push(t,"51406N5+q1HsbEbk5H9gdWf","ScrollComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.Alignment=i.Direction=void 0;const n=e("../Manager/Logger"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;var h,c;(function(e){e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"})(h=i.Direction||(i.Direction={})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right"}(c=i.Alignment||(i.Alignment={}));let d=class extends cc.Component{constructor(){super(...arguments),this.scrollView=null,this.nodeObject=null,this.objectName="",this.height=0,this.width=0,this.count=0,this.offsetY=0,this.offsetX=0,this.offsetHeight=0,this.offsetWidth=0,this.direction=h.Vertical,this.alignmentMethod=c.Center,this.columns=1,this.objectStorage=[],this.objectList=[],this.indexList=[],this.dataList=[],this.isInitialize=!1,this.progressListener=null,this.updateListener=null}onLoad(){this.initialize(),this.scrollView||(this.scrollView=this.node.getComponent(cc.ScrollView));const e=new cc.Component.EventHandler;e.target=this.node,e.component="ScrollComponent",e.handler="onEvent",this.scrollView.scrollEvents[0]=e,this.scrollView.node.anchorX=.5,this.scrollView.node.anchorY=.5,this.scrollView.content.parent.anchorX=.5,this.scrollView.content.parent.anchorY=.5,this.scrollView.content.anchorX=0,this.scrollView.content.anchorY=1}onEvent(e,t){if(t===cc.ScrollView.EventType.SCROLLING){if(!this.progressListener)return;const e=this.getProgress();this.progressListener(e)}}start(){var e;this.scrollView.content.width=this.scrollView.node.width,this.scrollView.content.height=this.scrollView.node.height,(null===(e=this.dataList)||void 0===e?void 0:e.length)>0&&this.setData(this.dataList)}initialize(){if(null!=this.nodeObject&&null!=this.scrollView&&null!=this.scrollView.content&&!this.isInitialize){this.isInitialize=!1,this.scrollView.horizontal=this.direction===h.Horizontal,this.scrollView.vertical=this.direction===h.Vertical;for(let e=0;e<this.count;e++){const t=cc.instantiate(this.nodeObject);t.setParent(this.scrollView.content),t.active=!1,t.setPosition(this.getPositionByIndex(e)),this.objectList.push(t)}this.direction===h.Vertical?(this.scrollView.content.height=Math.ceil(this.count/this.columns)*this.height+this.offsetHeight,this.scrollView.content.width=this.scrollView.node.width):(this.scrollView.content.width=Math.ceil(this.count/this.columns)*this.width+this.offsetWidth,this.scrollView.content.height=this.scrollView.node.height)}}setProgressListener(e){this.progressListener=e}setUpdateListener(e){this.updateListener=e}setData(e){if(this.dataList=e,this.dataList.length>this.objectList.length)for(const t in this.objectList)this.objectList[t].active||(this.objectList[t].active=!0);else{for(const e in this.dataList)this.objectList[e].active||(this.objectList[e].active=!0);for(let e=this.dataList.length;e<this.objectList.length;e++)this.objectList[e].active=!1}this.direction===h.Vertical?(this.scrollView.content.height=Math.ceil(e.length/this.columns)*this.height+this.offsetHeight+this.offsetY,this.scrollView.content.width=this.scrollView.node.width):(this.scrollView.content.width=Math.ceil(e.length/this.columns)*this.width+this.offsetWidth+this.offsetX,this.scrollView.content.height=this.scrollView.node.height),this.updateListPosition(),this.indexList=[]}getObjectList(){return this.objectList}update(){var e,t;if(this.updateListener)this.updateListener(this.objectList);else if(null===(e=this.scrollView)||void 0===e?void 0:e.content){const e=[];if(this.direction===h.Vertical){let t=this.scrollView.content.y-this.offsetY-this.height*(this.scrollView.node.height/this.height/2);if(t<0&&(t=0),this.height>0)for(let i=0;i<this.columns;i++)e[i]=Math.floor(t/this.height)*this.columns+i;else e[0]=0}else{let t=-(this.scrollView.content.x+this.offsetX+this.width*(this.scrollView.node.width/this.width/2));if(t<0&&(t=0),this.width>0)for(let i=0;i<this.columns;i++)e[i]=Math.floor(t/this.width)*this.columns+i;else e[0]=0}if((null===(t=this.dataList)||void 0===t?void 0:t.length)>0)for(let t=0;t<this.columns;t++)e[t]>this.dataList.length-this.count+t&&(e[t]=this.dataList.length-this.count+t,e[t]<0&&(e[t]=0));for(let t=1;t<this.count;t++)e[t]=e[0]+t;this.updateList(e)}}updateList(e,t){if(null==this.indexList||this.indexList.length!=e.length||t){for(const t in e){const i=e[t];if(this.objectList[t].name="obj_"+i,this.objectList[t].setPosition(this.getPositionByIndex(i)),this.objectList[t].zIndex=i,null==this.dataList[i])continue;if(""==this.objectName)continue;const a=this.objectList[t].getComponent(this.objectName);(null==a?void 0:a.initialize)?a.initialize(this.dataList[i]):n.logger.error("Class "+this.objectName+" is not found")}this.indexList=e}else{if(e[0]===this.indexList[0])return;for(const t in this.indexList)if(e.indexOf(this.indexList[t])<0){const e=this.objectList[t];null!=e&&this.objectStorage.indexOf(e)<0&&this.objectStorage.push(e)}for(const t in e){if(0===this.objectStorage.length)continue;const i=e[t];if(this.indexList.indexOf(i)<0){const e=this.dataList[i],t=this.objectStorage.shift();if((null==t?void 0:t.isValid)&&(t.setPosition(this.getPositionByIndex(i)),t.name="obj_"+i,t.zIndex=i,null!=e)){if(""==this.objectName)continue;const i=t.getComponent(this.objectName);(null==i?void 0:i.initialize)?i.initialize(e):n.logger.error("Class "+this.objectName+" is not found")}}}this.indexList=e}this.objectList.sort((e,t)=>{const i=e.name.substr(e.name.search("obj_")+4,e.name.length),a=t.name.substr(t.name.search("obj_")+4,t.name.length);return Number(i)-Number(a)})}updateListPosition(){for(const e in this.indexList){const t=this.indexList[e];this.objectList[e].name="obj_"+t,this.objectList[e].setPosition(this.getPositionByIndex(t)),this.objectList[e].zIndex=t}}getPositionByIndex(e){let t=0,i=0;return this.direction===h.Vertical?(t=Math.floor(e%this.columns)*this.width-this.offsetX-this.width/2*(this.columns-1),i=-Math.floor(e/this.columns)*this.height-this.offsetY,this.alignmentMethod===c.Left?t+=this.width/2*this.columns:this.alignmentMethod===c.Center?t+=this.scrollView.node.width/2:this.alignmentMethod===c.Right&&(t+=this.scrollView.node.width-this.width/2*this.columns),i-=this.height/2):(t=Math.floor(e/this.columns)*this.width-this.offsetX+this.width/2,i=-Math.floor(e%this.columns)*this.height-this.offsetY+this.height/2*(this.columns-1),this.alignmentMethod===c.Left?i-=this.height/2*this.columns:this.alignmentMethod===c.Center?i-=this.scrollView.node.height/2:this.alignmentMethod===c.Right&&(i-=this.scrollView.node.height-this.height/2*this.columns)),cc.v2(t,i)}getProgress(){let e=0;return this.direction===h.Vertical?((e=(this.scrollView.getContentPosition().y-this.scrollView.node.height)/(this.scrollView.content.height-this.scrollView.node.height))>1&&(e=1),e<0&&(e=0)):((e=(this.scrollView.getContentPosition().x-this.scrollView.node.width)/(this.scrollView.content.width-this.scrollView.node.width))>1&&(e=1),e<0&&(e=0)),e}setProgress(e){this.scrollView.stopAutoScroll();let t=null;if(this.direction===h.Vertical){let i=e*this.scrollView.content.height;i<this.scrollView.node.height/2&&(i=this.scrollView.node.height/2),i>this.scrollView.content.height-this.scrollView.node.height/2&&(i=this.scrollView.content.height-this.scrollView.node.height/2),t=cc.v2(this.scrollView.content.x,i)}else{let i=-e*this.scrollView.content.width;i>-this.scrollView.node.width/2&&(i=-this.scrollView.node.width/2),i<-this.scrollView.content.width+this.scrollView.node.width/2&&(i=-this.scrollView.content.width+this.scrollView.node.width/2),t=cc.v2(i,this.scrollView.content.y)}cc.tween(this.scrollView.content).to(.2,{x:t.x,y:t.y}).call(()=>{this.progressListener&&this.progressListener(e)}).start()}};a([s({type:cc.ScrollView,tooltip:"scrollView\u8282\u70b9\uff0c\u82e5\u4e0d\u8bbe\u7f6e\u5219\u4e3a\u672c\u8282\u70b9"})],d.prototype,"scrollView",void 0),a([s({type:cc.Node,tooltip:"\u5b9e\u4f8b\u5316\u7684\u8282\u70b9"})],d.prototype,"nodeObject",void 0),a([s({tooltip:"\u5b9e\u4f8b\u5316\u811a\u672c\u7684\u540d\u79f0"})],d.prototype,"objectName",void 0),a([s({type:cc.Float,tooltip:"\u9ad8\u5ea6\u95f4\u9694"})],d.prototype,"height",void 0),a([s({type:cc.Float,tooltip:"\u5bbd\u5ea6\u95f4\u9694"})],d.prototype,"width",void 0),a([s({type:cc.Integer,tooltip:"\u6bcf\u9875\u663e\u793a\u4e2a\u6570"})],d.prototype,"count",void 0),a([s({type:cc.Float,tooltip:"Y\u5750\u6807\u504f\u79fb"})],d.prototype,"offsetY",void 0),a([s({type:cc.Float,tooltip:"X\u5750\u6807\u504f\u79fb"})],d.prototype,"offsetX",void 0),a([s({type:cc.Float,tooltip:"\u9ad8\u5ea6\u504f\u79fb"})],d.prototype,"offsetHeight",void 0),a([s({type:cc.Float,tooltip:"\u5bbd\u5ea6\u504f\u79fb"})],d.prototype,"offsetWidth",void 0),a([s({type:cc.Enum(h),tooltip:"\u5217\u8868\u65b9\u5411"})],d.prototype,"direction",void 0),a([s({type:cc.Enum(c),tooltip:"item\u5bf9\u9f50\u65b9\u5f0f"})],d.prototype,"alignmentMethod",void 0),a([s({type:cc.Integer,tooltip:"\u5217\u6570"})],d.prototype,"columns",void 0),d=a([o,r("LibTool/Component/ScrollComponent"),l()],d),i.default=d,cc._RF.pop()},{"../Manager/Logger":"Logger"}],SdkConfig:[function(e,t,i){"use strict";cc._RF.push(t,"61861r1LbhAOa6M4qQvw1mt","SdkConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.androidAdConfig=i.m4399boxAdConfig=i.huaweiAdConfig=i.sdkConfig=i.sdkVersionConfig=void 0,i.sdkVersionConfig={sdkVersion:"zCocos2.x 4.1.4"},i.sdkConfig={appId:"",channelId:"0"},i.huaweiAdConfig={openHuaweiManualModel:!1,ID_SystemBanner:"testw6vs28auh3",ID_SystemInters:"testb4znbuh3n2",ID_Native:"u7m3hc4gvm",ID_Video:"testx9dtjwj8hp",SW_SystemBanner:!0,SW_SystemInters:!0,SW_Video:!0,SW_Native:!0,SW_NativeBanner:!0,SW_NativeInters:!0,SW_SystemBannerFirst:!0,NUM_BannerUpdateTime:60,NUM_NativeIntersP:0,SW_IntersBaseControl:!1,NUM_IntersStart:0,NUM_IntersIntervalNum:0,NUM_IntersIntervalTime:0,NUM_IntersDelayTime:0,NUM_IntersDelayP:0},i.m4399boxAdConfig={openM4399boxManualModel:!1,SW_SystemBanner:!0,SW_SystemInters:!0,SW_Video:!0,NUM_BannerUpdateTime:30,SW_IntersBaseControl:!1,NUM_IntersStart:0,NUM_IntersIntervalNum:0,NUM_IntersIntervalTime:0,NUM_IntersDelayTime:0,NUM_IntersDelayP:0},i.androidAdConfig={SW_ManualModel:!1,jsonUrl:""},cc._RF.pop()},{}],Select:[function(e,t,i){"use strict";cc._RF.push(t,"2cab1XixR5PX5Vr6IZDCGzr","Select");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/tools"),o=e("../Manager/MapManager"),{ccclass:s,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.select=null,this.isRed=!1}switchColor(e){this.isRed=e,this.select.color=e?n.default.rgbToColor("#d26f6f"):n.default.rgbToColor("#6fd29e")}touch(){this.isRed||o.mapManager.setPos(this)}};a([r(cc.Node)],l.prototype,"select",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../LibTool/tools":"tools","../Manager/MapManager":"MapManager"}],ServerCenter:[function(e,t,i){"use strict";cc._RF.push(t,"6501e7BiPBEGK21U7oShWJu","ServerCenter"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/HttpRequest"),n=e("./ServerFactory"),o=e("../config/ServerUrlConfig"),s=e("../utils/GetConfig"),r=e("../utils/LocalStorage"),l=e("../ad/AdCenter");class h{constructor(){this.serverFactory=n.default.produceServer()}static getInstance(){return h.instance||(h.instance=new h),h.instance}initAd(){console.log("XminigameSDK","\u5f53\u524d\u7248\u672c\uff1a",s.default.getSdkVersion()),console.log("XminigameSDK","\u5f53\u524d\u6e20\u9053\uff1a",s.default.getChannelName()),console.log("XminigameSDK","\u5f53\u524d\u6e20\u9053ID\uff1a",s.default.getChannelId()),this.serverFactory.initAd()}getMoblieToken(e,t){console.log("XminigameSDK","moblieTokenDTO",JSON.stringify(e)),a.default.getInstance().requestPost(o.ServerUrlConfig.getMobileTokenUrl,e,t)}getVisitorToken(e,t){console.log("XminigameSDK","visitorTokenDTO",JSON.stringify(e)),a.default.getInstance().requestPost(o.ServerUrlConfig.getVisitorTokenUrl,e,t)}downAdConfigure(e){a.default.getInstance().requestGet(o.ServerUrlConfig.downAdConfigureUrl,r.default.getData("token"),!0,e)}downPushGames(e){a.default.getInstance().requestGet(o.ServerUrlConfig.downPushGamesUrl,r.default.getData("token"),!1,e)}collectAdPush(e,t){a.default.getInstance().requestPostWithAuthor(o.ServerUrlConfig.collectAdPushUrl,e,r.default.getData("token"),t)}mustLogin(e){this.serverFactory.mustLogin(e)}clearHasGetToken(){a.default.getInstance().clearHasGetToken()}getLocalStorageAdConfig(){let e=r.default.getJsonData("adConfig");l.default.getInstance().adConfig=e,l.default.getInstance().startLoadAd()}getLocalStoragePushGamesConfig(){let e=r.default.getJsonData("pushGamesConfig");l.default.getInstance().pushGamesConfig=e,l.default.getInstance().startLoadPushGamaes()}}i.default=h,cc._RF.pop()},{"../ad/AdCenter":"AdCenter","../config/ServerUrlConfig":"ServerUrlConfig","../utils/GetConfig":"GetConfig","../utils/HttpRequest":"HttpRequest","../utils/LocalStorage":"LocalStorage","./ServerFactory":"ServerFactory"}],ServerFactory:[function(e,t,i){"use strict";cc._RF.push(t,"45005Wtd49CfaaKZnAshTDV","ServerFactory"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../sdk/android/AndroidSDK"),n=e("../sdk/bilibili/BilibiliSDK"),o=e("../sdk/blank/BlankSDK"),s=e("../sdk/huawei/HuaweiSDK"),r=e("../sdk/ios/IosSDK"),l=e("../sdk/kwai/KwaiSDK"),h=e("../sdk/m4399box/M4399boxSDK"),c=e("../sdk/oppo/OppoSDK"),d=e("../sdk/tencentqq/TencentqqSDK"),g=e("../sdk/test/TestSDK"),u=e("../sdk/tiktok/TiktokSDK"),m=e("../sdk/vivo/VivoSDK"),p=e("../sdk/weixin/WeixinSDK"),v=e("../sdk/xiaomi/XiaomiSDK"),S=e("../utils/GetConfig");i.default=class{static produceServer(){switch(S.default.getChannelName()){case"oppo":return new c.default;case"vivo":return new m.default;case"tiktok":return new u.default;case"tencentqq":return new d.default;case"weixin":return new p.default;case"kwai":return new l.default;case"huawei":return new s.default;case"xiaomi":return new v.default;case"bilibili":return new n.default;case"m4399box":return new h.default;case"android":return new a.default;case"ios":return new r.default;case"blank":return new o.default;case"test":return new g.default;default:return}}},cc._RF.pop()},{"../sdk/android/AndroidSDK":"AndroidSDK","../sdk/bilibili/BilibiliSDK":"BilibiliSDK","../sdk/blank/BlankSDK":"BlankSDK","../sdk/huawei/HuaweiSDK":"HuaweiSDK","../sdk/ios/IosSDK":"IosSDK","../sdk/kwai/KwaiSDK":"KwaiSDK","../sdk/m4399box/M4399boxSDK":"M4399boxSDK","../sdk/oppo/OppoSDK":"OppoSDK","../sdk/tencentqq/TencentqqSDK":"TencentqqSDK","../sdk/test/TestSDK":"TestSDK","../sdk/tiktok/TiktokSDK":"TiktokSDK","../sdk/vivo/VivoSDK":"VivoSDK","../sdk/weixin/WeixinSDK":"WeixinSDK","../sdk/xiaomi/XiaomiSDK":"XiaomiSDK","../utils/GetConfig":"GetConfig"}],ServerInterface:[function(e,t,i){"use strict";cc._RF.push(t,"a4b4aeCFPJEYrQVp7PR9zmD","ServerInterface"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],ServerUrlConfig:[function(e,t,i){"use strict";cc._RF.push(t,"b978ajQvsFIJZicKawvBQ23","ServerUrlConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.ServerUrlConfig=void 0;const a="https://cloud.xminigame.com/api";i.ServerUrlConfig={getMobileTokenUrl:a+"/xmini-game-user/mobile/login/getMobileToken",getVisitorTokenUrl:a+"/xmini-game-user/mobile/login/getVisitorToken",downAdConfigureUrl:a+"/xmini-game-advert/mobile/advert/downAdConfigure",downPushGamesUrl:a+"/xmini-game-advert/mobile/pushgame/downPushGames",collectAdPushUrl:a+"/xmini-game-user/mobile/pushdata/collectAdPush"},cc._RF.pop()},{}],SetUpView:[function(e,t,i){"use strict";cc._RF.push(t,"931507Z/YhFGIe+yQK1fK3B","SetUpView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Base/ViewBase"),o=e("../Manager/ArchiveManager"),{ccclass:s,property:r,menu:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this._viewName="SetUpView",this._layout=1,this.musicOn=null,this.musicOff=null,this.soundOn=null,this.soundOff=null}openView(){super.openView(),this.musicOff&&(this.musicOff.active=1!=o.archiveManager.mVolume),this.musicOn&&(this.musicOn.active=1==o.archiveManager.mVolume),this.soundOff&&(this.soundOff.active=1!=o.archiveManager.sVolume),this.soundOn&&(this.soundOn.active=1==o.archiveManager.sVolume)}onTouchMusic(){o.archiveManager.mVolume>0?(o.archiveManager.mVolume=0,this.musicOff&&(this.musicOff.active=!0),this.musicOn&&(this.musicOn.active=!1)):(o.archiveManager.mVolume=1,this.musicOff&&(this.musicOff.active=!1),this.musicOn&&(this.musicOn.active=!0)),o.archiveManager.saveData()}onTouchSound(){o.archiveManager.sVolume>0?(o.archiveManager.sVolume=0,this.soundOff&&(this.soundOff.active=!0),this.soundOn&&(this.soundOn.active=!1)):(o.archiveManager.sVolume=1,this.soundOff&&(this.soundOff.active=!1),this.soundOn&&(this.soundOn.active=!0)),o.archiveManager.saveData()}onTouchBack(){this.isAnimation||this.closeView()}};a([r(cc.Node)],h.prototype,"musicOn",void 0),a([r(cc.Node)],h.prototype,"musicOff",void 0),a([r(cc.Node)],h.prototype,"soundOn",void 0),a([r(cc.Node)],h.prototype,"soundOff",void 0),h=a([s,l("LibTool/View/SetUpView")],h),i.default=h,cc._RF.pop()},{"../Component/Base/ViewBase":"ViewBase","../Manager/ArchiveManager":"ArchiveManager"}],SettingView:[function(e,t,i){"use strict";cc._RF.push(t,"4de7eI8KKhBqodNg9FBl3Dg","SettingView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/ArchiveManager"),s=e("../LibTool/Manager/SDKManager"),r=e("../LibTool/Manager/SoundsManager"),l=e("../LibTool/Manager/ViewManager"),h=e("./GameView"),c=e("./MoveView"),{ccclass:d,property:g}=cc._decorator;let u=class extends n.default{constructor(){super(...arguments),this._layout=2,this._viewName="SettingView",this.sounds=[],this.musics=[]}openView(){super.openView(),this.sounds[0].active=1!=o.archiveManager.sVolume,this.sounds[1].active=1==o.archiveManager.sVolume,this.musics[0].active=1!=o.archiveManager.mVolume,this.musics[1].active=1==o.archiveManager.mVolume}onTouchBack(){this.closeView(),s.default.reportEvent("Touch_Event",{Touch_GameBack:1}),l.viewManager.getView("MoveView",c.default).transition(()=>{l.viewManager.closeView("GameView"),l.viewManager.openView("HomeView")})}onTouchReplay(){this.closeView(),l.viewManager.getView("GameView",h.default).updateLevel()}onTouchLevel(){this.closeView(),s.default.reportEvent("Touch_Event",{Touch_Level:1}),l.viewManager.closeView("GameView"),l.viewManager.closeView("HomeView"),l.viewManager.openView("LevelView")}onTouchClose(){this.closeView()}onTouchSound(){1==o.archiveManager.sVolume?(o.archiveManager.sVolume=0,r.soundsManager.SoundVolume=0,this.sounds[0].active=!0,this.sounds[1].active=!1):(o.archiveManager.sVolume=1,r.soundsManager.SoundVolume=1,this.sounds[0].active=!1,this.sounds[1].active=!0),o.archiveManager.saveData()}onTouchMusic(){1==o.archiveManager.mVolume?(o.archiveManager.mVolume=0,r.soundsManager.MusicVolume=0,this.musics[0].active=!0,this.musics[1].active=!1):(o.archiveManager.mVolume=1,r.soundsManager.MusicVolume=1,this.musics[0].active=!1,this.musics[1].active=!0),o.archiveManager.saveData()}};a([g({type:cc.Node})],u.prototype,"sounds",void 0),a([g({type:cc.Node})],u.prototype,"musics",void 0),u=a([d],u),i.default=u,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","./GameView":"GameView","./MoveView":"MoveView"}],ShopView:[function(e,t,i){"use strict";cc._RF.push(t,"54c89TDHuZGTK+ZujPiykNm","ShopView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Effect/CoinEffect"),s=e("../LibTool/Manager/ArchiveManager"),r=e("../LibTool/Manager/LanguageManager"),l=e("../LibTool/Manager/SDKManager"),h=e("../LibTool/Manager/SoundsManager"),c=e("../LibTool/Manager/ViewManager"),d=e("../LibTool/tools"),g=e("../Manager/AssetsManager"),u=e("./CoinView"),m=e("./EnergyView"),{ccclass:p,property:v}=cc._decorator;let S=class extends n.default{constructor(){super(...arguments),this._viewName="ShopView",this._layout=1,this.coinNode=null,this.energyNode=null,this.boxAnimation=null,this.rewardIcon=[],this.item=null,this.itemCount=null,this.item1=null,this.itemCount1=null,this.normalConfig=null,this.mediumConfig=null,this.highConfig=null,this.nowData=null,this.nowData1=null}onLoad(){super.onLoad(),g.default.loadJson("NormalBox").then(e=>{this.normalConfig=e.json}),g.default.loadJson("MediumBox").then(e=>{this.mediumConfig=e.json}),g.default.loadJson("HighBox").then(e=>{this.highConfig=e.json})}openView(){super.openView(),d.default.isVivo||d.default.isQQ?this.scheduleOnce(()=>{l.default.showInters()},.8):l.default.showInters(),l.default.reportEvent("Inter_Event",{Inter_Shop:1}),l.default.reportEvent("Show_Event",{Show_Shop:1})}onTouchNormal(){if(s.archiveManager.coin>=300){s.archiveManager.coin-=300;const e=d.default.getRandDataByArray(this.normalConfig);this.nowData=e,this.showBoxAnimation(1)}else c.viewManager.openView("FreeCoinView"),d.default.showToast(r.languageManager.getLan("3"),.5,"UI")}onTouchMedium(){if(s.archiveManager.coin>=500){s.archiveManager.coin-=500;const e=d.default.getRandDataByArray(this.mediumConfig);this.nowData=e,this.showBoxAnimation(2)}else c.viewManager.openView("FreeCoinView"),d.default.showToast(r.languageManager.getLan("3"),.5,"UI")}onTouchHigh(){l.default.reportEvent("AdTouch_Event",{AdTouch_HighBox:1}),l.default.showRewardVideo(e=>{if(1===e){const e=d.default.getRandDataByArray(this.highConfig);this.nowData=e;const t=d.default.getRandDataByArray(this.highConfig);this.nowData1=t,this.showBoxAnimation(3)}else 2===e?d.default.showToast(r.languageManager.getLan("7"),.5,"UI"):d.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}onTouchDouble(){l.default.reportEvent("AdTouch_Event",{AdTouch_ShopDouble:1}),l.default.showRewardVideo(e=>{1===e?(this.nowData={name:"\u53cc\u500d\u9053\u5177",count:1},this.showBoxAnimation(1)):d.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}onTouchTip(){l.default.reportEvent("AdTouch_Event",{AdTouch_ShopTips:1}),l.default.showRewardVideo(e=>{1===e?(this.nowData={name:"\u63d0\u793a\u9053\u5177",count:1},this.showBoxAnimation(1)):d.default.showToast(r.languageManager.getLan("5"),.5,"UI")})}onTouchBack(){this.closeView()}showBoxAnimation(e){switch(this.boxAnimation.node.active=!0,this.boxAnimation.node.opacity=255,this.boxAnimation.play(),1==e?(this.boxAnimation.node.getChildByName("box1").active=!0,this.boxAnimation.node.getChildByName("box2").active=!1,this.boxAnimation.node.getChildByName("box3").active=!1):2==e?(this.boxAnimation.node.getChildByName("box1").active=!1,this.boxAnimation.node.getChildByName("box2").active=!0,this.boxAnimation.node.getChildByName("box3").active=!1):3==e&&(this.boxAnimation.node.getChildByName("box1").active=!1,this.boxAnimation.node.getChildByName("box2").active=!1,this.boxAnimation.node.getChildByName("box3").active=!0),this.nowData.name){case"\u91d1\u5e01":this.item.spriteFrame=this.rewardIcon[0];break;case"\u4f53\u529b":this.item.spriteFrame=this.rewardIcon[1];break;case"\u63d0\u793a\u9053\u5177":this.item.spriteFrame=this.rewardIcon[2];break;case"\u53cc\u500d\u9053\u5177":this.item.spriteFrame=this.rewardIcon[3]}if(this.itemCount.string="x"+this.nowData.count,3==e){switch(this.nowData1.name){case"\u91d1\u5e01":this.item1.spriteFrame=this.rewardIcon[0];break;case"\u4f53\u529b":this.item1.spriteFrame=this.rewardIcon[1];break;case"\u63d0\u793a\u9053\u5177":this.item1.spriteFrame=this.rewardIcon[2];break;case"\u53cc\u500d\u9053\u5177":this.item1.spriteFrame=this.rewardIcon[3]}this.itemCount1.string="x"+this.nowData1.count,this.scheduleOnce(()=>{cc.tween(this.item.node.parent).to(.3,{x:-100},{easing:cc.easing.sineOut}).start(),cc.tween(this.item1.node.parent).to(.3,{x:100},{easing:cc.easing.sineOut}).start()},1.5)}this.scheduleOnce(()=>{g.default.loadSound("boxDown").then(e=>{h.soundsManager.playEffect(e)})},.25),this.scheduleOnce(()=>{g.default.loadSound("boxMove").then(e=>{h.soundsManager.playEffect(e)})},.3),this.scheduleOnce(()=>{g.default.loadSound("itemJump").then(e=>{h.soundsManager.playEffect(e)}),g.default.loadSound("open").then(e=>{h.soundsManager.playEffect(e)})},1),this.scheduleOnce(()=>{this.getReward(this.nowData),3==e&&this.getReward(this.nowData1),cc.tween(this.boxAnimation.node).to(.3,{opacity:0}).call(()=>{this.boxAnimation.node.active=!1}).start()},2)}getReward(e){let t=null,i=0,a=e.name,n=Number(e.count);switch(a){case"\u91d1\u5e01":const e=c.viewManager.getView("CoinView",u.default);t=d.default.convertToNodeSpace(e.coinNode.getPosition(),e.coinNode,o.coinEffect.node),i=s.archiveManager.coin,g.default.loadSound("outCoin").then(e=>{h.soundsManager.playEffect(e)}),o.coinEffect.ShowCoinFlyByNode(this.coinNode,cc.v2(0,100),t,n,e=>{s.archiveManager.coin+=e,g.default.loadSound("coin").then(e=>{h.soundsManager.playEffect(e)})},()=>{s.archiveManager.coin=i+n});break;case"\u4f53\u529b":const r=c.viewManager.getView("EnergyView",m.default);t=d.default.convertToNodeSpace(r.energyNode.getPosition(),r.energyNode,o.coinEffect.node),i=s.archiveManager.energy,g.default.loadSound("outEnergy").then(e=>{h.soundsManager.playEffect(e)}),o.coinEffect.ShowCoinFlyByNode(this.energyNode,cc.v2(0,100),t,n,e=>{s.archiveManager.energy+=e,g.default.loadSound("energy").then(e=>{h.soundsManager.playEffect(e)})},()=>{s.archiveManager.energy=i+n});break;case"\u63d0\u793a\u9053\u5177":s.archiveManager.gameData.tipsCount=Number(s.archiveManager.gameData.tipsCount)+n,s.archiveManager.saveData();break;case"\u53cc\u500d\u9053\u5177":s.archiveManager.gameData.doubleCount=Number(s.archiveManager.gameData.doubleCount)+n,s.archiveManager.saveData()}}};a([v(cc.Node)],S.prototype,"coinNode",void 0),a([v(cc.Node)],S.prototype,"energyNode",void 0),a([v(cc.Animation)],S.prototype,"boxAnimation",void 0),a([v(cc.SpriteFrame)],S.prototype,"rewardIcon",void 0),a([v(cc.Sprite)],S.prototype,"item",void 0),a([v(cc.Label)],S.prototype,"itemCount",void 0),a([v(cc.Sprite)],S.prototype,"item1",void 0),a([v(cc.Label)],S.prototype,"itemCount1",void 0),S=a([p],S),i.default=S,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Effect/CoinEffect":"CoinEffect","../LibTool/Manager/ArchiveManager":"ArchiveManager","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../LibTool/Manager/SoundsManager":"SoundsManager","../LibTool/Manager/ViewManager":"ViewManager","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager","./CoinView":"CoinView","./EnergyView":"EnergyView"}],SignInView:[function(e,t,i){"use strict";cc._RF.push(t,"25644YUDq1Ntbs64mPG2BLQ","SignInView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Base/ViewBase"),o=e("../Manager/ArchiveManager"),s=e("../Manager/SDKManager"),r=e("../tools"),{ccclass:l,property:h,menu:c}=cc._decorator;let d=class extends n.default{constructor(){super(...arguments),this._viewName="SignInView",this._layout=1,this.days=[],this.doubleButton=null,this.getNode=null,this.hasReward=!1,this.nowDay=0}onLoad(){super.onLoad(),this.updateSignInData()}openView(){super.openView(),this.updateSignInData(),r.default.isVivo||r.default.isQQ?this.scheduleOnce(()=>{s.default.showInters()},.8):s.default.showInters(),this.nowDay=o.archiveManager.signDay}updateSignInData(){let e=new Date;for(const t in this.days)Number(t)+1<o.archiveManager.signDay||Number(t)+1===o.archiveManager.lastDay&&e.getDate()===o.archiveManager.lastTime?(this.days[t].getChildByName("lockNode").active=!0,this.days[t].getChildByName("selectNode").active=!1):Number(t)+1===o.archiveManager.signDay?(this.days[t].getChildByName("lockNode").active=!1,this.days[t].getChildByName("selectNode").active=e.getDate()!=o.archiveManager.lastTime):(this.days[t].getChildByName("lockNode").active=!1,this.days[t].getChildByName("selectNode").active=!1);e.getDate()!=o.archiveManager.lastTime?(this.doubleButton.active=!0,this.getNode.active=!0,this.hasReward=!0):(this.doubleButton.active=!1,this.getNode.active=!1,this.hasReward=!1)}onTouchBack(){this.isAnimation||this.closeView()}onTouchDouble(){this.isAnimation||s.default.showRewardVideo(e=>{1===e?(o.archiveManager.setSignDay(o.archiveManager.signDay+1),this.updateSignInData(),this.getReward(),this.getReward()):2===e?r.default.showToast("Ads error",.5,"UI"):r.default.showToast("Ads cancel",.5,"UI")})}onTouchGet(){this.isAnimation||(o.archiveManager.setSignDay(o.archiveManager.signDay+1),this.updateSignInData(),this.getReward())}getReward(){}};a([h(cc.Node)],d.prototype,"days",void 0),a([h(cc.Node)],d.prototype,"doubleButton",void 0),a([h(cc.Node)],d.prototype,"getNode",void 0),d=a([l,c("LibTool/View/SignInView")],d),i.default=d,cc._RF.pop()},{"../Component/Base/ViewBase":"ViewBase","../Manager/ArchiveManager":"ArchiveManager","../Manager/SDKManager":"SDKManager","../tools":"tools"}],SkillBase:[function(e,t,i){"use strict";cc._RF.push(t,"98941DT4GFOXb7KrUsXMlYe","SkillBase"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../Manager/Logger"),n=e("../../tools");class o{constructor(){this.id=0,this.eventId="",this.nameCN="",this.nameEN="",this.infoCN="",this.infoEN="",this.animation="",this.level=1,this.damage=0,this.target=0,this.times=0,this.element="",this.icon="",this.effect="",this.sound="",this.delay=0}initialize(e){this.level=1,this.id=Number(n.default.getPropertyFromJSON(e,"id")),this.eventId=n.default.getPropertyFromJSON(e,"eventId"),this.nameCN=n.default.getPropertyFromJSON(e,"nameCN"),this.nameEN=n.default.getPropertyFromJSON(e,"nameEN"),this.infoCN=n.default.getPropertyFromJSON(e,"infoCN"),this.infoEN=n.default.getPropertyFromJSON(e,"infoEN"),this.animation=n.default.getPropertyFromJSON(e,"animation"),this.damage=Number(n.default.getPropertyFromJSON(e,"damage")),this.target=Number(n.default.getPropertyFromJSON(e,"target")),this.times=Number(n.default.getPropertyFromJSON(e,"times")),this.element=n.default.getPropertyFromJSON(e,"element"),this.icon=n.default.getPropertyFromJSON(e,"icon"),this.effect=n.default.getPropertyFromJSON(e,"effect"),this.sound=n.default.getPropertyFromJSON(e,"sound"),this.delay=n.default.getPropertyFromJSON(e,"delay")}addLevel(){this.level++}subLevel(){return this.level--,this.level<=0}eval(e,t,i,n){return a.logger.info("\u4f7f\u7528\u6280\u80fd\uff1a "+this.nameCN+" damage: "+this.damage*this.level),!0}}i.default=o,o.skillName="",cc._RF.pop()},{"../../Manager/Logger":"Logger","../../tools":"tools"}],SkillIcon:[function(e,t,i){"use strict";cc._RF.push(t,"8c5cfO1CwpPprmTaKXf1fla","SkillIcon");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Manager/ViewManager"),o=e("../Manager/AssetsManager"),{ccclass:s,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.icon=null,this.level=null,this.data=null}initialize(e){this.data=e,this.icon.spriteFrame=null,this.level.string=e.level+"",o.default.loadSprite(e.icon).then(e=>{this.icon.spriteFrame=e})}onTouch(){n.viewManager.getView("GameView").showSkillInfo(this.data)}};a([r(cc.Sprite)],l.prototype,"icon",void 0),a([r(cc.Label)],l.prototype,"level",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../LibTool/Manager/ViewManager":"ViewManager","../Manager/AssetsManager":"AssetsManager"}],SkillInfoView:[function(e,t,i){"use strict";cc._RF.push(t,"9b8b2WqtkhDjZz9vBoyhlJY","SkillInfoView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/LanguageManager"),s=e("../LibTool/Manager/SDKManager"),r=e("../Manager/AssetsManager"),{ccclass:l,property:h}=cc._decorator;let c=class extends n.default{constructor(){super(...arguments),this._layout=1,this._viewName="SkillInfoView",this.icon=null,this.text=null}initialize(e){s.default.reportEvent("Show_Event",JSON.parse('{ "Show_SkillInfo'+e.nameCN+'": 1 }')),"zh"==o.languageManager.getLanType()?this.text.string=e.infoCN:this.text.string=e.infoEN,r.default.loadSprite(e.icon).then(e=>{this.icon.spriteFrame=e})}onTouchClose(){this.closeView()}};a([h(cc.Sprite)],c.prototype,"icon",void 0),a([h(cc.Label)],c.prototype,"text",void 0),c=a([l],c),i.default=c,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/LanguageManager":"LanguageManager","../LibTool/Manager/SDKManager":"SDKManager","../Manager/AssetsManager":"AssetsManager"}],SkillManager:[function(e,t,i){"use strict";cc._RF.push(t,"8750az3aq1DFIeOhf2ZppCE","SkillManager");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.skillManager=void 0;const n=e("../tools"),{ccclass:o,property:s}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this._config=[],this._skillList=new Map,this._skillPool=[]}onLoad(){i.skillManager=this}onDestroy(){i.skillManager=null}initialize(e,t){this._config=e.json,this._skillPool=t}addSkill(e,t){if(this._skillList.has(e)){let i=this._skillList.get(e),a=!1;for(const e in i)i[e].nameCN==t&&(i[e].addLevel(),a=!0);a||i.push(this.getSkillByName(t)),this._skillList.set(e,i)}else{let i=this.getSkillByName(t);this._skillList.set(e,[i])}}removeSkill(e){if(this._skillList.has(e.eventId)){let t=this._skillList.get(e.eventId);for(const i in t)t[i].nameCN==e.nameCN&&t[i].subLevel()&&t.splice(Number(i),1);t.length>0?this._skillList.set(e.eventId,t):this._skillList.delete(e.eventId)}}getSkill(e){return this._skillList.has(e)?this._skillList.get(e):[]}clear(){this._skillList.clear()}getSkillByName(e){let t=null;for(const i in this._config)if(this._config[i].nameCN==e)for(let a=0;a<this._skillPool.length;a++)this._skillPool[a].skillName==e&&(t=new this._skillPool[a]).initialize(this._config[i]);return t}getRandomSkill(){return n.default.getCountRandom(this._config,3)}getSkillDataByName(e){for(const t in this._config)if(this._config[t].nameCN==e)return this._config[t]}getAllSkill(e){let t=[...this._skillList.values()];e=[];for(let i=0;i<t.length;i++){const a=t[i];for(let t=0;t<a.length;t++){const i=a[t];e.push(i)}}return e}};r=a([o],r),i.default=r,i.skillManager=null,cc._RF.pop()},{"../tools":"tools"}],SlotComponent:[function(e,t,i){"use strict";cc._RF.push(t,"b438fFMAZpNH5JyEPd575Hg","SlotComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:o}=cc._decorator;let s=class extends cc.Component{constructor(){super(...arguments),this.itemParent=null,this.itemNode=null,this.items=[],this.height=50,this.totalCount=0,this.itemNodes=[],this.callback=null,this.from=0,this.to=0,this.isMove=!1,this.nowIndex=0,this.nowTime=0,this.oldTime=0}onLoad(){for(let e=0;e<this.totalCount;e++){let t=cc.instantiate(this.itemNode);t.active=!0,t.name="item-"+e,t.setParent(this.itemParent),this.itemNodes.push(t)}}start(){this.reset()}begin(e,t,i){this.reset(),this.to=-(5*this.items.length+e)*this.height,this.nowTime=t,this.oldTime=this.nowTime,this.from=0,this.isMove=!0,this.callback=i}update(e){if(this.isMove){this.move(e);for(let e=0;e<this.itemNodes.length;e++){let t=this.itemNodes[e].parent.convertToWorldSpaceAR(this.itemNodes[e].position),i=this.itemParent.parent.convertToNodeSpaceAR(t);i.y<=-2*this.height?(this.nowIndex++,this.nowIndex>this.items.length-1&&(this.nowIndex=0),this.itemNodes[e].getComponent(cc.Sprite).spriteFrame=this.items[this.nowIndex],this.itemNodes[e].y+=this.height*this.totalCount):i.y>=2*this.height&&(this.nowIndex--,this.nowIndex<0&&(this.nowIndex=this.items.length-1),this.itemNodes[e].getComponent(cc.Sprite).spriteFrame=this.items[this.nowIndex],this.itemNodes[e].y-=this.height*this.totalCount)}}}reset(){this.itemParent.y=0;for(let e=0;e<this.itemNodes.length;e++){const t=this.itemNodes[e];t.y=e*this.height-this.itemNodes.length/2*this.height;let i=e%this.items.length;i<0&&(i=this.items.length-1),t.getComponent(cc.Sprite).spriteFrame=this.items[i]}this.nowIndex=this.items.length-1}move(e){this.oldTime>0&&(this.nowTime-=e,this.from=this.to*cc.easing.cubicOut((this.oldTime-this.nowTime)/this.oldTime),this.itemParent.y=this.from,this.nowTime<=0&&(this.nowTime=0,this.isMove=!1,null!=this.callback&&this.callback()))}};a([o({type:cc.Node,tooltip:"item\u7236\u8282\u70b9"})],s.prototype,"itemParent",void 0),a([o({type:cc.Node,tooltip:"item\u8282\u70b9"})],s.prototype,"itemNode",void 0),a([o({type:cc.SpriteFrame,tooltip:"item\u56fe\u6807"})],s.prototype,"items",void 0),a([o({tooltip:"\u95f4\u9694\u9ad8\u5ea6"})],s.prototype,"height",void 0),a([o({tooltip:"\u6700\u5927\u4e2a\u6570"})],s.prototype,"totalCount",void 0),s=a([n],s),i.default=s,cc._RF.pop()},{}],SlotView:[function(e,t,i){"use strict";cc._RF.push(t,"96300AWlFxNw6XyjHCiN7+a","SlotView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../Component/Base/ViewBase"),o=e("../Component/SlotComponent"),{ccclass:s,property:r}=cc._decorator;let l=class extends n.default{constructor(){super(...arguments),this._layout=1,this._viewName="SlotView",this.sList=[],this.items=[],this.isRoll=!1,this.list=[],this.result=new Map}onLoad(){super.onLoad();for(let e=0;e<this.sList.length;e++){const t=this.sList[e];t.totalCount=2*this.items.length,t.items=this.items,t.height=100}}onTouchClose(){this.isRoll||this.closeView()}onTouchSlot(){if(this.isRoll)return;this.isRoll=!0;let e=Math.floor(Math.random()*this.items.length),t=Math.floor(Math.random()*this.items.length),i=Math.floor(Math.random()*this.items.length);this.sList[0].begin(e,2),this.sList[1].begin(t,2.8),this.sList[2].begin(i,3.6,()=>{this.isRoll=!1,this.list=[e,t,i],this.result.clear();for(let e=0;e<this.list.length;e++){let t=this.list[e];if(this.result.has(t+"")){let e=this.result.get(t+"");e++,this.result.set(t+"",e)}else this.result.set(t+"",1)}let a=0,n="",o=[...this.result.keys()];for(let e=0;e<o.length;e++)a<=this.result.get(o[e])&&(a=this.result.get(o[e]),n=o[e]);this.getReward(n,a)})}getReward(e,t){switch(cc.log("[key] "+e+" : "+t),t){case 2:cc.log(e+"\u62ff\u5230\u4e24\u4e2a");break;case 3:cc.log(e+"\u62ff\u5230\u4e09\u4e2a")}}};a([r({type:o.default})],l.prototype,"sList",void 0),a([r({type:cc.SpriteFrame})],l.prototype,"items",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../Component/Base/ViewBase":"ViewBase","../Component/SlotComponent":"SlotComponent"}],SoulExtraction:[function(e,t,i){"use strict";cc._RF.push(t,"7c994tGkQlAbL4hCXbXc99L","SoulExtraction");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../LibTool/Manager/AEManager"),o=e("../../LibTool/Manager/SoundsManager"),s=e("../../Manager/AssetsManager"),r=e("../../LibTool/Component/Base/SkillBase"),{ccclass:l,property:h}=cc._decorator;let c=class extends r.default{eval(e,t,i,a){super.eval(e,t,i,a);for(let r=1;r<=this.times;r++)setTimeout(()=>{i[t].originCost-=this.damage*this.level*e.cost,i[t].subCost(this.damage*this.level*e.cost),e.addCost(this.damage*this.level*e.cost);const a=i[t].node.parent.convertToWorldSpaceAR(i[t].node.position);n.aeManager.playEffect(cc.v2(a.x,a.y),this.effect),s.default.loadSound("Skill/"+this.sound).then(e=>{o.soundsManager.playEffect(e)})},1e3*this.delay*r),e.playSkill(this.animation,this.icon,a);return!0}};c.skillName="\u7075\u9b42\u6c72\u53d6",c=a([l],c),i.default=c,cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/AEManager":"AEManager","../../LibTool/Manager/SoundsManager":"SoundsManager","../../Manager/AssetsManager":"AssetsManager"}],SoundsManager:[function(e,t,i){"use strict";cc._RF.push(t,"b589dbJPnRLnKvo9WHQ1pTt","SoundsManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.soundsManager=void 0;const a=e("../tools"),n=e("./ArchiveManager");i.soundsManager=new class{constructor(){this.nowMusic=null,this.onStart=null,this.onFinish=null,this.nowPlay=0,this.nowAudio=null,this.seList=new Map,this.musicVolume=1,n.archiveManager&&(this.SoundVolume=n.archiveManager.sVolume,this.musicVolume=n.archiveManager.mVolume)}playMusic(e,t=!0,i,n){if("string"==typeof e){if(a.default.isOppo||a.default.isVivo){null==this.nowMusic&&(this.nowMusic=window.qg.createInnerAudioContext()),this.onStart=i,this.onFinish=n,this.nowMusic.loop=t,this.nowMusic.volume=.7*this.musicVolume;const a=()=>{this.nowMusic.play(),this.nowMusic.offCanplay(a),this.onStart&&this.onStart.CallOnce()};this.nowMusic.onCanplay(a);const o=()=>{this.onFinish&&this.onFinish.CallOnce(),this.nowMusic.offEnded(o)};this.nowMusic.onEnded(o),this.nowMusic.src=e}}else{if(this.nowAudio==e)return;this.nowAudio=e,cc.audioEngine.stop(this.nowPlay),this.nowPlay=cc.audioEngine.playMusic(this.nowAudio,t),i&&i.CallOnce(),this.onFinish=n,cc.audioEngine.setFinishCallback(this.nowPlay,()=>{this.onFinish&&this.onFinish.CallOnce()})}}playEffect(e,t,i=!1){if(null==e)return t&&t.CallOnce(),-1;const a=cc.audioEngine.playEffect(e,i);return cc.audioEngine.setFinishCallback(a,()=>{t&&t.CallOnce(),this.seList.forEach((t,i)=>{t==e.name&&this.seList.delete(i)})}),this.seList.set(a,e.name),a}stopEffect(e,t=!0){if(t)cc.audioEngine.stopEffect(e),this.seList.delete(e);else{const t=this.seList.get(e);this.seList.forEach((e,i)=>{e===t&&(cc.audioEngine.stopEffect(i),this.seList.delete(i))})}}stopAllEffect(){this.seList.forEach((e,t)=>{cc.audioEngine.stopEffect(t),this.seList.delete(t)})}setProgress(e){cc.audioEngine.setCurrentTime(this.nowPlay,e*this.getTotalTime()/1e3)}pause(){(a.default.isOppo||a.default.isVivo)&&this.nowMusic?this.nowMusic.pause():cc.audioEngine.pause(this.nowPlay)}continue(){(a.default.isOppo||a.default.isVivo)&&this.nowMusic?this.nowMusic.play():cc.audioEngine.resume(this.nowPlay)}stop(){(a.default.isOppo||a.default.isVivo)&&this.nowMusic?this.nowMusic.pause():(cc.audioEngine.stop(this.nowPlay),this.nowAudio=null),this.onFinish&&this.onFinish.CallOnce()}replayMusic(){this.nowMusic&&cc.audioEngine.playMusic(this.nowMusic,!0)}getProgress(){return this.getCurrentTime()/this.getTotalTime()||0}getCurrentTime(){return(a.default.isOppo||a.default.isVivo)&&this.nowMusic?1e3*this.nowMusic.currentTime:1e3*cc.audioEngine.getCurrentTime(this.nowPlay)}getTotalTime(){return(a.default.isOppo||a.default.isVivo)&&this.nowMusic?1e3*this.nowMusic.duration:1e3*cc.audioEngine.getDuration(this.nowPlay)}set MusicVolume(e){this.musicVolume=e,(a.default.isOppo||a.default.isVivo)&&this.nowMusic?this.nowMusic.volume=e:cc.audioEngine.setMusicVolume(e)}set SoundVolume(e){cc.audioEngine.setEffectsVolume(e)}get MusicVolume(){return(a.default.isOppo||a.default.isVivo)&&this.nowMusic?this.nowMusic.volume:cc.audioEngine.getMusicVolume()}get SoundVolume(){return cc.audioEngine.getEffectsVolume()}},cc._RF.pop()},{"../tools":"tools","./ArchiveManager":"ArchiveManager"}],TaskView:[function(e,t,i){"use strict";cc._RF.push(t,"2295dbwQHBBo4qj5UEuEZ0p","TaskView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.TaskData=void 0;const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Component/ScrollComponent"),s=e("../LibTool/tools"),r=e("../Manager/AssetsManager"),{ccclass:l,property:h}=cc._decorator;let c=class extends n.default{constructor(){super(...arguments),this._layout=1,this._viewName="TaskView",this.scroll=null,this.dailyBtn=null,this.achievementBtn=null,this.dailyConfig=[],this.achievementConfig=[]}onLoad(){super.onLoad(),r.default.loadJson("Task").then(e=>{for(const t in e.json){const i=new d(e.json[t]);i.isDaily?this.dailyConfig.push(i):this.achievementConfig.push(i)}this.scroll.setData(this.dailyConfig),this.dailyBtn.color=cc.Color.WHITE,this.achievementBtn.color=cc.Color.GRAY})}onTouchClose(){this.closeView()}onTouchDaily(){this.dailyBtn.color=cc.Color.WHITE,this.achievementBtn.color=cc.Color.GRAY,this.scroll.setData(this.dailyConfig)}onTouchAchievement(){this.achievementBtn.color=cc.Color.WHITE,this.dailyBtn.color=cc.Color.GRAY,this.scroll.setData(this.achievementConfig)}finishTask(e){}};a([h(o.default)],c.prototype,"scroll",void 0),a([h(cc.Node)],c.prototype,"dailyBtn",void 0),a([h(cc.Node)],c.prototype,"achievementBtn",void 0),c=a([l],c),i.default=c;class d{constructor(e){this.id=0,this.isDaily=!1,this.task="",this.target=0,this.reward="",this.count=0,this.current=0,this.isGot=!1,e&&(this.id=s.default.getPropertyFromJSON(e,"id",0),this.isDaily="true"==s.default.getPropertyFromJSON(e,"isDaily","false"),this.task=s.default.getPropertyFromJSON(e,"task",""),this.target=s.default.getPropertyFromJSON(e,"target",0),this.reward=s.default.getPropertyFromJSON(e,"reward",""),this.count=s.default.getPropertyFromJSON(e,"count",0))}copy(){const e=new d;return e.id=this.id,e.isDaily=this.isDaily,e.task=this.task,e.target=this.target,e.reward=this.reward,e.count=this.count,e}}i.TaskData=d,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Component/ScrollComponent":"ScrollComponent","../LibTool/tools":"tools","../Manager/AssetsManager":"AssetsManager"}],Task:[function(e,t,i){"use strict";cc._RF.push(t,"68f406rmbVIl77VDh3sIycN","Task");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:o}=cc._decorator;let s=class extends cc.Component{constructor(){super(...arguments),this.info=null,this.progress=null,this.goBtn=null,this.finishBtn=null,this.gotBtn=null,this.rewardIcon=null,this.rewardText=null}initialize(e){switch(e.task){case"finishLevel":this.info.string="\u901a\u5173"+e.target+"\u6b21";break;case"useSlot":this.info.string="\u4f7f\u7528\u8f6c\u76d8"+e.target+"\u6b21";break;case"openBox":this.info.string="\u6253\u5f00"+e.target+"\u4e2a\u7bb1\u5b50";break;case"useEnergy":this.info.string="\u4f7f\u7528"+e.target+"\u4f53\u529b"}this.progress.string=e.current+"/"+e.target,e.isGot?(this.gotBtn.active=!0,this.goBtn.active=!1,this.finishBtn.active=!1):(this.gotBtn.active=!1,this.goBtn.active=e.current<e.target,this.finishBtn.active=e.current>=e.target)}onTouchGo(){}onTouchFinish(){}};a([o(cc.Label)],s.prototype,"info",void 0),a([o(cc.Label)],s.prototype,"progress",void 0),a([o(cc.Node)],s.prototype,"goBtn",void 0),a([o(cc.Node)],s.prototype,"finishBtn",void 0),a([o(cc.Node)],s.prototype,"gotBtn",void 0),a([o(cc.Sprite)],s.prototype,"rewardIcon",void 0),a([o(cc.Label)],s.prototype,"rewardText",void 0),s=a([n],s),i.default=s,cc._RF.pop()},{}],Template:[function(e,t,i){"use strict";cc._RF.push(t,"ab21bMxmolILYV/5NbNrQjV","Template"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/GetConfig"),n=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[]}createAd(){}startLoadPushGamaes(){}getChannelId(){return a.default.getChannelId()}showBanner(){}hideBanner(){}getIntersFlag(){return!1}showInters(e){}getVideoFlag(){return!1}showVideo(e,t){e(!1)}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){e(null)}shareVideo(e,t,i,a,n){n(!1)}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","getUserData====================="),e({userId:n.default.getData("userId"),token:n.default.getData("token"),userType:n.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","getUserInfo====================="),e({head:"",name:"",sex:"",city:"",province:"",country:"",power:!1})}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!1)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!1)}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}},cc._RF.pop()},{"../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],TencentqqAd:[function(e,t,i){"use strict";cc._RF.push(t,"3ebef9clc1MaZ0/McYtLE1i","TencentqqAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LoadRes"),s=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.bannerAd=null,this.loadSucc_SystemBanner=!1,this.loadSucc_Banner=!1,this.hasShowBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.boxAd=null,this.loadSucc_Box=!1,this.blockAd=null,this.loadSucc_Block=!1,this.NUM_CheckBlockLoadSucc=0,this.NUM_MaxCheckBlockLoadSucc=5,this.param_block={blockSize:5,blockType:"landscape",blockX:.5,blockY:.5},this.timeout_updateBlock=null,this.NUM_NowErrBanner=0,this.isShow_ErrBanner=!1,this.node_ErrBanner=null,this.errBannerHasShowBanner=!1,this.NUM_errBannerHasCallback=0,this.NUM_NowGetErrBannerFlag=0,this.NUM_NowErrVideo=0,this.NUM_NowGetErrVideoFlag=0,this.AdGroup=""}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_SystemBanner&&""!=this.ID_SystemBanner&&this.createSystemBanner(),this.SW_SystemInters&&""!=this.ID_SystemInters&&this.createSystemInters(),this.SW_Video&&""!=this.ID_Video&&this.createVideo(),this.SW_Box&&""!=this.ID_Box&&this.createBox(),""!=this.ID_Block&&this.createBlock()}startLoadPushGamaes(){}createSystemBanner(){if(console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner))console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************");else{var e=Number(qq.getSystemInfoSync().windowWidth),t=Number(qq.getSystemInfoSync().windowHeight);this.bannerAd=qq.createBannerAd({adUnitId:this.ID_SystemBanner,style:{left:0,top:0,width:t>e?e:400,height:120},testDemoType:"65"}),this.bannerAd.onResize(i=>{t>e||cc.winSize.height>cc.winSize.width?(this.bannerAd.style.width=e,this.bannerAd.style.height=e):(this.bannerAd.style.width=e/2,this.bannerAd.style.height=e/2),this.bannerAd.style.top=t-i.height,this.bannerAd.style.left=(e-i.width)/2}),this.bannerAd.onLoad(()=>{console.log("XminigameSDK","QQ banner\u52a0\u8f7d\u6210\u529f"),this.loadSucc_SystemBanner=!0,this.hasShowBanner&&this.showSystemBanner()}),this.bannerAd.onError(e=>{console.log("XminigameSDK","QQ banner\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e))})}}createSystemInters(){console.log("XminigameSDK","--createSystemInters--"),a.default.stringHasSpace(this.ID_SystemInters)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************"):(this.systemIntersAd=qq.createInterstitialAd({adUnitId:this.ID_SystemInters}),this.systemIntersAd.onLoad(()=>{console.log("XminigameSDK","QQ \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_SystemInters=!0}),this.systemIntersAd.onError(e=>{console.log("XminigameSDK","QQ \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+JSON.stringify(e)),this.loadSucc_SystemInters=!1,setTimeout(()=>{this.systemIntersAd&&this.systemIntersAd.load()},3e4)}),this.systemIntersAd.onClose(()=>{this.NUM_IntersNowIntervalTime=0}),this.systemIntersAd.load())}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=qq.createRewardedVideoAd({adUnitId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK","QQ \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","QQ \u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{setTimeout(()=>{e.isEnded?(console.log("XminigameSDK","QQ \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.videoAd.load())):(console.log("XminigameSDK","QQ \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.videoAd.load()))},500)}),this.videoAd.load())}createBox(){console.log("XminigameSDK","--createBox--"),a.default.stringHasSpace(this.ID_Box)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u76d2\u5b50\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u76d2\u5b50\u5e7f\u544aID*********************"):(this.boxAd=qq.createAppBox({adUnitId:this.ID_Box}),this.boxAd.load().then(()=>{console.log("XminigameSDK","QQ \u52a0\u8f7d\u76d2\u5b50\u5e7f\u544a\u5b8c\u6210==================="),this.loadSucc_Box=!0}),this.boxAd.onClose(()=>{console.log("XminigameSDK","QQ \u5173\u95ed\u76d2\u5b50\u5e7f\u544a"),this.boxAd.load().then(()=>{console.log("XminigameSDK","QQ \u52a0\u8f7d\u76d2\u5b50\u5e7f\u544a\u5b8c\u6210==================="),this.loadSucc_Box=!0})}))}createBlock(){if(console.log("XminigameSDK","--createBlock--"),a.default.stringHasSpace(this.ID_Block))return void console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u79ef\u6728\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u79ef\u6728\u5e7f\u544aID*********************");console.log("XminigameSDK","this.param_block:",JSON.stringify(this.param_block));let e=Number(qq.getSystemInfoSync().windowWidth),t=Number(qq.getSystemInfoSync().windowHeight);this.blockAd=qq.createBlockAd({adUnitId:this.ID_Block,size:this.param_block.blockSize,orientation:this.param_block.blockType,style:{left:e*this.param_block.blockX,top:t*this.param_block.blockY}}),this.blockAd.onLoad(()=>{console.log("XminigameSDK","QQ \u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.loadSucc_Block=!0}),this.blockAd.onError(e=>{this.NUM_CheckBlockLoadSucc++,console.log("XminigameSDK",this.NUM_CheckBlockLoadSucc,"QQ \u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.NUM_CheckBlockLoadSucc>=this.NUM_MaxCheckBlockLoadSucc||(this.loadSucc_Block=!1,setTimeout(()=>{this.createBlock()},2e4))})}getChannelId(){return n.default.getChannelId()}showBanner(){this.loadSucc_Banner?this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&(this.showSystemBanner(),this.updateSystemBanner())):this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return this.loadSucc_SystemInters||this.SW_AddDesktop&&this.NUM_AutoAddDeskMostTimes>0}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK","\u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762","\u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK","\u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_hasShowInters,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_intersNowInterval,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230",this.NUM_IntersNowIntervalTime,"\u76ee\u6807\u65f6\u95f4",this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.loadSucc_SystemInters&&this.showSystemInters()},this.NUM_IntersDelayTime)):this.loadSucc_SystemInters&&this.showSystemInters()}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(this.callback_Video=e,console.log("XminigameSDK","QQ showVideo========================"),this.loadSucc_Video=!1,this.videoAd.show())}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){this.AdGroup=e}hasAddDesktopFunc(){return!0}getAddDesktopFlag(e){qg.hasShortcutInstalled({success:function(t){0==t&&e(!0)},fail:function(e){console.log("XminigameSDK",JSON.stringify(e))},complete:function(){}})}addDesktop(e){qq.saveAppToDesktop({success:function(){console.log("XminigameSDK","QQ \u521b\u5efa\u684c\u9762\u56fe\u6807\u6210\u529f"),e(!0)},fail:function(t){console.log("XminigameSDK","QQ \u521b\u5efa\u684c\u9762\u56fe\u6807\u5931\u8d25\uff1a",JSON.stringify(t)),e(!1)},complete:function(){}})}phoneVibrate(e){"long"==e?qq.vibrateLong({success(e){},fail(e){console.log("XminigameSDK","QQ vibrateLong\u8c03\u7528\u5931\u8d25\uff1a",JSON.stringify(e))}}):"short"==e&&qq.vibrateShort({success(e){},fail(e){console.log("XminigameSDK","QQ vibrateShort\u8c03\u7528\u5931\u8d25\uff1a",JSON.stringify(e))}})}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){}shareVideo(e,t,i,a,n){}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","QQ getUserData====================="),e({userId:s.default.getData("userId"),token:s.default.getData("token"),userType:s.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","getUserInfo====================="),e({head:"",name:"",sex:"",city:"",province:"",country:"",power:!1})}getBoxFlag(){return this.loadSucc_Box}showAppBox(){this.loadSucc_Box&&this.boxAd&&(console.log("XminigameSDK","QQ \u5c55\u793a\u76d2\u5b50\u5e7f\u544a====================="),this.boxAd.show())}getBlockFlag(){return this.loadSucc_Block}showBlock(e,t,i,a){this.param_block={blockX:t,blockY:i,blockType:e,blockSize:a},""!=this.ID_Block&&this.createBlock(),setTimeout(()=>{console.log("XminigameSDK","QQ showBlock====================="),this.blockAd.show()},500),this.timeout_updateBlock=setTimeout(()=>{console.log("XminigameSDK","QQ updateBlock====================="),this.blockAd.destroy(),this.showBlock(e,t,i,a)},3e4)}hideBlock(){this.blockAd&&(console.log("XminigameSDK","QQ hideBlock====================="),this.blockAd.destroy()),this.timeout_updateBlock&&clearTimeout(this.timeout_updateBlock)}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!1)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!1)}getErrBannerFlag(){return this.NUM_NowGetErrBannerFlag++,this.NUM_NowGetErrBannerFlag==this.NUM_BannerErrMust?(console.log("XminigameSDK","b \u7b2c"+this.NUM_BannerErrMust+"\u6b21\u51fa\u73b0"),!0):this.NUM_BannerErrP>0&&(this.NUM_NowErrBanner>=this.NUM_BannerErrMost?(console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 b"),!1):(console.log("XminigameSDK","Pb",this.NUM_BannerErrP),Math.floor(100*Math.random())<this.NUM_BannerErrP&&(this.NUM_NowErrBanner++,!0)))}showErrBanner(e){if(this.isShow_ErrBanner)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showErrBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_ErrBanner=!0,this.hideBanner(),this.NUM_errBannerHasCallback=0,console.log("XminigameSDK","showErrBanner==================");let t=cc.director.getScene();this.node_ErrBanner=new cc.Node("node_ErrBanner"),t.addChild(this.node_ErrBanner),""!=this.AdGroup&&(this.node_ErrBanner.group=this.AdGroup),o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/BlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerReward.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerProgress.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerBar.png"],(t,i)=>{let a=new cc.Node("errBannerBg");this.node_ErrBanner.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[0]),a.width=cc.winSize.width,a.height=cc.winSize.height,a.x=cc.winSize.width/2,a.y=cc.winSize.height/2,a.opacity=200;let n=new cc.Node("reward");this.node_ErrBanner.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[1]),n.width=.62*cc.winSize.width,n.height=1.15*n.width,n.x=cc.winSize.width/2,n.y=.7*cc.winSize.height;let o=new cc.Node("button");this.node_ErrBanner.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[2]),o.addComponent(cc.Widget),o.getComponent(cc.Widget).isAlignBottom=!0,o.getComponent(cc.Widget).bottom=cc.winSize.height/30,o.width=.75*cc.winSize.width,o.height=.38*o.width,o.x=cc.winSize.width/2;let s=new cc.Node("progressBar");this.node_ErrBanner.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[3]),s.addComponent(cc.ProgressBar),s.getComponent(cc.Sprite).type=cc.Sprite.Type.FILLED,s.getComponent(cc.Sprite).fillStart=0,s.getComponent(cc.Sprite).fillRange=1;let r=new cc.Node("bar");s.addChild(r);let l=r.addComponent(cc.Sprite);l.spriteFrame=new cc.SpriteFrame(i[4]),l.fillType=cc.Sprite.FillType.HORIZONTAL,l.type=cc.Sprite.Type.FILLED,l.fillStart=0,l.fillRange=1,s.getComponent(cc.ProgressBar).barSprite=r.getComponent(cc.Sprite),s.getComponent(cc.ProgressBar).mode=cc.ProgressBar.Mode.FILLED,s.getComponent(cc.ProgressBar).totalLength=s.width,s.getComponent(cc.ProgressBar).progress=0,s.width=.75*cc.winSize.width,s.height=.06*s.width,s.x=cc.winSize.width/2,s.y=cc.winSize.height/2,s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignBottom=!0,s.getComponent(cc.Widget).bottom=cc.winSize.height/5,r.height=s.height,r.x=-s.width/2,r.anchorX=0,a.on(cc.Node.EventType.TOUCH_START,()=>{});let h=null,c=s.getComponent(cc.ProgressBar).progress;o.on(cc.Node.EventType.TOUCH_START,()=>{if(null==h&&(h=setInterval(()=>{c>=.005&&(c-=.005,s.getComponent(cc.ProgressBar).progress=c)},100)),c+=.05,s.getComponent(cc.ProgressBar).progress=c,c>=.5&&!this.errBannerHasShowBanner&&(qq.onShow(()=>{this.NUM_errBannerHasCallback>=1||(this.NUM_errBannerHasCallback++,this.hideErrBanner(),e(!0))}),this.showBanner(),this.errBannerHasShowBanner=!0,setTimeout(()=>{this.hideBanner()},2e3)),c>=.99){if(null!=h&&clearInterval(h),this.NUM_errBannerHasCallback>=1)return;this.NUM_errBannerHasCallback++,this.hideErrBanner(),e(!0)}})})}hideErrBanner(){qq.offShow(()=>{}),this.isShow_ErrBanner&&(console.log("XminigameSDK","hideErrBanner=================="),this.isShow_ErrBanner=!1,this.errBannerHasShowBanner=!1,this.node_ErrBanner&&(this.node_ErrBanner.removeFromParent(),this.node_ErrBanner=null))}getErrVideoFlag(){return this.NUM_NowGetErrVideoFlag++,this.NUM_NowGetErrVideoFlag==this.NUM_VideoErrMust?(console.log("XminigameSDK","v \u7b2c"+this.NUM_VideoErrMust+"\u6b21\u51fa\u73b0"),!0):this.NUM_NowErrVideo>=this.NUM_VideoErrMost?(console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 v"),!1):this.loadSucc_Video?this.NUM_VideoErrP>0&&(console.log("XminigameSDK","Pv",this.NUM_VideoErrP),Math.floor(100*Math.random())<this.NUM_VideoErrP&&(this.NUM_NowErrVideo++,!0)):(console.log("XminigameSDK","\u89c6\u9891\u5e7f\u544a\u672a\u52a0\u8f7d\u5b8c\u6210"),!1)}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.SW_SystemBanner&&this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","QQ showSystemBanner========================"),this.hasShowBanner=!0,this.bannerAd.show())}updateSystemBanner(){this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{console.log("XminigameSDK","QQ updateSystemBanner========================"),this.bannerAd.destroy(),this.bannerAd=null,this.createSystemBanner()},1e3*this.NUM_BannerUpdateTime)}hideSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","QQ hideSystemBanner========================"),this.bannerAd.hide()),this.interval_updateBanner&&clearInterval(this.interval_updateBanner)}showSystemInters(){this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("XminigameSDK","QQ showSystemBanner========================"),this.systemIntersAd.show())}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LoadRes":"LoadRes","../utils/LocalStorage":"LocalStorage"}],TencentqqDTO:[function(e,t,i){"use strict";cc._RF.push(t,"9902c8tSclAeqRK5Vda+SVu","TencentqqDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e){this.code=e,this.nickName=a.default.getData("nickName"),this.avatar=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],TencentqqSDK:[function(e,t,i){"use strict";cc._RF.push(t,"aa94dL5fSpJvqx73vTVznoI","TencentqqSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/TencentqqDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){this.startLogin()}startLogin(){qq.login({success:e=>{console.log("XminigameSDK","QQ \u767b\u5f55\u6210\u529f\uff1a"+JSON.stringify(e));let t=new l.default(e.code);this.loginSucc(t)},fail:e=>{console.log("XminigameSDK","QQ \u767b\u5f55\u5931\u8d25,",JSON.stringify(e)),console.log("XminigameSDK","QQ \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/TencentqqDTO":"TencentqqDTO"}],TestAd:[function(e,t,i){"use strict";cc._RF.push(t,"ba3b62EQkFLXJMiSuK/Whox","TestAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/GetConfig"),n=e("../utils/LoadRes");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.hasShowBanner=!1,this.isShow_Inters=!1,this.isShow_Video=!1,this.isShow_NativeIcon=!1,this.isShow_NativeImage=!1,this.isShow_NavigateIcon=!1,this.isShow_NavigateGroup=!1,this.isShow_NavigateSettle=!1,this.isShow_NavigateSettle1=!1,this.isShow_NavigateBoxBanner=!1,this.isShow_NavigateBoxPortal=!1,this.isShow_MoreGamesBanner=!1,this.isShow_Block=!1,this.isShow_PrivacyAgreement=!1,this.isShow_ErrBanner=!1,this.node_testBanner=null,this.node_testInters=null,this.node_testNativePaster=null,this.node_testVideo=null,this.node_testNativeIcon=null,this.node_testNativeImage=null,this.node_testNavigateIcon=null,this.node_testNavigateGroup=null,this.node_testNavigateSettle=null,this.node_testNavigateBoxBanner=null,this.node_testNavigateBoxPortal=null,this.node_testMoreGamesBanner=null,this.node_testBlock=null,this.node_testPrivacyAgreement=null,this.node_testErrBanner=null,this.errBannerHasShowBanner=!1,this.AdGroup=""}createAd(){}startLoadPushGamaes(){}getChannelId(){return a.default.getChannelId()}showBanner(){this.isShow_NavigateSettle1?console.log("XminigameSDK","\u6b63\u5728\u5c55\u793a\u7ed3\u7b97\u4e92\u63a81,\u65e0\u6cd5showBanner"):this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,console.log("XminigameSDK","Test showBanner=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBanner.png"],(e,t)=>{this.node_testBanner=new cc.Node("node_testBanner"),this.getScene().addChild(this.node_testBanner),this.node_testBanner.addComponent(cc.Sprite),this.node_testBanner.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[0]),this.node_testBanner.addComponent(cc.Widget),this.node_testBanner.getComponent(cc.Widget).isAlignHorizontalCenter=!0,cc.winSize.width<cc.winSize.height?(this.node_testBanner.width=cc.winSize.width,this.node_testBanner.height=.18*this.node_testBanner.width):(this.node_testBanner.width=cc.winSize.width/2,this.node_testBanner.height=.18*this.node_testBanner.width),this.node_testBanner.y=this.node_testBanner.height/2,this.node_testBanner.zIndex=3e4,""!=this.AdGroup&&(this.node_testBanner.group=this.AdGroup)}))}hideBanner(){this.hasShowBanner=!1,this.node_testBanner&&(console.log("XminigameSDK","Test hideBanner=================="),this.node_testBanner.removeFromParent(),this.node_testBanner=null)}getIntersFlag(){return!0}showInters(e){this.isShow_Inters?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showInters,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_Inters=!0,console.log("XminigameSDK","Test showInters=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestIntersClose.png"],(e,t)=>{let i=this.getScene();this.node_testInters=new cc.Node("node_testInters"),i.addChild(this.node_testInters),this.node_testInters.addComponent(cc.Sprite),this.node_testInters.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[0]),this.node_testInters.width=cc.winSize.width,this.node_testInters.height=cc.winSize.height,this.node_testInters.x=cc.winSize.width/2,this.node_testInters.y=cc.winSize.height/2,this.node_testInters.zIndex=30003,this.node_testInters.opacity=150,""!=this.AdGroup&&(this.node_testInters.group=this.AdGroup),this.node_testInters.on(cc.Node.EventType.TOUCH_START,function(){});let a=new cc.Node("text");this.node_testInters.addChild(a),a.color=cc.Color.RED,a.addComponent(cc.Label),a.getComponent(cc.Label).string="\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u63d2\u5c4f,\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u5173\u95ed",a.getComponent(cc.Label).fontSize=50,a.getComponent(cc.Label).lineHeight=50;let n=new cc.Node("TestIntersClose");this.node_testInters.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[1]),n.x=cc.winSize.width/2*3/4,n.y=cc.winSize.height/2*3/5,n.zIndex=30010,n.on(cc.Node.EventType.TOUCH_START,()=>{console.log("XminigameSDK","\u5173\u95ed\u6d4b\u8bd5\u63d2\u5c4f"),this.isShow_Inters=!1,this.node_testInters.removeFromParent(),this.node_testInters=null})}))}getVideoFlag(){return!0}showVideo(e,t){this.isShow_Video?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showVideo,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_Video=!0,console.log("XminigameSDK","Test showVideo=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBlackBg.png"],(t,i)=>{let a=this.getScene();this.node_testVideo=new cc.Node("node_testVideo"),a.addChild(this.node_testVideo),this.node_testVideo.addComponent(cc.Sprite),this.node_testVideo.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[0]),this.node_testVideo.addComponent(cc.Widget),this.node_testVideo.getComponent(cc.Widget).isAlignVerticalCenter=!0,this.node_testVideo.getComponent(cc.Widget).isAlignHorizontalCenter=!0,this.node_testVideo.width=cc.winSize.width,this.node_testVideo.height=cc.winSize.height,this.node_testVideo.opacity=200,this.node_testVideo.zIndex=29999,""!=this.AdGroup&&(this.node_testVideo.group=this.AdGroup),this.node_testVideo.on(cc.Node.EventType.TOUCH_START,()=>{});let n=new cc.Node("titleLabel");this.node_testVideo.addChild(n),n.addComponent(cc.Label),n.getComponent(cc.Label).fontSize=50,n.getComponent(cc.Label).lineHeight=50,n.getComponent(cc.Label).string="\u89c6\u9891\u64ad\u653e\u56de\u8c03\u7684\u6d4b\u8bd5",n.width=cc.winSize.width,n.y=cc.winSize.height/5;let o=new cc.Node("succBtn");this.node_testVideo.addChild(o),o.addComponent(cc.Label),o.getComponent(cc.Label).fontSize=30,o.getComponent(cc.Label).lineHeight=30,o.getComponent(cc.Label).string="\u64ad\u653e\u6210\u529f",o.x=-cc.winSize.width/5,o.y=-cc.winSize.height/5,o.on(cc.Node.EventType.TOUCH_START,()=>{this.isShow_Video=!1,this.node_testVideo.removeFromParent(),this.node_testVideo=null,e(!0)});let s=new cc.Node("failBtn");this.node_testVideo.addChild(s),s.addComponent(cc.Label),s.getComponent(cc.Label).fontSize=30,s.getComponent(cc.Label).lineHeight=30,s.getComponent(cc.Label).string="\u64ad\u653e\u5931\u8d25",s.x=cc.winSize.width/5,s.y=-cc.winSize.height/5,s.on(cc.Node.EventType.TOUCH_START,()=>{this.isShow_Video=!1,this.node_testVideo.removeFromParent(),this.node_testVideo=null,e(!1)})}))}getNativeIconFlag(){return!0}showNativeIcon(e,t,i,a){this.isShow_NativeIcon?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNativeIcon,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_NativeIcon=!0,console.log("XminigameSDK","Test showNativeIcon=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNativeIcon.png"],(n,o)=>{let s=this.getScene();this.node_testNativeIcon=new cc.Node("node_testNativeIcon"),s.addChild(this.node_testNativeIcon),this.node_testNativeIcon.addComponent(cc.Sprite),this.node_testNativeIcon.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o[0]),this.node_testNativeIcon.width=e,this.node_testNativeIcon.height=t,this.node_testNativeIcon.x=i,this.node_testNativeIcon.y=a,this.node_testNativeIcon.zIndex=29999,""!=this.AdGroup&&(this.node_testNativeIcon.group=this.AdGroup)}))}hideNativeIcon(){this.isShow_NativeIcon=!1,this.node_testNativeIcon&&(console.log("XminigameSDK","Test hideNativeIcon=================="),this.node_testNativeIcon.removeFromParent(),this.node_testNativeIcon=null)}getNativeImageFlag(){return!0}showNativeImage(e,t,i,a){this.isShow_NativeImage?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNativeImage,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_NativeImage=!0,console.log("XminigameSDK","Test showNativeImage=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNativeImage.png"],(n,o)=>{let s=this.getScene();this.node_testNativeImage=new cc.Node("node_testNativeImage"),s.addChild(this.node_testNativeImage),this.node_testNativeImage.addComponent(cc.Sprite),this.node_testNativeImage.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o[0]),this.node_testNativeImage.width=e,this.node_testNativeImage.height=t,this.node_testNativeImage.x=i,this.node_testNativeImage.y=a,this.node_testNativeImage.zIndex=29999,""!=this.AdGroup&&(this.node_testNativeImage.group=this.AdGroup)}))}hideNativeImage(){this.isShow_NativeImage=!1,this.node_testNativeImage&&(console.log("XminigameSDK","Test hideNativeImage=================="),this.node_testNativeImage.removeFromParent(),this.node_testNativeImage=null)}getNativePasterFlag(){return!0}showNativePaster(){console.log("XminigameSDK","Test showNativePaster=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestIntersClose.png"],(e,t)=>{let i=this.getScene();this.node_testNativePaster=new cc.Node("node_testNativePaster"),i.addChild(this.node_testNativePaster),this.node_testNativePaster.addComponent(cc.Sprite),this.node_testNativePaster.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[0]),this.node_testNativePaster.width=cc.winSize.width,this.node_testNativePaster.height=cc.winSize.height,this.node_testNativePaster.x=cc.winSize.width/2,this.node_testNativePaster.y=cc.winSize.height/2,this.node_testNativePaster.zIndex=30003,this.node_testNativePaster.opacity=150,""!=this.AdGroup&&(this.node_testNativePaster.group=this.AdGroup),this.node_testNativePaster.on(cc.Node.EventType.TOUCH_START,function(){});let a=new cc.Node("text");this.node_testNativePaster.addChild(a),a.color=cc.Color.RED,a.addComponent(cc.Label),a.getComponent(cc.Label).string="\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u539f\u751f\u8d34\u7247,\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u5173\u95ed",a.getComponent(cc.Label).fontSize=50,a.getComponent(cc.Label).lineHeight=50;let n=new cc.Node("TestIntersClose");this.node_testNativePaster.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[1]),n.x=cc.winSize.width/2*3/4,n.y=cc.winSize.height/2*3/5,n.zIndex=30010,n.on(cc.Node.EventType.TOUCH_START,()=>{console.log("XminigameSDK","\u5173\u95ed\u6d4b\u8bd5\u539f\u751f\u8d34\u7247"),this.isShow_Inters=!1,this.node_testNativePaster.removeFromParent(),this.node_testNativePaster=null})})}getNativeAdInfo(e){return console.log("XminigameSDK","Test getNativeAdInfo=================="),{adId:"88888888",title:"\u6d4b\u8bd5\u6807\u9898",desc:"\u6d4b\u8bd5\u8be6\u60c5",Native_icon:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestGetNativeAdIcon.png",Native_BigImage:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestGetNativeAdImage.png",NativeAdTip:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestGetNativeAdAdTip.png",NativeClose:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestGetNativeAdClose.png"}}reportNativeAdShow(e){console.log("XminigameSDK","Test reportNativeAdShow==================",e)}reportNativeAdClick(e){console.log("XminigameSDK","Test reportNativeAdClick==================",e)}getNavigateIconFlag(){return!0}showNavigateIcon(e,t,i,a){this.isShow_NavigateIcon?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNavigateIcon,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_NavigateIcon=!0,console.log("XminigameSDK","Test showNavigateIcon=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateIcon.png"],(n,o)=>{let s=this.getScene();this.node_testNavigateIcon=new cc.Node("node_testNavigateIcon"),s.addChild(this.node_testNavigateIcon),this.node_testNavigateIcon.addComponent(cc.Sprite),this.node_testNavigateIcon.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o[0]),this.node_testNavigateIcon.width=e,this.node_testNavigateIcon.height=t,this.node_testNavigateIcon.x=i,this.node_testNavigateIcon.y=a,this.node_testNavigateIcon.zIndex=29999,""!=this.AdGroup&&(this.node_testNavigateIcon.group=this.AdGroup)}))}hideNavigateIcon(){this.isShow_NavigateIcon=!1,this.node_testNavigateIcon&&(console.log("XminigameSDK","Test hideNavigateIcon=================="),this.node_testNavigateIcon.removeFromParent(),this.node_testNavigateIcon=null)}getNavigateGroupFlag(){return!0}showNavigateGroup(e,t,i,a){if(this.isShow_NavigateGroup)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNavigateGroup,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_NavigateGroup=!0,console.log("XminigameSDK","Test showNavigateGroup==================");let o=this.getScene();this.node_testNavigateGroup=new cc.Node("node_testNavigateGroup"),o.addChild(this.node_testNavigateGroup),this.node_testNavigateGroup.x=cc.winSize.width/2,this.node_testNavigateGroup.y=cc.winSize.height/2,n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateGroupIconBtn.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateGroupLeftTuck.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateGroupRightTuck.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateGroupListLeft.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateGroupListRight.png"],(e,n)=>{let o=new cc.Node("TestNavigateGroupIconBtn");this.node_testNavigateGroup.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n[0]),o.width=i,o.height=i,"left"==t?(o.x=o.width/2-cc.winSize.width/2,o.y=a):(o.x=cc.winSize.width/2-o.width/2,o.y=a);let s=!1,r=e=>{if(o.active=!1,e){console.log("XminigameSDK","\u5728\u5de6\u4fa7\u6253\u5f00\u4e92\u63a8\u6e38\u620f\u5217\u8868");let e=new cc.Node("TestNavigateGroupListLeft");this.node_testNavigateGroup.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n[3]),e.height=cc.winSize.height/2,e.width=e.height/4.8,e.x=-e.width/2-cc.winSize.width/2,e.y=0,cc.tween(e).by(.2,{position:cc.v3(e.width,0,0)}).call(()=>{s=!0}).start();let t=new cc.Node;e.addChild(t),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n[1]),t.width=.5*e.width,t.height=1.2*t.width,t.x=.65*e.width,t.y=.3*e.height,t.on(cc.Node.EventType.TOUCH_END,()=>{s&&cc.tween(e).by(.5,{position:cc.v3(-e.width,0,0)}).call(()=>{s=!1,o.active=!0,o.width=i,o.height=i,e.destroy()}).start()})}else{console.log("XminigameSDK","\u5728\u53f3\u4fa7\u6253\u5f00\u4e92\u63a8\u6e38\u620f\u5217\u8868");let e=new cc.Node("TestNavigateGroupListRight");this.node_testNavigateGroup.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n[4]),e.height=cc.winSize.height/2,e.width=e.height/4.8,e.x=e.width/2+cc.winSize.width/2,e.y=0,cc.tween(e).by(.2,{position:cc.v3(-e.width,0,0)}).call(()=>{s=!0}).start();let t=new cc.Node;e.addChild(t),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n[2]),t.width=.5*e.width,t.height=1.2*t.width,t.x=.65*-e.width,t.y=.3*e.height,t.on(cc.Node.EventType.TOUCH_END,()=>{s&&cc.tween(e).by(.5,{position:cc.v3(e.width,0,0)}).call(()=>{s=!1,o.active=!0,o.width=i,o.height=i,e.destroy()}).start()})}};o.on(cc.Node.EventType.TOUCH_END,()=>{o.x<=0?r(!0):r(!1)})})}hideNavigateGroup(){this.isShow_NavigateGroup=!1,this.node_testNavigateGroup&&(console.log("XminigameSDK","Test hideNavigateGroup=================="),this.node_testNavigateGroup.removeFromParent(),this.node_testNavigateGroup=null)}getNavigateSettleFlag(){return!0}showNavigateSettle(e,t,i){1==e||2==e?this.isShow_NavigateSettle?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNavigateSettle,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_NavigateSettle=!0,1==e&&cc.winSize.height/cc.winSize.width<=16/9&&(console.log("XminigameSDK","\u8be5\u6e38\u620f\u4e3a\u6a2a\u5c4f\u6e38\u620f\u6216\u8bbe\u5907\u5206\u8fa8\u7387\u4f4e\u4e8e16/9 \u6539\u4e3a\u5c55\u793a\u7c7b\u578b2"),e=2,i=0),console.log("XminigameSDK","Test showNavigateSettle=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateSettle1.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateSettle4.png"],(t,a)=>{let n=this.getScene();switch(this.node_testNavigateSettle=new cc.Node("node_testNavigateSettle"),n.addChild(this.node_testNavigateSettle),""!=this.AdGroup&&(this.node_testNavigateSettle.group=this.AdGroup),this.node_testNavigateSettle.zIndex=3e4,e){case 1:this.isShow_NavigateSettle1=!0,this.hideBanner(),this.node_testNavigateSettle.addComponent(cc.Sprite),this.node_testNavigateSettle.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[0]),cc.winSize.width<cc.winSize.height?(this.node_testNavigateSettle.width=9*cc.winSize.width/10,this.node_testNavigateSettle.height=2*this.node_testNavigateSettle.width/3):(this.node_testNavigateSettle.width=9*cc.winSize.height/10,this.node_testNavigateSettle.height=2*this.node_testNavigateSettle.width/3),this.node_testNavigateSettle.x=cc.winSize.width/2,this.node_testNavigateSettle.y=this.node_testNavigateSettle.height/2+i;break;case 2:this.node_testNavigateSettle.addComponent(cc.Sprite),this.node_testNavigateSettle.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[1]),cc.winSize.width<cc.winSize.height?(this.node_testNavigateSettle.width=cc.winSize.width,this.node_testNavigateSettle.height=.3*this.node_testNavigateSettle.width):(this.node_testNavigateSettle.width=cc.winSize.width/2,this.node_testNavigateSettle.height=.25*this.node_testNavigateSettle.width),this.node_testNavigateSettle.x=cc.winSize.width/2,this.node_testNavigateSettle.y=this.node_testNavigateSettle.height/2+i}})):console.log("XminigameSDK","\u7ed3\u7b97\u4e92\u63a8\u53ea\u5b58\u5728\u7c7b\u578b1\u548c\u7c7b\u578b2 return")}hideNavigateSettle(){this.isShow_NavigateSettle=!1,this.isShow_NavigateSettle1=!1,this.node_testNavigateSettle&&(console.log("XminigameSDK","Test hideNavigateSettle=================="),this.node_testNavigateSettle.removeFromParent(),this.node_testNavigateSettle=null)}getNavigateBoxBannerFlag(){return!0}showNavigateBoxBanner(){this.isShow_NavigateBoxBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNavigateBoxBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_NavigateBoxBanner=!0,this.hideBanner(),console.log("XminigameSDK","Test showNavigateBoxBanner=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateBoxBanner.png"],(e,t)=>{let i=this.getScene();this.node_testNavigateBoxBanner=new cc.Node("node_testNavigateBoxBanner"),i.addChild(this.node_testNavigateBoxBanner),""!=this.AdGroup&&(this.node_testNavigateBoxBanner.group=this.AdGroup),this.node_testNavigateBoxBanner.zIndex=3e4,this.node_testNavigateBoxBanner.addComponent(cc.Sprite),this.node_testNavigateBoxBanner.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[0]),cc.winSize.width<cc.winSize.height?(this.node_testNavigateBoxBanner.width=9*cc.winSize.width/10,this.node_testNavigateBoxBanner.height=this.node_testNavigateBoxBanner.width/3):(this.node_testNavigateBoxBanner.width=9*cc.winSize.height/10,this.node_testNavigateBoxBanner.height=this.node_testNavigateBoxBanner.width/3),this.node_testNavigateBoxBanner.x=cc.winSize.width/2,this.node_testNavigateBoxBanner.y=this.node_testNavigateBoxBanner.height/2}))}hideNavigateBoxBanner(){this.isShow_NavigateBoxBanner=!1,this.node_testNavigateBoxBanner&&(console.log("XminigameSDK","Test hideNavigateBoxBanner=================="),this.node_testNavigateBoxBanner.removeFromParent(),this.node_testNavigateBoxBanner=null)}getNavigateBoxPortalFlag(){return!0}showNavigateBoxPortal(){if(this.isShow_NavigateBoxPortal)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showNavigateBoxPortal,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_NavigateBoxPortal=!0;let e=this.hasShowBanner;this.hideBanner(),console.log("XminigameSDK","Test showNavigateBoxPortal=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateBoxPortal.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestNavigateBoxPortalClose.png"],(t,i)=>{let a=this.getScene();this.node_testNavigateBoxPortal=new cc.Node("TestBlackBg"),a.addChild(this.node_testNavigateBoxPortal),this.node_testNavigateBoxPortal.addComponent(cc.Sprite),this.node_testNavigateBoxPortal.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[0]),this.node_testNavigateBoxPortal.addComponent(cc.Widget),this.node_testNavigateBoxPortal.getComponent(cc.Widget).isAlignVerticalCenter=!0,this.node_testNavigateBoxPortal.getComponent(cc.Widget).isAlignHorizontalCenter=!0,this.node_testNavigateBoxPortal.width=cc.winSize.width,this.node_testNavigateBoxPortal.height=cc.winSize.height,this.node_testNavigateBoxPortal.zIndex=3e4,""!=this.AdGroup&&(this.node_testNavigateBoxPortal.group=this.AdGroup);let n=new cc.Node("testNavigateBoxPortal");this.node_testNavigateBoxPortal.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[1]),n.width=520,n.height=628;let o=new cc.Node("TestNavigateBoxPortalClose");n.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[2]),o.width=50,o.height=50,o.x=n.width/2-o.width/2,o.y=13*n.height/32-o.height/2,o.on(cc.Node.EventType.TOUCH_START,()=>{this.node_testNavigateBoxPortal&&(this.node_testNavigateBoxPortal.removeFromParent(),this.node_testNavigateBoxPortal=null),e&&this.showBanner()})})}setGroup(e){this.AdGroup=e}hasAddDesktopFunc(){return!0}getAddDesktopFlag(e){e(!0)}addDesktop(e){e(!0)}phoneVibrate(e){}startGameVideo(e){console.log("XminigameSDK","Test startGameVideo==================",e)}pauseGameVideo(){console.log("XminigameSDK","Test pauseGameVideo==================")}resumeGameVideo(){console.log("XminigameSDK","Test resumeGameVideo==================")}stopGameVideo(e){console.log("XminigameSDK","Test stopGameVideo=================="),e("0")}shareVideo(e,t,i,a,n){console.log("XminigameSDK","Test shareVideo=================="),n(!0)}jumpToMoreGamesCenter(){console.log("XminigameSDK","Test jumpToMoreGamesCenter==================")}showMoreGamesBanner(){console.log("XminigameSDK","Test showMoreGamesBanner=================="),this.isShow_MoreGamesBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showMoreGamesBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_MoreGamesBanner=!0,this.hideBanner(),console.log("XminigameSDK","Test showMoreGamesBanner=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestMoreGamesBanner.png"],(e,t)=>{let i=this.getScene();this.node_testMoreGamesBanner=new cc.Node("node_testMoreGamesBanner"),i.addChild(this.node_testMoreGamesBanner),this.node_testMoreGamesBanner.addComponent(cc.Sprite),this.node_testMoreGamesBanner.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[0]),this.node_testMoreGamesBanner.addComponent(cc.Widget),this.node_testMoreGamesBanner.getComponent(cc.Widget).isAlignBottom=!0,this.node_testMoreGamesBanner.getComponent(cc.Widget).isAlignHorizontalCenter=!0,this.node_testMoreGamesBanner.width=900,this.node_testMoreGamesBanner.height=312,this.node_testMoreGamesBanner.zIndex=3e4,""!=this.AdGroup&&(this.node_testMoreGamesBanner.group=this.AdGroup)}))}hideMoreGamesBanner(){this.isShow_MoreGamesBanner=!1,this.node_testMoreGamesBanner&&(console.log("XminigameSDK","Test hideMoreGamesBanner=================="),this.node_testMoreGamesBanner.removeFromParent(),this.node_testMoreGamesBanner=null)}showFavoriteGuide(e,t,i){console.log("XminigameSDK","Test showFavoriteGuide=================="),console.log("XminigameSDK","Test \u6ca1\u6709\u6d4b\u8bd5\u6536\u85cf\u5f15\u5bfc")}getUserData(e){console.log("XminigameSDK","Test getUserData=================="),e({userId:"testUserId",token:"testToken",userType:1})}getUserInfo(e){console.log("XminigameSDK","Test getUserInfo=================="),e({head:"",name:"",sex:"",city:"",province:"",country:"",power:!0})}getBoxFlag(){return!1}showAppBox(){console.log("XminigameSDK","Test showAppBox=================="),console.log("XminigameSDK","Test \u6ca1\u6709\u6d4b\u8bd5\u76d2\u5b50\u5e7f\u544a")}getBlockFlag(){return!0}showBlock(e,t,i,a){this.isShow_Block?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBlock,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.isShow_Block=!0,console.log("XminigameSDK","Test showBlock=================="),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBlockIcon.png"],(e,a)=>{let n=this.getScene();this.node_testBlock=new cc.Node("node_testBlock"),n.addChild(this.node_testBlock),this.node_testBlock.addComponent(cc.Sprite),this.node_testBlock.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(a[0]),this.node_testBlock.width=200,this.node_testBlock.height=200,this.node_testBlock.x=cc.winSize.width*t+this.node_testBlock.width/2,this.node_testBlock.y=cc.winSize.height*(1-i)-this.node_testBlock.height/2,this.node_testBlock.zIndex=29999,""!=this.AdGroup&&(this.node_testBlock.group=this.AdGroup)}))}hideBlock(){this.isShow_Block=!1,this.node_testBlock&&(console.log("XminigameSDK","Test hideBlock=================="),this.node_testBlock.removeFromParent(),this.node_testBlock=null)}getVideoIntersFlag(){return!0}showVideoInters(e){console.log("XminigameSDK","Test showVideoInters=================="),e(!0)}exitTheGame(){console.log("XminigameSDK","Test exitTheGame==================")}reportAnalytics(e,t){console.log("XminigameSDK","Test reportAnalytics==================")}showAuthentication(e){console.log("XminigameSDK","Test showAuthentication==================")}visitorExperience(e){console.log("XminigameSDK","Test visitorExperience==================")}showNativeAd(e,t,i,a){console.log("XminigameSDK","Test showNativeAd==================")}getOPPOShowMoreGameFlag(){return!0}showOPPOMoreGame(){console.log("XminigameSDK","Test showOPPOMoreGame==================")}hasNetwork(e){console.log("XminigameSDK","Test hasNetwork=================="),e(!0)}showReviewAlert(){console.log("XminigameSDK","Test showReviewAlert==================")}showiOSADWithScene(e,t){console.log("XminigameSDK","Test showiOSADWithScene==================")}showiOSADWithType(e,t){console.log("XminigameSDK","Test showiOSADWithType==================")}videoUIShow(e){console.log("XminigameSDK","Test videoUIShow==================")}showPrivacyAgreement(e,t,i){if(this.isShow_PrivacyAgreement)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showPrivacyAgreement,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_PrivacyAgreement=!0,console.log("XminigameSDK","Test showPrivacyAgreement=================="),""==e&&(e="https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/companyLogUrl_Xplay.png"),""==t&&(t="https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/htmlUrl_Xplay.html");let a=[e,"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/PrivacyAgreementBtn.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/Agree.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/PrivacyAgreement/Close.png"];n.default.loadResArray(a,(e,t)=>{let a=cc.director.getScene();this.node_testPrivacyAgreement=new cc.Node("node_testPrivacyAgreement"),a.addChild(this.node_testPrivacyAgreement),this.node_testPrivacyAgreement.x=cc.winSize.width/2,this.node_testPrivacyAgreement.y=cc.winSize.height/2,cc.winSize.width<cc.winSize.height?this.node_testPrivacyAgreement.scale=cc.view.getDesignResolutionSize().width/1080:this.node_testPrivacyAgreement.scale=cc.view.getDesignResolutionSize().height/1080,""!=this.AdGroup&&(this.node_testPrivacyAgreement.group=this.AdGroup),this.node_testPrivacyAgreement.zIndex=3e4;let n=new cc.Node("main");this.node_testPrivacyAgreement.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[0]),n.x=0,n.y=0;let o=new cc.Node("privacyAgreementBtn");n.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[1]),o.addComponent(cc.Widget),o.getComponent(cc.Widget).isAlignRight=!0,o.getComponent(cc.Widget).right=236,o.getComponent(cc.Widget).isAlignBottom=!0,o.getComponent(cc.Widget).bottom=207;let s=new cc.Node("agree");n.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[2]),s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignRight=!0,s.getComponent(cc.Widget).right=23,s.getComponent(cc.Widget).isAlignBottom=!0,s.getComponent(cc.Widget).bottom=50.5;let r=new cc.Node("close");n.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t[3]),r.addComponent(cc.Widget),r.getComponent(cc.Widget).isAlignLeft=!0,r.getComponent(cc.Widget).left=24.5,r.getComponent(cc.Widget).isAlignBottom=!0,r.getComponent(cc.Widget).bottom=51.5,o.on(cc.Node.EventType.TOUCH_END,()=>{console.log("XminigameSDK","\u70b9\u51fb\u9690\u79c1\u534f\u8bae")}),s.on(cc.Node.EventType.TOUCH_END,()=>{this.hidePrivacyAgreement(),i(!0)}),r.on(cc.Node.EventType.TOUCH_END,()=>{this.hidePrivacyAgreement(),i(!1)})})}getErrBannerFlag(){return!0}showErrBanner(e){if(this.isShow_ErrBanner)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showErrBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_ErrBanner=!0,this.hideBanner(),console.log("XminigameSDK","Test showErrBanner==================");let t=this.getScene();this.node_testErrBanner=new cc.Node("node_testErrBanner"),t.addChild(this.node_testErrBanner),""!=this.AdGroup&&(this.node_testErrBanner.group=this.AdGroup),n.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestBlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestErrBannerReward.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestErrBannerButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestErrBannerProgress.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Test/TestErrBannerBar.png"],(t,i)=>{let a=new cc.Node("errBannerBg");this.node_testErrBanner.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[0]),a.width=cc.winSize.width,a.height=cc.winSize.height,a.x=cc.winSize.width/2,a.y=cc.winSize.height/2,a.opacity=200;let n=new cc.Node("reward");this.node_testErrBanner.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[1]),n.width=.62*cc.winSize.width,n.height=1.15*n.width,n.x=cc.winSize.width/2,n.y=.7*cc.winSize.height;let o=new cc.Node("button");this.node_testErrBanner.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[2]),o.addComponent(cc.Widget),o.getComponent(cc.Widget).isAlignBottom=!0,o.getComponent(cc.Widget).bottom=cc.winSize.height/20,o.width=.75*cc.winSize.width,o.height=.38*o.width,o.x=cc.winSize.width/2;let s=new cc.Node("progressBar");this.node_testErrBanner.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[3]),s.addComponent(cc.ProgressBar),s.getComponent(cc.Sprite).type=cc.Sprite.Type.FILLED,s.getComponent(cc.Sprite).fillStart=0,s.getComponent(cc.Sprite).fillRange=1;let r=new cc.Node("bar");s.addChild(r);let l=r.addComponent(cc.Sprite);l.spriteFrame=new cc.SpriteFrame(i[4]),l.fillType=cc.Sprite.FillType.HORIZONTAL,l.type=cc.Sprite.Type.FILLED,l.fillStart=0,l.fillRange=1,s.getComponent(cc.ProgressBar).barSprite=r.getComponent(cc.Sprite),s.getComponent(cc.ProgressBar).mode=cc.ProgressBar.Mode.FILLED,s.getComponent(cc.ProgressBar).totalLength=s.width,s.getComponent(cc.ProgressBar).progress=0,s.width=.75*cc.winSize.width,s.height=.06*s.width,s.x=cc.winSize.width/2,s.y=cc.winSize.height/2,s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignBottom=!0,s.getComponent(cc.Widget).bottom=cc.winSize.height/5,r.height=s.height,r.x=-s.width/2,r.anchorX=0,a.on(cc.Node.EventType.TOUCH_START,()=>{});let h=null,c=s.getComponent(cc.ProgressBar).progress;o.on(cc.Node.EventType.TOUCH_START,()=>{null==h&&(h=setInterval(()=>{c>=.005&&(c-=.005,s.getComponent(cc.ProgressBar).progress=c)},100)),c+=.05,s.getComponent(cc.ProgressBar).progress=c,c>=.5&&!this.errBannerHasShowBanner&&(this.showBanner(),this.errBannerHasShowBanner=!0,setTimeout(()=>{this.hideBanner()},2e3)),c>=.99&&(null!=h&&clearInterval(h),this.hideErrBanner(),e(!0))})})}hideErrBanner(){this.isShow_ErrBanner=!1,this.errBannerHasShowBanner=!1,this.node_testErrBanner&&(console.log("XminigameSDK","Test hideErrBanner=================="),this.node_testErrBanner.removeFromParent(),this.node_testErrBanner=null)}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!0,"testOrderId")}payComplete(e){console.log("XminigameSDK","Test payComplete==================",e)}getScene(){return cc.director.getScene()}hidePrivacyAgreement(){this.isShow_PrivacyAgreement=!1,this.node_testPrivacyAgreement&&(console.log("XminigameSDK","Test hidePrivacyAgreement=================="),this.node_testPrivacyAgreement.removeFromParent(),this.node_testPrivacyAgreement=null)}},cc._RF.pop()},{"../utils/GetConfig":"GetConfig","../utils/LoadRes":"LoadRes"}],TestCocos:[function(e,t,i){"use strict";cc._RF.push(t,"1e282CXzVFL4YeBi9kE1COA","TestCocos");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./ASCAd"),o=e("./utils/LoadRes"),{ccclass:s,property:r}=cc._decorator;let l=class extends cc.Component{start(){n.default.getInstance().initAd()}showBanner(){n.default.getInstance().showBanner()}hideBanner(){n.default.getInstance().hideBanner()}showInters(){n.default.getInstance().getIntersFlag()&&n.default.getInstance().showInters(()=>{})}showVideo(){n.default.getInstance().getVideoFlag()&&n.default.getInstance().showVideo(e=>{e?console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5b8c\u6210"):console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u53d6\u6d88")})}getNativeAdInfo1(){n.default.getInstance().getNativeAdInfo(1)}getNativeAdInfo2(){n.default.getInstance().getNativeAdInfo(2)}showNativeIcon(){n.default.getInstance().getNativeIconFlag()&&n.default.getInstance().showNativeIcon(200,200,cc.winSize.width/4,cc.winSize.height/2)}hideNativeIcon(){n.default.getInstance().hideNativeIcon()}showNativeImage(){n.default.getInstance().getNativeImageFlag()&&n.default.getInstance().showNativeImage(600,300,cc.winSize.width/2,200)}hideNativeImage(){n.default.getInstance().hideNativeImage()}showNativePaster(){n.default.getInstance().getNativePasterFlag()&&n.default.getInstance().showNativePaster()}showCustomNativeAd(){let e=n.default.getInstance().getNativeAdInfo(1);if(null!=e&&void 0!==e.adId&&null!=e.adId){if(null==e.Native_BigImage)return void console.log("\u8be5\u539f\u751f\u5e7f\u544a\u4e2d\u4e0d\u5b58\u5728\u5927\u56fe return");let t=[];t[0]=e.Native_BigImage,t[1]=e.NativeAdTip,t[2]=e.NativeClose,t[3]="https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerButton.png",o.default.loadResArray(t,(t,i)=>{let a=cc.director.getScene();n.default.getInstance().reportNativeAdShow(e.adId);let o=new cc.Node("image");a.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[0]),o.addComponent(cc.Widget),o.getComponent(cc.Widget).isAlignHorizontalCenter=!0,o.getComponent(cc.Widget).isAlignBottom=!0,o.getComponent(cc.Widget).bottom=0,o.width=cc.winSize.width,o.height=o.width/2;let s=new cc.Node("adTip");o.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[1]),s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignLeft=!0,s.getComponent(cc.Widget).left=0,s.getComponent(cc.Widget).isAlignTop=!0,s.getComponent(cc.Widget).top=0,s.width=o.width/5,s.height=s.width/70*34;let r=new cc.Node("close");o.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[2]),r.addComponent(cc.Widget),r.getComponent(cc.Widget).isAlignRight=!0,r.getComponent(cc.Widget).right=0,r.getComponent(cc.Widget).isAlignTop=!0,r.getComponent(cc.Widget).top=0,r.width=50,r.height=50;let l=new cc.Node("button");o.addChild(l),l.addComponent(cc.Sprite),l.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[3]),l.width=300,l.height=200,l.y=cc.winSize.height/2,o.on(cc.Node.EventType.TOUCH_START,()=>{n.default.getInstance().reportNativeAdClick(e.adId)}),l.on(cc.Node.EventType.TOUCH_START,()=>{n.default.getInstance().reportNativeAdClick(e.adId)}),r.on(cc.Node.EventType.TOUCH_START,e=>{o.removeFromParent(),e.stopPropagation()})})}else console.log("nativeAdInfo:",JSON.stringify(e))}showNavigateBoxBanner(){n.default.getInstance().getNavigateBoxBannerFlag()&&n.default.getInstance().showNavigateBoxBanner()}hideNavigateBoxBanner(){n.default.getInstance().hideNavigateBoxBanner()}showNavigateBoxPortal(){n.default.getInstance().getNavigateBoxPortalFlag()?n.default.getInstance().showNavigateBoxPortal():console.log("\u63d0\u793a\u6682\u65e0\u5e7f\u544a")}addDesktop(){n.default.getInstance().getAddDesktopFlag(e=>{e&&n.default.getInstance().addDesktop(e=>{e&&console.log("\u6dfb\u52a0\u684c\u9762\u6210\u529f")})})}phoneVibrateLong(){n.default.getInstance().phoneVibrate("long")}phoneVibrateShort(){n.default.getInstance().phoneVibrate("short")}getUserData(){n.default.getInstance().getUserData(e=>{console.log("XminigameSDK","getUserData",JSON.stringify(e))})}getUserInfo(){n.default.getInstance().getUserInfo(e=>{console.log("XminigameSDK","getUserInfo",JSON.stringify(e))})}showFavoriteGuide(){n.default.getInstance().showFavoriteGuide("bar","\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f","bottom")}showMoreGamesBanner(){n.default.getInstance().showMoreGamesBanner()}hideMoreGamesBanner(){n.default.getInstance().hideMoreGamesBanner()}startGameVideo(){n.default.getInstance().startGameVideo(60)}pauseGameVideo(){n.default.getInstance().pauseGameVideo()}resumeGameVideo(){n.default.getInstance().resumeGameVideo()}stopGameVideo(){n.default.getInstance().stopGameVideo(e=>{console.log("\u89c6\u9891\u5f55\u5236\u6210\u529f"),this.videoPath=e})}shareVideo(){n.default.getInstance().shareVideo("\u8fd9\u662f\u6296\u97f3\u5206\u4eab\u89c6\u9891\u7684\u6807\u9898","\u8fd9\u662f\u5934\u6761\u5206\u4eab\u89c6\u9891\u7684\u63cf\u8ff0","\u8fd9\u662f\u6296\u97f3\u5206\u4eab\u89c6\u9891\u7684\u8bdd\u9898",this.videoPath,e=>{e?console.log("\u5206\u4eab\u6210\u529f"):console.log("\u5206\u4eab\u5931\u8d25")})}mustLogin(){n.default.getInstance().mustLogin(e=>{e?console.log("\u5f3a\u5236\u767b\u5f55\u6210\u529f"):console.log("\u5f3a\u5236\u767b\u5f55\u5931\u8d25")})}jumpToMoreGamesCenter(){n.default.getInstance().jumpToMoreGamesCenter()}showNavigateIcon(){n.default.getInstance().getNavigateIconFlag()&&n.default.getInstance().showNavigateIcon(200,200,.8*cc.winSize.width,.6*cc.winSize.height)}hideNavigateIcon(){n.default.getInstance().hideNavigateIcon()}showNavigateGroup(){n.default.getInstance().getNavigateGroupFlag()&&n.default.getInstance().showNavigateGroup("vertcal","right",200,0)}hideNavigateGroup(){n.default.getInstance().hideNavigateGroup()}showNavigateSettle1(){n.default.getInstance().getNavigateSettleFlag()&&n.default.getInstance().showNavigateSettle(1,0,0)}showNavigateSettle2(){n.default.getInstance().getNavigateSettleFlag()&&n.default.getInstance().showNavigateSettle(2,0,0)}hideNavigateSettle(){n.default.getInstance().hideNavigateSettle()}showBlock5(){n.default.getInstance().getBlockFlag()&&n.default.getInstance().showBlock("white",0,cc.winSize.height,5)}showBlock8(){n.default.getInstance().getBlockFlag()&&n.default.getInstance().showBlock("white",0,cc.winSize.height,8)}hideBlock(){n.default.getInstance().hideBlock()}showAppBox(){n.default.getInstance().getBoxFlag()&&n.default.getInstance().showAppBox()}showBlock(){n.default.getInstance().getBlockFlag()&&n.default.getInstance().showBlock("landscape",.2,.8,5)}showPrivacyAgreement(){n.default.getInstance().showPrivacyAgreement("","",e=>{e?console.log("\u70b9\u51fb\u540c\u610f"):console.log("\u70b9\u51fb\u53d6\u6d88")})}showErrBanner(){n.default.getInstance().getErrBannerFlag()&&n.default.getInstance().showErrBanner(e=>{e&&console.log("\u8fdb\u5ea6\u6761\u5df2\u7ecf\u8fbe\u5230,\u53d1\u653e\u5956\u52b1")})}buyProp(){let e="";n.default.getInstance().buyProps("1.00","8888","\u8089\u86cb\u8471\u9e21",(t,i)=>{t&&(e=i,console.log("\u4e0b\u53d1\u9053\u5177"),n.default.getInstance().payComplete(e))})}};l=a([s],l),i.default=l,cc._RF.pop()},{"./ASCAd":"ASCAd","./utils/LoadRes":"LoadRes"}],TestSDK:[function(e,t,i){"use strict";cc._RF.push(t,"26452GPJmZCzYFpxzn+xVu/","TestSDK"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{initAd(){}loginSucc(e){}loginFail(){}mustLogin(e){e(!0)}},cc._RF.pop()},{}],TiktokAd:[function(e,t,i){"use strict";cc._RF.push(t,"890e9N4pQBKBbXBPJ59EHmo","TiktokAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.bannerAd=null,this.loadSucc_SystemBanner=!1,this.loadSucc_Banner=!1,this.hasShowBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.isShow_Video=!1,this.videoPath=null,this.gameRecorder=null,this.callback_ShareVideo=null,this.isAutoStop=null,this.moreGamesBanner=null}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.SW_SystemBanner&&""!=this.ID_SystemBanner&&this.createSystemBanner(),this.SW_SystemInters&&""!=this.ID_SystemInters&&this.createSystemInters(),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_Video&&""!=this.ID_Video&&this.createVideo()}startLoadPushGamaes(){}createSystemBanner(){if(console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner))return void console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************");let e=tt.getSystemInfoSync().windowWidth,t=tt.getSystemInfoSync().windowHeight;this.bannerAd=tt.createBannerAd({adUnitId:this.ID_SystemBanner,style:{left:-1e3,top:-1e3}}),this.bannerAd.onResize(i=>{console.log("XminigameSDK","Tiktok \u7cfb\u7edfbanner\u5e7f\u544a\u91cd\u8bbe\u4f4d\u7f6e",i,JSON.stringify(i)),this.bannerAd.style.top=t-i.height,this.bannerAd.style.left=(e-i.width)/2}),this.bannerAd.onLoad(()=>{console.log("XminigameSDK","Tiktok \u7cfb\u7edfbanner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.loadSucc_SystemBanner=!0,this.hasShowBanner&&this.showSystemBanner()})}createSystemInters(){if(console.log("XminigameSDK","--createSystemInters--"),a.default.stringHasSpace(this.ID_SystemInters))return void console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************");let e=tt.getSystemInfoSync().appName;"Toutiao"==e||"Douyin"==e?(this.systemIntersAd=tt.createInterstitialAd({adUnitId:this.ID_SystemInters}),this.systemIntersAd.onLoad(()=>{console.log("XminigameSDK","Tiktok \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_SystemInters=!0}),this.systemIntersAd.onError(e=>{console.log("XminigameSDK","Tiktok \u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25\uff1a"+JSON.stringify(e)),this.systemIntersAd&&setTimeout(()=>{this.systemIntersAd&&this.systemIntersAd.load()},3e4)}),this.systemIntersAd.onClose(()=>{console.log("XminigameSDK","Tiktok \u5173\u95ed\u63d2\u5c4f,\u91cd\u65b0\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a"),this.NUM_IntersNowIntervalTime=0,this.systemIntersAd.destroy(),this.createSystemInters(),this.loadSucc_SystemInters=!1,this.systemIntersAd.load()}),this.systemIntersAd.load()):console.log("XminigameSDK","\u975e\u6296\u97f3/\u4eca\u65e5\u5934\u6761\u5e73\u53f0 \u6216\u6296\u97f3\u5e73\u53f0\u7248\u672c\u8fc7\u4f4e return")}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=tt.createRewardedVideoAd({adUnitId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK","Tiktok \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","Tiktok \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 \uff1a"+JSON.stringify(e)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{setTimeout(()=>{e.isEnded?(console.log("XminigameSDK","Tiktok \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.loadSucc_Video=!1,this.videoAd.load())):(console.log("XminigameSDK","Tiktok \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.loadSucc_Video=!1,this.videoAd.load())),this.isShow_Video=!1},500)}),this.videoAd.load())}getChannelId(){return n.default.getChannelId()}showBanner(){this.loadSucc_Banner?this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&(this.showSystemBanner(),this.updateSystemBanner())):this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return this.loadSucc_SystemInters||this.SW_AddDesktop&&this.NUM_AutoAddDeskMostTimes>0}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK","\u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762","\u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK","\u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_hasShowInters,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_intersNowInterval,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230",this.NUM_IntersNowIntervalTime,"\u76ee\u6807\u65f6\u95f4",this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.loadSucc_SystemInters&&this.showSystemInters()},this.NUM_IntersDelayTime)):this.loadSucc_SystemInters&&this.showSystemInters()}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.isShow_Video?console.log("XminigameSDK","\u89c6\u9891\u6b63\u5728\u64ad\u653e\u4e2d,\u8bf7\u52ff\u591a\u6b21\u70b9\u51fb\uff01"):(this.isShow_Video=!0,this.callback_Video=e,this.videoAd?this.videoAd.show().then(()=>{console.log("XminigameSDK","Tiktok \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(e=>{console.log("XminigameSDK","Tiktok \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e)),this.videoAd.load().then(()=>{console.log("XminigameSDK","Tiktok \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),this.videoAd.show().catch(e=>{console.log("XminigameSDK","Tiktok \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25",JSON.stringify(e)),this.isShow_Video=!1,this.callback_Video(!1)})})}):(this.isShow_Video=!1,this.callback_Video(!1)))}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!0}getAddDesktopFlag(e){tt.checkShortcut({success:function(t){!t.status.exist||t.status.needUpdate?(console.log("XminigameSDK","checkShortcut res:",JSON.stringify(t)),console.log("XminigameSDK","Tiktok \u672a\u521b\u5efa\u684c\u9762\u56fe\u6807\u6216\u56fe\u6807\u9700\u8981\u66f4\u65b0"),e(!0)):(console.log("XminigameSDK","Tiktok \u5df2\u521b\u5efa\u684c\u9762\u56fe\u6807"),e(!1))},fail:function(t){console.log("XminigameSDK","Tiktok \u6dfb\u52a0\u684c\u9762\u56fe\u6807\u5931\u8d25\uff1a",JSON.stringify(t.errMsg)),e(!1)}})}addDesktop(e){tt.addShortcut({success:function(){console.log("XminigameSDK","\u6dfb\u52a0\u684c\u9762\u6210\u529f"),e(!0)},fail:function(t){console.log("XminigameSDK","\u6dfb\u52a0\u684c\u9762\u5931\u8d25\uff1a",JSON.stringify(t)),e(!1)}})}phoneVibrate(e){"long"==e?tt.vibrateLong({success(e){},fail(e){console.log("XminigameSDK","Tiktok vibrateLong\u8c03\u7528\u5931\u8d25\uff1a",JSON.stringify(e))}}):"short"==e&&tt.vibrateShort({success(e){},fail(e){console.log("XminigameSDK","Tiktok vibrateShort\u8c03\u7528\u5931\u8d25\uff1a",JSON.stringify(e))}})}startGameVideo(e){this.videoPath=null,e||(e=10),this.gameRecorder=tt.getGameRecorderManager(),this.gameRecorder.onStart(()=>{console.log("XminigameSDK","Tiktok \u5f55\u5c4f\u5f00\u59cb")}),this.gameRecorder.onStop(e=>{console.log("XminigameSDK","Tiktok \u5f55\u5c4f\u7ed3\u675f",e.videoPath),this.videoPath=e.videoPath,this.callback_ShareVideo?(this.callback_ShareVideo(this.videoPath),this.callback_ShareVideo=null):this.isAutoStop=!0}),this.gameRecorder.onError(e=>{console.log("XminigameSDK","Tiktok \u5f55\u5c4f\u9519\u8bef:"+JSON.stringify(e))}),this.gameRecorder.start({duration:e})}pauseGameVideo(){console.log("XminigameSDK","Tiktok \u6682\u505c\u5f55\u5c4f=================="),this.gameRecorder&&this.gameRecorder.pause()}resumeGameVideo(){console.log("XminigameSDK","Tiktok \u7ee7\u7eed\u5f55\u5c4f=================="),this.gameRecorder&&this.gameRecorder.resume()}stopGameVideo(e){if(this.callback_ShareVideo=e,console.log("XminigameSDK","Tiktok stopGameVideo======================="),this.isAutoStop)return this.callback_ShareVideo(this.videoPath),this.callback_ShareVideo=null,void(this.isAutoStop=!1);this.gameRecorder&&this.gameRecorder.stop()}shareVideo(e,t,i,a,n){console.log("XminigameSDK","Tiktok \u5206\u4eab\u5f55\u5c4f",a),a?tt.shareAppMessage({channel:"video",title:e,desc:t,extra:{videoPath:a,videoTopics:[i],hashtag_list:[i]},success(){console.log("XminigameSDK","Tiktok \u5206\u4eab\u89c6\u9891\u6210\u529f"),n(!0)},fail(e){console.log("XminigameSDK","Tiktok \u5206\u4eab\u89c6\u9891\u5931\u8d25\uff1a",JSON.stringify(e)),n(!1)}}):console.log("XminigameSDK","\u89c6\u9891\u5730\u5740\u4e3a\u7a7a return")}jumpToMoreGamesCenter(){"android"==tt.getSystemInfoSync().platform?(console.log("XminigameSDK","jumpToMoreGamesCenter====================="),tt.showMoreGamesModal({appLaunchOptions:[{appId:"ttXXXXXX",query:"foo=bar&baz=qux",extraData:{}}],success(e){console.log("XminigameSDK","success",e.errMsg)},fail(e){console.log("XminigameSDK","fail",e.errMsg)}})):console.log("XminigameSDK","\u975e\u5b89\u5353\u624b\u673a,\u8bf7\u9690\u85cf\u66f4\u591a\u6e38\u620f\u6309\u94ae return")}showMoreGamesBanner(){"android"==tt.getSystemInfoSync().platform?(console.log("XminigameSDK","Tiktok showMoreGamesBanner==============="),this.moreGamesBanner=tt.createMoreGamesBanner({style:{left:0,top:0,width:150,height:40,verticalAlign:"bottom",horizontalAlign:"center"},appLaunchOptions:[{appId:"ttXXXXXX",query:"foo=bar&baz=qux",extraData:{}}]}),this.moreGamesBanner.onError(e=>{console.log("XminigameSDK","Tiktok \u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u51fa\u9519:",JSON.stringify(e))}),this.moreGamesBanner.show()):console.log("XminigameSDK","\u975e\u5b89\u5353\u624b\u673a,\u4e0d\u80fd\u5c55\u793a\u66f4\u591a\u6e38\u620f\u6a2a\u5e45")}hideMoreGamesBanner(){console.log("XminigameSDK","Tiktok hideMoreGamesBanner==============="),this.moreGamesBanner&&this.moreGamesBanner.hide()}showFavoriteGuide(e,t,i){console.log("XminigameSDK","Tiktok showFavoriteGuide===============",e,t,i),tt.showFavoriteGuide({type:e,content:t,position:i,success(e){console.log("XminigameSDK","\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f")},fail(e){console.log("XminigameSDK","\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25:"+JSON.stringify(e))}})}getUserData(e){console.log("XminigameSDK","Tiktok getUserData====================="),e({userId:o.default.getData("userId"),token:o.default.getData("token"),userType:o.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","Tiktok getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};1==o.default.getData("userType")||"1"==o.default.getData("userType")?tt.getUserInfo({success(i){console.log("XminigameSDK","\u7528\u6237\u6388\u6743\u6210\u529f"),t.head=i.userInfo.avatarUrl,t.name=i.userInfo.nickName,1==i.userInfo.gender?t.sex="M":2==i.userInfo.gender?t.sex="F":t.sex="0",t.city=i.userInfo.city,t.province=i.userInfo.province,t.country=i.userInfo.country,t.power=!0,o.default.setData("avatarUrl",t.head),o.default.setData("nickName",t.name),o.default.setData("gender",t.sex),e(t)},fail(i){console.log("XminigameSDK","\u7528\u6237\u62d2\u7edd\u6388\u6743"),t.power=!1,e(t)}}):e(t)}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){tt.reportAnalytics(e,t)}showAuthentication(e){}visitorExperience(e){}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){}showOPPOMoreGame(){}hasNetwork(e){}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.SW_SystemBanner&&this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","Tiktok showSystemBanner========================"),this.bannerAd.show())}updateSystemBanner(){this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{console.log("XminigameSDK","Tiktok updateSystemBanner========================"),this.bannerAd.destroy(),this.bannerAd=null,this.createSystemBanner()},1e3*this.NUM_BannerUpdateTime)}hideSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","Tiktok hideSystemBanner========================"),this.bannerAd.hide()),this.interval_updateBanner&&clearInterval(this.interval_updateBanner)}showSystemInters(){this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("XminigameSDK","Tiktok showSystemInters========================"),this.systemIntersAd.show())}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],TiktokDTO:[function(e,t,i){"use strict";cc._RF.push(t,"d7f5ciMmntDz6+6Sz5+JEwA","TiktokDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e){this.code=e,this.nickName=a.default.getData("nickName"),this.avatar=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],TiktokSDK:[function(e,t,i){"use strict";cc._RF.push(t,"1d899Y2Il9CmayOpwkCf66Z","TiktokSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/TiktokDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){this.startLogin()}startLogin(){tt.login({force:!1,success:e=>{if(e.isLogin){console.log("XminigameSDK","Tiktok \u5df2\u767b\u5f55\uff1a"+JSON.stringify(e));let t=new l.default(e.code);this.loginSucc(t)}else console.log("XminigameSDK","Tiktok \u672a\u767b\u5f55,",JSON.stringify(e)),console.log("XminigameSDK","Tiktok \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()},fail:e=>{console.log("XminigameSDK","Tiktok \u767b\u5f55\u5931\u8d25,",JSON.stringify(e)),console.log("XminigameSDK","Tiktok \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){o.default.getInstance().clearHasGetToken(),tt.login({force:!0,success:t=>{if(t.isLogin){console.log("XminigameSDK","Tiktok \u767b\u5f55\u6210\u529f\uff1a",JSON.stringify(t));let i=new l.default(t.code),n=new a.default(s.default.getChannelId(),r.default.getData("ServerUserId"),i);o.default.getInstance().getMoblieToken(n,(t,i)=>{t&&200==i.status?e(!0):e(!1)})}},fail:t=>{console.log("XminigameSDK","Tiktok \u767b\u5f55\u5931\u8d25,",JSON.stringify(t)),e(!1)}})}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/TiktokDTO":"TiktokDTO"}],TipsView:[function(e,t,i){"use strict";cc._RF.push(t,"94da5FHOIVOH7btdBtdVq0H","TipsView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),{ccclass:o,property:s}=cc._decorator;let r=class extends n.default{constructor(){super(...arguments),this._layout=2,this._viewName="TipsView",this.tinyMap=null}};a([s(cc.Node)],r.prototype,"tinyMap",void 0),r=a([o],r),i.default=r,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase"}],TransitionsView:[function(e,t,i){"use strict";cc._RF.push(t,"061cb4Rq8lJooL3IRsCZmOY","TransitionsView");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../LibTool/Component/Base/ViewBase"),o=e("../LibTool/Manager/SoundsManager"),{ccclass:s,property:r}=cc._decorator;let l=class extends n.default{constructor(){super(...arguments),this._layout=5,this._viewName="TransitionsView",this.born=null,this.tStart=null,this.tEnd=null}onLoad(){super.onLoad()}playBornSound(){o.soundsManager.playEffect(this.born)}playTStartSound(){o.soundsManager.playEffect(this.tStart)}playTEndSound(){o.soundsManager.playEffect(this.tEnd)}transition(e){this.openView(()=>{this.scheduleOnce(()=>{this.closeView()}),e&&e()})}};a([r(cc.AudioClip)],l.prototype,"born",void 0),a([r(cc.AudioClip)],l.prototype,"tStart",void 0),a([r(cc.AudioClip)],l.prototype,"tEnd",void 0),l=a([s],l),i.default=l,cc._RF.pop()},{"../LibTool/Component/Base/ViewBase":"ViewBase","../LibTool/Manager/SoundsManager":"SoundsManager"}],TweenAlpha:[function(e,t,i){"use strict";cc._RF.push(t,"10aa7saCGdNILLuljyLPMbe","TweenAlpha");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.from=0,this.to=0}start(){this.autoPlay&&this.play()}play(){this.fromTheStart?this.node.opacity=this.from:this.startPoint=this.node.opacity,super.basePlay()}setFrom(e=0){return this.from=e,this}setTo(e=0){return this.to=e,this}updateAction(e){super.updateAction(e),this.fromTheStart?this.node.opacity=this.from+(this.to-this.from)*this.progress:(this.node.opacity=this.startPoint+this.to*this.progress,this.progress>1&&this.loop&&(this.progress=0,this.play()))}};a([s({tooltip:"\u8d77\u59cb\u900f\u660e\u5ea6"})],h.prototype,"from",void 0),a([s({tooltip:"\u76ee\u6807\u900f\u660e\u5ea6"})],h.prototype,"to",void 0),h=a([o,r("Tween/TweenAlpha(\u900f\u660e\u5ea6)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenBase:[function(e,t,i){"use strict";cc._RF.push(t,"2cd77xzZTFCHLbsv9Lmls2W","TweenBase");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.EasingType=i.ActionType=void 0;const{ccclass:n,property:o}=cc._decorator;var s,r;(function(e){e[e.None=0]="None",e[e.Reciprocate=1]="Reciprocate"})(s=i.ActionType||(i.ActionType={})),function(e){e[e.Linear=0]="Linear",e[e.QuadIn=1]="QuadIn",e[e.QuadOut=2]="QuadOut",e[e.QuadInOut=3]="QuadInOut",e[e.QuadOutIn=4]="QuadOutIn",e[e.CubicIn=5]="CubicIn",e[e.CubicOut=6]="CubicOut",e[e.CubicInOut=7]="CubicInOut",e[e.CubicOutIn=8]="CubicOutIn",e[e.QuartIn=9]="QuartIn",e[e.QuartOut=10]="QuartOut",e[e.QuartInOut=11]="QuartInOut",e[e.QuartOutIn=12]="QuartOutIn",e[e.QuintIn=13]="QuintIn",e[e.QuintOut=14]="QuintOut",e[e.QuintInOut=15]="QuintInOut",e[e.QuintOutIn=16]="QuintOutIn",e[e.SineIn=17]="SineIn",e[e.SineOut=18]="SineOut",e[e.SineInOut=19]="SineInOut",e[e.SineOutIn=20]="SineOutIn",e[e.ExpoIn=21]="ExpoIn",e[e.ExpoOut=22]="ExpoOut",e[e.ExpoInOut=23]="ExpoInOut",e[e.ExpoOutIn=24]="ExpoOutIn",e[e.CircIn=25]="CircIn",e[e.CircOut=26]="CircOut",e[e.CircInOut=27]="CircInOut",e[e.CircOutIn=28]="CircOutIn",e[e.ElasticIn=29]="ElasticIn",e[e.ElasticOut=30]="ElasticOut",e[e.ElasticInOut=31]="ElasticInOut",e[e.BackIn=32]="BackIn",e[e.BackOut=33]="BackOut",e[e.BackInOut=34]="BackInOut",e[e.BackOutIn=35]="BackOutIn",e[e.BounceIn=36]="BounceIn",e[e.BounceOut=37]="BounceOut",e[e.BounceInOut=38]="BounceInOut",e[e.BounceOutIn=39]="BounceOutIn",e[e.Fade=40]="Fade"}(r=i.EasingType||(i.EasingType={}));let l=class extends cc.Component{constructor(){super(...arguments),this.target=null,this.actionType=s.None,this.easingType=r.Linear,this.duration=0,this.delay=0,this.interval=0,this.loop=!1,this.autoPlay=!1,this.fromTheStart=!0,this.easingList=[cc.easing.linear,cc.easing.quadIn,cc.easing.quadOut,cc.easing.quadInOut,cc.easing.quadOutIn,cc.easing.cubicIn,cc.easing.cubicOut,cc.easing.cubicInOut,cc.easing.cubicOutIn,cc.easing.quartIn,cc.easing.quartOut,cc.easing.quartInOut,cc.easing.quartOutIn,cc.easing.quintIn,cc.easing.quintOut,cc.easing.quintInOut,cc.easing.quintOutIn,cc.easing.sineIn,cc.easing.sineOut,cc.easing.sineInOut,cc.easing.sineOutIn,cc.easing.expoIn,cc.easing.expoOut,cc.easing.expoInOut,cc.easing.expoOutIn,cc.easing.circIn,cc.easing.circOut,cc.easing.circInOut,cc.easing.circOutIn,cc.easing.elasticIn,cc.easing.elasticOut,cc.easing.elasticInOut,cc.easing.backIn,cc.easing.backOut,cc.easing.backInOut,cc.easing.backOutIn,cc.easing.bounceIn,cc.easing.bounceOut,cc.easing.bounceInOut,cc.easing.bounceOutIn,cc.easing.fade],this.callback=null,this.delayTime=0,this.intervalTime=0,this.currentTime=0,this.totalTime=0,this.progress=0,this.startPoint=null,this.isPlay=!1,this.tempIsPlay=-1}get easing(){return this.easingList[this.easingType]}onLoad(){null==this.target&&(this.target=this.node)}onDestroy(){this.target=null}onEnable(){this.tempIsPlay>=0&&(this.isPlay=1===this.tempIsPlay)}onDisable(){this.tempIsPlay=this.isPlay?1:0}basePlay(e=0){this.delayTime=0,this.currentTime=e*this.totalTime,this.intervalTime=this.interval,this.totalTime=this.duration,this.isPlay=!0}setDelay(e){return this.delay=e,this}setInterval(e){return this.interval=e,this}setDuration(e){return this.duration=e,this}setLoop(e){return this.loop=e,this}setActionType(e){return this.actionType=e,this}setEasingType(e){return this.easingType=e,this}setFinishCallback(e){return this.callback=e,this}getPlaying(){return this.isPlay}pause(){this.isPlay=!1}continue(){this.isPlay=!0}stop(){this.loop=!1,this.isPlay=!1}finish(){this.loop=!1,this.currentTime=this.totalTime}getProgress(){return this.currentTime/this.totalTime}update(e){if(this.isPlay){if(this.delayTime+=e,this.intervalTime+=e,this.delayTime<this.delay||this.loop&&this.intervalTime<this.interval)return;this.currentTime+=e,this.updateAction(this.totalTime>0?this.currentTime/this.totalTime:1),this.currentTime>=this.totalTime&&this.fromTheStart&&(this.loop?(this.currentTime=0,this.intervalTime=0):this.isPlay=!1,!this.loop&&this.callback&&this.callback.CallOnce())}}updateAction(e){e>1&&(e=1),e<0&&(e=0),this.actionType===s.Reciprocate?this.progress=e<.5?this.easing(2*e):this.easing(2*(1-e)):this.progress=this.easing(e),e>1&&(e=1),e<0&&(e=0)}};a([o({type:cc.Node,tooltip:"\u52a8\u4f5c\u76ee\u6807(\u7559\u7a7a\u5219\u662f\u811a\u672c\u6240\u5728\u8282\u70b9)"})],l.prototype,"target",void 0),a([o({type:cc.Enum(s),tooltip:"\u8fd0\u52a8\u65b9\u5f0f\r\nOnce:\u5355\u6b21\r\nReciprocate:\u5f80\u590d"})],l.prototype,"actionType",void 0),a([o({type:cc.Enum(r),tooltip:"\u7f13\u52a8\u66f2\u7ebf\u7c7b\u578b\r\n\u53c2\u8003\uff1ahttps://easings.net/cn"})],l.prototype,"easingType",void 0),a([o({tooltip:"\u52a8\u753b\u65f6\u95f4"})],l.prototype,"duration",void 0),a([o({tooltip:"\u52a8\u753b\u524d\u7b49\u5f85\u65f6\u95f4"})],l.prototype,"delay",void 0),a([o({tooltip:"\u52a8\u753b\u95f4\u9694\u65f6\u95f4"})],l.prototype,"interval",void 0),a([o({tooltip:"\u662f\u5426\u5faa\u73af\u64ad\u653e"})],l.prototype,"loop",void 0),a([o({tooltip:"\u662f\u5426\u81ea\u52a8\u64ad\u653e"})],l.prototype,"autoPlay",void 0),a([o({tooltip:"\u662f\u5426\u4ece\u8d77\u70b9\u5f00\u59cb\u64ad\u653e(\u5173\u95ed\u540eto\u53c2\u6570\u4e3a\u76f8\u5bf9\u503c)"})],l.prototype,"fromTheStart",void 0),l=a([n],l),i.default=l,cc._RF.pop()},{}],TweenBezier:[function(e,t,i){"use strict";cc._RF.push(t,"10224CD39NDRKn49ER8QsjL","TweenBezier");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../tools"),o=e("./Base/TweenBase"),{ccclass:s,property:r,menu:l,disallowMultiple:h}=cc._decorator;let c=class extends o.default{constructor(){super(...arguments),this.nodeList=[],this.fromTheStart=!0}start(){this.autoPlay&&this.play()}play(){super.basePlay()}playToPosByAngle(e,t,i){i*=Math.PI/180;const a=new cc.Vec2((t.x-e.x)/3,(t.y-e.y)/3),n=new cc.Vec2(e.x+a.x*Math.cos(i)-a.y*Math.sin(i),e.y+a.x*Math.sin(i)+a.y*Math.cos(i)),o=new cc.Vec2(e.x+2*(t.x-e.x)/3,e.y+2*(t.y-e.y)/3);this.setPosition(e,n,o,t),super.basePlay()}setPosition(...e){return null!=e[0].x?this.nodeList=e:this.nodeList=e[0],this}updateAction(e){super.updateAction(e);const t=n.default.getBezierPosition(e,this.nodeList);this.node.x=t.x,this.node.y=t.y}};a([r({type:[cc.Vec2],tooltip:"\u8def\u5f84\u70b9"})],c.prototype,"nodeList",void 0),a([r({tooltip:"\u662f\u5426\u4ece\u8d77\u70b9\u5f00\u59cb\u64ad\u653e(\u5173\u95ed\u540eto\u53c2\u6570\u4e3a\u76f8\u5bf9\u503c)",visible:!1,override:!0})],c.prototype,"fromTheStart",void 0),c=a([s,l("Tween/TweenBezier(\u8d1d\u585e\u5c14\u66f2\u7ebf\u79fb\u52a8)"),h],c),i.default=c,cc._RF.pop()},{"../tools":"tools","./Base/TweenBase":"TweenBase"}],TweenCustom:[function(e,t,i){"use strict";cc._RF.push(t,"b7d172vLcRFf6ASw6Lf2WeR","TweenCustom");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.updateListener=null}setUpdateListener(e){return this.updateListener=e,this}play(){super.basePlay()}updateAction(e){super.updateAction(e),this.updateListener&&this.updateListener.Call(e)}};h=a([o,r("Tween/TweenCustom(\u81ea\u5b9a\u4e49)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenFrame:[function(e,t,i){"use strict";cc._RF.push(t,"6703469ESlPPZI7wlpWlYIY","TweenFrame");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.from=0,this.to=0,this.sprite=null,this.frames=null,this.row=1,this.col=1,this.total=1,this.fromTheStart=!0,this.countdownCall=null,this.lastFrame=0,this.height=0,this.width=0}onLoad(){super.onLoad(),null==this.sprite&&(this.sprite=this.target.getComponent(cc.Sprite)),null==this.frames&&(this.frames=this.sprite.spriteFrame),this.sprite.spriteFrame=this.frames;const e=cc.rect(0,0,this.width/this.row,this.height/this.col),t=this.sprite.spriteFrame;this.sprite.spriteFrame=null,t.setRect(e),this.sprite.spriteFrame=t}start(){this.width=Number(this.frames.getOriginalSize().width),this.height=Number(this.frames.getOriginalSize().height),this.autoPlay&&this.play()}play(){0===this.to&&(this.to=this.total),super.basePlay()}setFrom(e=0){return this.from=e,this}setTo(e=0){return this.to=e,this}setCountdownCallback(e){return this.countdownCall=e,this}updateAction(e){super.updateAction(e);const t=Math.round(this.from+(this.to-this.from)*this.progress);if(t!=this.lastFrame){const e=(t>0?t-1:t)%this.row,i=Math.floor((t>0?t-1:t)/this.row),a=cc.rect(e*(this.width/this.row),i*(this.height/this.col),this.width/this.row,this.height/this.col),n=this.sprite.spriteFrame;this.sprite.spriteFrame=null,n.setRect(a),this.sprite.spriteFrame=n,this.lastFrame=t,null!=this.countdownCall&&this.countdownCall.Call()}}};a([s({tooltip:"\u8d77\u59cb\u5e27\u6570(\u7b2c\u4e00\u5e27\u4e3a0)",step:1})],h.prototype,"from",void 0),a([s({tooltip:"\u76ee\u6807\u5e27\u6570(0\u5219\u81ea\u52a8\u8bbe\u7f6e\u4e3a\u6700\u5927\u5e27\u6570)",step:1})],h.prototype,"to",void 0),a([s({type:cc.Sprite,tooltip:"\u76ee\u6807\u7cbe\u7075(\u7a7a\u5219\u4e3a\u811a\u672c\u6240\u5728\u8282\u70b9)"})],h.prototype,"sprite",void 0),a([s({type:cc.SpriteFrame,tooltip:"\u5e8f\u5217\u5e27\u8d34\u56fe\uff0c\u4e0d\u80fd\u52fe\u9009 `packable` (\u7a7a\u5219\u4e3a\u76ee\u6807\u7cbe\u7075\u7684SpriteFrame)"})],h.prototype,"frames",void 0),a([s({tooltip:"\u5e8f\u5217\u5e27\u8d34\u56fe\u7684\u884c\u6570",step:1})],h.prototype,"row",void 0),a([s({tooltip:"\u5e8f\u5217\u5e27\u8d34\u56fe\u7684\u5217\u6570",step:1})],h.prototype,"col",void 0),a([s({tooltip:"\u5e8f\u5217\u5e27\u8d34\u56fe\u7684\u603b\u5e27\u6570",step:1})],h.prototype,"total",void 0),a([s({tooltip:"\u662f\u5426\u4ece\u8d77\u70b9\u5f00\u59cb\u64ad\u653e(\u5173\u95ed\u540eto\u53c2\u6570\u4e3a\u76f8\u5bf9\u503c)",visible:!1,override:!0})],h.prototype,"fromTheStart",void 0),h=a([o,r("Tween/TweenFrame(\u5e27\u52a8\u753b)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenNumber:[function(e,t,i){"use strict";cc._RF.push(t,"e1447ULQadHCLh0kBaGnrbp","TweenNumber");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.numberLabel=null,this.form=0,this.to=0}start(){null==this.numberLabel&&(this.numberLabel=this.node.getComponent(cc.Label)),this.autoPlay&&this.play()}play(){this.fromTheStart&&null!=this.numberLabel&&(this.numberLabel.string=this.form+""),super.basePlay()}setForm(e){return this.form=e,this}setTo(e){return this.to=e,this}updateAction(e){super.updateAction(e),null!=this.numberLabel&&(this.numberLabel.string=Math.floor(this.form+(this.to-this.form)*this.progress)+"")}};a([s({type:cc.Label,tooltip:"Label\u7ec4\u4ef6,\u4e3a\u7a7a\u5219\u4e3a\u7ec4\u4ef6\u6240\u5728\u8282\u70b9"})],h.prototype,"numberLabel",void 0),h=a([o,r("Tween/TweenNumber(\u6570\u5b57\u6eda\u52a8))"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenPosition:[function(e,t,i){"use strict";cc._RF.push(t,"8557bC9zlxPep2JkpYpVHt+","TweenPosition");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.from=new cc.Vec3,this.to=new cc.Vec3}start(){this.autoPlay&&this.play()}play(){this.fromTheStart?(this.node.x=this.from.x,this.node.y=this.from.y):this.startPoint=new cc.Vec3(this.node.x,this.node.y),super.basePlay()}setFrom(e){return this.from="number"==typeof e?new cc.Vec3(e,e):e,this}setTo(e){return this.to="number"==typeof e?new cc.Vec3(e,e):e,this}updateAction(e){super.updateAction(e),this.fromTheStart?(this.node.x=this.from.x+(this.to.x-this.from.x)*this.progress,this.node.y=this.from.y+(this.to.y-this.from.y)*this.progress,this.node.z=this.from.z+(this.to.z-this.from.z)*this.progress):(this.node.x=this.startPoint.x+this.to.x*this.progress,this.node.y=this.startPoint.y+this.to.y*this.progress,this.node.z=this.startPoint.z+this.to.z*this.progress,this.progress>=1&&this.loop&&(this.progress=0,this.play()))}};a([s({tooltip:"\u8d77\u59cb\u5750\u6807"})],h.prototype,"from",void 0),a([s({tooltip:"\u76ee\u6807\u5750\u6807"})],h.prototype,"to",void 0),h=a([o,r("Tween/TweenPosition(\u79fb\u52a8)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenRotation:[function(e,t,i){"use strict";cc._RF.push(t,"37fb9/cduJEXa0MwLXfeN5i","TweenRotation");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.from=0,this.to=0}start(){this.autoPlay&&this.play()}play(){this.fromTheStart?this.node.angle=this.from:this.startPoint=this.node.angle,super.basePlay()}setFrom(e){return this.from=e,this}setTo(e){return this.to=e,this}updateAction(e){super.updateAction(e),this.fromTheStart?this.node.angle=this.from+(this.to-this.from)*this.progress:(this.node.angle=this.startPoint+this.to*this.progress,this.progress>=1&&this.loop&&(this.progress=0,this.play()))}};a([s({tooltip:"\u8d77\u59cb\u89d2\u5ea6"})],h.prototype,"from",void 0),a([s({tooltip:"\u76ee\u6807\u89d2\u5ea6"})],h.prototype,"to",void 0),h=a([o,r("Tween/TweenRotation(\u65cb\u8f6c)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenScale:[function(e,t,i){"use strict";cc._RF.push(t,"993d47zOn9AqLpD38z0c2kZ","TweenScale");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.isScale=!0,this.from=new cc.Vec2,this.to=new cc.Vec2,this.startSize=null}onLoad(){super.onLoad(),this.startSize=cc.size(this.target.width,this.target.height)}start(){this.fromTheStart&&(this.isScale?(this.target.scaleX=this.from.x,this.target.scaleY=this.from.y):(this.target.width=this.startSize.width*this.from.x,this.target.height=this.startSize.height*this.from.y)),this.autoPlay&&this.play()}play(){this.fromTheStart?this.isScale?(this.target.scaleX=this.from.x,this.target.scaleY=this.from.y):(this.target.width=this.startSize.width*this.from.x,this.target.height=this.startSize.height*this.from.y):this.startPoint=new cc.Vec2(this.target.scaleX,this.target.scaleY),super.basePlay()}setFrom(e){return this.from="number"==typeof e?new cc.Vec2(e,e):e,this}setTo(e){return this.to="number"==typeof e?new cc.Vec2(e,e):e,this}updateAction(e){super.updateAction(e),this.fromTheStart?this.isScale?(this.target.scaleX=this.from.x+(this.to.x-this.from.x)*this.progress,this.target.scaleY=this.from.y+(this.to.y-this.from.y)*this.progress):(this.target.width=this.startSize.width*this.from.x+(this.to.x-this.from.x)*this.progress*this.startSize.width,this.target.height=this.startSize.height*this.from.y+(this.to.y-this.from.y)*this.progress*this.startSize.height):(this.target.scaleX=this.startPoint.x+(this.to.x-this.startPoint.x)*this.progress,this.target.scaleY=this.startPoint.y+(this.to.y-this.startPoint.y)*this.progress,this.progress>=1&&this.loop&&(this.progress=0,this.play()))}};a([s({tooltip:"\u662f\u5426\u4fee\u6539scale,\u82e5\u6ca1\u542f\u7528fromTheStart,\u5219\u8be5\u9009\u9879\u65e0\u6548"})],h.prototype,"isScale",void 0),a([s({tooltip:"\u8d77\u59cb\u7f29\u653e"})],h.prototype,"from",void 0),a([s({tooltip:"\u76ee\u6807\u7f29\u653e"})],h.prototype,"to",void 0),h=a([o,r("Tween/TweenScale(\u7f29\u653e)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],TweenSubtitles:[function(e,t,i){"use strict";cc._RF.push(t,"22e106lhEFBUYY823srytK7","TweenSubtitles");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/TweenBase"),{ccclass:o,property:s,menu:r,disallowMultiple:l}=cc._decorator;let h=class extends n.default{constructor(){super(...arguments),this.text="",this.textLabel=null}start(){null==this.textLabel&&(this.textLabel=this.node.getComponent(cc.Label)),this.autoPlay&&this.play()}play(){null!=this.textLabel&&(this.textLabel.string=""),super.basePlay()}setText(e){return this.text=e,this}updateAction(e){super.updateAction(e),null!=this.textLabel&&(this.textLabel.string=this.text.substr(0,Math.round(this.text.length*this.progress)))}};a([s({tooltip:"\u8981\u663e\u793a\u7684\u6587\u672c"})],h.prototype,"text",void 0),a([s({type:cc.Label,tooltip:"Label\u7ec4\u4ef6,\u4e3a\u7a7a\u5219\u4e3a\u7ec4\u4ef6\u6240\u5728\u8282\u70b9"})],h.prototype,"textLabel",void 0),h=a([o,r("Tween/TweenSubtitles(\u6587\u5b57\u5355\u4e2a\u51fa\u73b0)"),l],h),i.default=h,cc._RF.pop()},{"./Base/TweenBase":"TweenBase"}],UIBottomBar:[function(e,t,i){"use strict";cc._RF.push(t,"60cd8hznJVP6rc+vNeQhf+K","UIBottomBar");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("./Base/ViewBase"),{ccclass:o,property:s}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.buttons=[],this.select=null,this.viewNode=null,this.bottomList=[],this.viewNodeList=[],this.nowButton="",this.isMove=!1,this.nowView="",this.maxWidth=0,this.minWidth=0,this.width=0,this.switchEventCallback=null}initialize(e,t,i,a,n){this.viewNode=e,this.bottomList=t,this.width=cc.winSize.width/this.buttons.length,this.maxWidth=1.2*this.width,this.minWidth=(cc.winSize.width-this.maxWidth)/(this.buttons.length-1),this.switchEventCallback=n;const o=[];for(let s=0;s<this.bottomList.length;s++)for(const e in i)if(i[e].name===this.bottomList[s]){const t=cc.instantiate(i[e]);t.setParent(this.viewNode),o.push(t)}for(const s in this.bottomList)for(const e in o)o[e].name===this.bottomList[s]&&(this.buttons[this.viewNodeList.length].name=o[e].name,this.viewNodeList.push(o[e]));a&&a(o),this.scheduleOnce(()=>{this.switchButton(this.bottomList[Math.floor(this.bottomList.length/4)])})}onTouch(e){this.switchButton(e.name)}switchButton(e){if(e===this.nowButton||this.isMove)return;this.nowButton=e;let t=0,i=!1;for(const a in this.buttons){let n=this.buttons[a];if(n.name===e){let e=this.minWidth*Number(a)+this.maxWidth/2-cc.winSize.width/2;cc.tween(n).to(.1,{x:e},{easing:cc.easing.sineOut}).start(),i=!0;const o=n.getChildByName("icon");o&&cc.tween(o).to(.1,{y:140,scale:1.5},{easing:cc.easing.sineOut}).start();const s=n.getChildByName("text");s&&cc.tween(s).to(.1,{color:cc.color(255,218,70)},{easing:cc.easing.sineOut}).start(),t=Number(a)}else{let e=0;e=i?this.minWidth*(Number(a)-.5)+this.maxWidth-cc.winSize.width/2:this.minWidth*(Number(a)+.5)-cc.winSize.width/2,cc.tween(n).to(.1,{x:e},{easing:cc.easing.sineOut}).start();const t=n.getChildByName("icon");t&&cc.tween(t).to(.1,{y:90,scale:1},{easing:cc.easing.sineOut}).start();const o=n.getChildByName("text");o&&cc.tween(o).to(.1,{color:cc.color(255,255,255)},{easing:cc.easing.sineOut}).start()}}if(this.isMove=!0,this.select){let e=0;for(let i=0;i<this.buttons.length;i++)i<t?e+=this.minWidth:i==t&&(e+=this.maxWidth/2);e-=cc.winSize.width/2,cc.tween(this.select).to(.1,{x:e},{easing:cc.easing.sineOut}).call(()=>{this.isMove=!1}).start()}this.switchEvent(this.nowButton)}switchEvent(e){for(const t in this.bottomList)if(e===this.bottomList[t]){this.switchEventCallback&&this.switchEventCallback(this.bottomList[t]),this.switchView(this.bottomList[t]);break}}switchView(e){if(0===this.viewNodeList.length)return;let t=-1,i=-1;for(const n in this.viewNodeList){const a=this.viewNodeList[n];a.name===e&&(i=Number(n)),a.name===this.nowView&&(t=Number(n))}const a=this.viewNodeList[t],o=this.viewNodeList[i];cc.Tween.stopAllByTarget(a),cc.Tween.stopAllByTarget(o),t>i?(o.x=-cc.winSize.width,a&&cc.tween(a).to(.2,{x:cc.winSize.width},{easing:cc.easing.sineOut}).call(()=>{a.active=!1}).start()):(o.x=cc.winSize.width,a&&cc.tween(a).to(.2,{x:-cc.winSize.width},{easing:cc.easing.sineOut}).call(()=>{a.active=!1}).start());let s=o.getComponent(n.default);s?s.openView():o.active=!0,a?cc.tween(o).to(.2,{x:0},{easing:cc.easing.sineOut}).start():o.x=0,this.nowView=e}};a([s({type:cc.Node,tooltip:"\u6309\u94ae\u5217\u8868"})],r.prototype,"buttons",void 0),a([s({type:cc.Node,tooltip:"\u5e95\u90e8\u6ed1\u52a8\u80cc\u666f"})],r.prototype,"select",void 0),r=a([o],r),i.default=r,cc._RF.pop()},{"./Base/ViewBase":"ViewBase"}],Unexpected:[function(e,t,i){"use strict";cc._RF.push(t,"1278cVQGhpEv4HVuy8hzKfL","Unexpected"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../LibTool/Manager/MessageManager"),n=e("../../LibTool/Component/Base/SkillBase");class o extends n.default{eval(e,t,i,n){return super.eval(e,t,i,n),a.messageManager.postMessage("Unexpected"),n&&n(),!0}}i.default=o,o.skillName="\u51fa\u4eba\u610f\u6599",cc._RF.pop()},{"../../LibTool/Component/Base/SkillBase":"SkillBase","../../LibTool/Manager/MessageManager":"MessageManager"}],ViewBase:[function(e,t,i){"use strict";cc._RF.push(t,"0e0e6iYwO9G25EGpB0mdJhj","ViewBase");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:o}=cc._decorator;var s;(function(e){e[e.ALPHA=0]="ALPHA",e[e.SCALE=1]="SCALE",e[e.ANIMATION=2]="ANIMATION"})(s||(s={}));let r=class extends cc.Component{constructor(){super(...arguments),this._layout=0,this._viewName="",this.isOpenAnimation=!1,this.animationType=s.ALPHA,this.opacityTime=.4,this.scaleTime=.4,this.openClipName="ViewOpen",this.idleClipName="ViewIdle",this.closeClipName="ViewClose",this.viewNode=null,this.isAnimation=!1,this.openViewCallback=null,this.closeViewCallback=null}onLoad(){this.viewNode=this.node.getChildByName("viewNode"),this.node.active=!1;const e=this.node.getComponent(cc.Widget);e&&(e.updateAlignment(),e.enabled=!0)}openView(e){if(!this.node.active&&!this.isAnimation)if(this.openViewCallback=e,this.node.active=!0,this.isOpenAnimation){if(this.viewNode)if(this.isAnimation=!0,this.animationType===s.ANIMATION)this.node.getComponent(cc.Animation).play(this.openClipName);else{let e=null;switch(this.animationType){case s.ALPHA:this.viewNode.opacity=0,e=cc.tween().to(this.opacityTime,{opacity:255},{easing:cc.easing.backOut});break;case s.SCALE:this.viewNode.scale=0,e=cc.tween().to(this.scaleTime,{scale:1},{easing:cc.easing.backOut})}cc.Tween.stopAllByTarget(this.viewNode),cc.tween(this.viewNode).then(e).call(()=>{this.isAnimation=!1,this.openViewCallback&&this.openViewCallback()}).start()}}else this.openViewCallback&&this.openViewCallback()}closeView(e){if(this.node.active&&!this.isAnimation)if(this.closeViewCallback=e,this.isOpenAnimation){if(this.viewNode)if(this.isAnimation=!0,this.animationType===s.ANIMATION)this.node.getComponent(cc.Animation).play(this.closeClipName);else{let e=null;switch(this.animationType){case s.ALPHA:this.viewNode.opacity=255,e=cc.tween().to(this.opacityTime,{opacity:0},{easing:cc.easing.sineIn});break;case s.SCALE:this.viewNode.scale=1,e=cc.tween().to(this.scaleTime,{scale:0},{easing:cc.easing.backIn})}cc.Tween.stopAllByTarget(this.viewNode),cc.tween(this.viewNode).then(e).call(()=>{this.isAnimation=!1,this.node.active=!1,this.closeViewCallback&&this.closeViewCallback()}).start()}}else this.closeViewCallback&&this.closeViewCallback(),this.node.active=!1}stopAnimation(){switch(this.animationType){case s.ANIMATION:this.node.getComponent(cc.Animation).stop();break;case s.ALPHA:case s.SCALE:cc.Tween.stopAllByTarget(this.viewNode),this.viewNode.scale=1,this.viewNode.opacity=255}}openCallback(){this.isAnimation=!1,this.openViewCallback&&this.openViewCallback(),this.animationType===s.ANIMATION&&this.node.getComponent(cc.Animation).play(this.idleClipName)}closeCallback(){this.isAnimation=!1,this.node.active=!1,this.closeViewCallback&&this.closeViewCallback()}};a([o({tooltip:"\u662f\u5426\u5f00\u542f\u754c\u9762\u6253\u5f00/\u5173\u95ed\u52a8\u753b"})],r.prototype,"isOpenAnimation",void 0),a([o({type:cc.Enum(s),tooltip:"\u754c\u9762\u5f00\u542f\u52a8\u753b\u7c7b\u578b\uff08\u6539\u4e3aAnimation\u9700\u8981\u5728\u52a8\u753b\u91cc\u63d2\u5165\u4e8b\u4ef6\u5e27 `openCallback`\uff0c`closeCallback`\uff09",visible:function(){return this.isOpenAnimation}})],r.prototype,"animationType",void 0),a([o({tooltip:"\u6e10\u53d8\u52a8\u753b\u65f6\u95f4",visible:function(){return this.isOpenAnimation&&this.animationType==s.ALPHA}})],r.prototype,"opacityTime",void 0),a([o({tooltip:"\u7f29\u653e\u52a8\u753b\u65f6\u95f4",visible:function(){return this.isOpenAnimation&&this.animationType==s.SCALE}})],r.prototype,"scaleTime",void 0),a([o({tooltip:"\u754c\u9762\u5f00\u542fAnimationClip\u540d\u79f0",visible:function(){return this.isOpenAnimation&&this.animationType==s.ANIMATION}})],r.prototype,"openClipName",void 0),a([o({tooltip:"\u754c\u9762\u5f85\u673aAnimationClip\u540d\u79f0",visible:function(){return this.isOpenAnimation&&this.animationType==s.ANIMATION}})],r.prototype,"idleClipName",void 0),a([o({tooltip:"\u754c\u9762\u5173\u95edAnimationClip\u540d\u79f0",visible:function(){return this.isOpenAnimation&&this.animationType==s.ANIMATION}})],r.prototype,"closeClipName",void 0),r=a([n],r),i.default=r,cc._RF.pop()},{}],ViewManager:[function(e,t,i){"use strict";cc._RF.push(t,"c0b9e64iThG5KDCT0FeAdhB","ViewManager");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.viewManager=void 0;const n=e("../Component/Base/ViewBase"),o=e("./Logger"),{ccclass:s,property:r,menu:l,disallowMultiple:h}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.layout=[],this.prefabList=[],this.isSort=!1,this.isOpenIPadWidget=!1,this.viewList=[]}onLoad(){i.viewManager=this;let e=this.node.getComponent(cc.Widget);e||(e=this.node.addComponent(cc.Widget)),e.updateAlignment(),e.enabled=!0;for(const t in this.prefabList)this.addView(this.prefabList[t])}onDestroy(){i.viewManager=null}addView(e){let t=null;const i=null==(t=e instanceof cc.Prefab?cc.instantiate(e):e)?void 0:t.getComponent(n.default);if(!i)return void o.logger.warning(t.name+"\u6ca1\u6709\u7ee7\u627fViewBase\u7684\u7ec4\u4ef6\uff01");for(const n in this.viewList)if(this.viewList[n]._viewName==i._viewName)return void i.node.destroy();let a=cc.winSize.height/(16*cc.winSize.width/9);if(!this.layout[i._layout]){const e=new cc.Node("Layout"+i._layout);e.setParent(this.node),a=cc.winSize.height/this.node.height;const t=e.addComponent(cc.Widget);t.top=0,t.bottom=0,t.left=0,t.right=0,t.isAlignBottom=!0,t.isAlignLeft=!0,t.isAlignRight=!0,t.isAlignTop=!0,this.layout[i._layout]=e}this.isOpenIPadWidget&&(this.layout[i._layout].scale=a<1?a:1),t.setParent(this.layout[i._layout]),this.viewList.push(i),this.isSort&&(this.layout[i._layout].zIndex=i._layout)}removeView(e){for(const t in this.viewList)this.viewList[t]._viewName==e&&(this.viewList[t].node.destroy(),this.viewList.splice(Number(t),1))}openView(e,t,i){for(const a in this.viewList)if(this.viewList[a]._viewName==e)return this.viewList[a].openView(t),this.viewList[a];return o.logger.info(e+" \u6ca1\u6709\u627e\u5230"),null}closeView(e,t,i){for(const a in this.viewList)if(this.viewList[a]._viewName==e)return this.viewList[a].closeView(t),this.viewList[a];return null}getView(e,t){for(const i in this.viewList)if(this.viewList[i]._viewName==e)return this.viewList[i];return null}};a([r({type:cc.Node,tooltip:"layout\u5217\u8868\uff0c\u4e3a\u7a7a\u5219\u4f1a\u81ea\u52a8\u521b\u5efa"})],c.prototype,"layout",void 0),a([r({type:cc.Prefab,tooltip:"view\u5217\u8868"})],c.prototype,"prefabList",void 0),a([r({tooltip:"\u662f\u5426\u5f00\u542f\u81ea\u52a8\u6392\u5e8f\uff0c\u4ec5\u5728layout\u5217\u8868\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u6709\u6548"})],c.prototype,"isSort",void 0),a([r({tooltip:"\u662f\u5426\u5f00\u542fIPad\u9002\u914d"})],c.prototype,"isOpenIPadWidget",void 0),c=a([s,l("LibTool/Manager/ViewManager"),h],c),i.default=c,i.viewManager=null,cc._RF.pop()},{"../Component/Base/ViewBase":"ViewBase","./Logger":"Logger"}],VisitorTokenDTO:[function(e,t,i){"use strict";cc._RF.push(t,"b2ab8H8bvxLFavm4ukIO4v9","VisitorTokenDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../utils/Md5");i.default=class{constructor(e,t){this.channelId=e,this.userId=t,this.signParam={sign:a.default.init(e),sdkVersionCode:"2"}}},cc._RF.pop()},{"../../utils/Md5":"Md5"}],VivoAd:[function(e,t,i){"use strict";cc._RF.push(t,"dee5b5bLlVEa5omWqKEYzKe","VivoAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LoadRes"),s=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.bannerAd=null,this.loadSucc_Banner=!1,this.loadSucc_SystemBanner=!1,this.loadSucc_NativeBanner=!1,this.hasShowBanner=!1,this.isShow_SystemBanner=!1,this.isShow_NativeBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.NUM_BannerClose=0,this.timeout_showSystemBanner=null,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.NUM_SystemIntersLoadError=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.timeout_loadVideo=null,this.nativeAd=null,this.customNativeAd=null,this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.isShow_NativeImage=!1,this.isshow_NativeInters=!1,this.loadSucc_NativeImage=!1,this.nativeAdInfo=null,this.firstNativeAdInfo=null,this.customNativeAdInfo=null,this.param_nativeIcon=null,this.timeout_updateNativeIcon=null,this.timeout_updateNativeImage=null,this.node_nativeIcon=null,this.node_nativeImage=null,this.customNativeAdIdArray=[""],this.nativeOtherRes=null,this.loadSucc_NativeOther=!1,this.nativeBannerRes=null,this.node_nativeBanner=null,this.nativeIntersRes=null,this.loadSucc_NativeInters=!1,this.node_nativeInters=null,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=0,this.NUM_IntersNowToAddDesktop=0,this.AdGroup=""}createAd(){console.log("XminigameSDK",n.default.getChannelName(),"createAd======================"),this.SW_SystemBanner&&""!=this.ID_SystemBanner&&this.createSystemBanner(),this.SW_SystemInters&&""!=this.ID_SystemInters&&this.createSystemInters(),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_Video&&""!=this.ID_Video&&this.createVideo(),this.SW_Native&&""!=this.ID_Native&&(this.createNative(),this.loadNativeOtherRes()),this.SW_Native&&""!=this.ID_Native&&(this.SW_NativeBanner&&this.loadNativeBannerRes(),this.SW_NativeInters&&this.loadNativeInterRes())}startLoadPushGamaes(){}createSystemBanner(){console.log("XminigameSDK","--createSystemBanner--"),a.default.stringHasSpace(this.ID_SystemBanner)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************"):(this.bannerAd=qg.createBannerAd({posId:this.ID_SystemBanner,style:{}}),this.bannerAd.onLoad(()=>{this.loadSucc_SystemBanner=!0,console.log("XminigameSDK","VIVO \u7cfb\u7edfbanner\u52a0\u8f7d\u6210\u529f")}),this.bannerAd.onError(e=>{console.log("XminigameSDK","VIVO \u7cfb\u7edfbanner\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),30007==e.errCode&&(console.log("XminigameSDK","VIVO \u7cfb\u7edfbanner\u5e7f\u544a\u64ad\u653e\u6b21\u6570\u5df2\u8fbe\u9650\u5236"),this.loadSucc_SystemBanner=!1,this.hideSystemBanner(),this.showBanner())}),this.bannerAd.onClose(()=>{console.log("XminigameSDK","VIVO \u7cfb\u7edfbanner\u5173\u95ed",this.NUM_BannerUpdateTime+"S\u4e4b\u540e\u518d\u6b21\u5237\u65b0"),this.NUM_BannerClose++,this.hideBanner()}))}createSystemInters(){console.log("XminigameSDK","--createSystemInters--"),a.default.stringHasSpace(this.ID_SystemInters)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************"):(this.systemIntersAd=qg.createInterstitialAd({posId:this.ID_SystemInters}),this.systemIntersAd.onLoad(()=>{console.log("XminigameSDK","VIVO \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_SystemInters=!0}),this.systemIntersAd.onError(e=>{this.NUM_SystemIntersLoadError++,this.loadSucc_SystemInters=!1,console.log("XminigameSDK",this.NUM_SystemIntersLoadError,"VIVO \u7cfb\u7edf\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.NUM_SystemIntersLoadError<5&&setTimeout(()=>{this.createSystemInters()},1e4)}),this.systemIntersAd.onClose(()=>{console.log("XminigameSDK","VIVO \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed"),this.NUM_IntersNowIntervalTime=0,this.loadSucc_SystemInters=!1,setTimeout(()=>{this.createSystemInters()},1e4)}))}createVideo(){console.log("XminigameSDK","--createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=qg.createRewardedVideoAd({posId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK","VIVO \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","VIVO \u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e3)}),this.videoAd.onClose(e=>{e.isEnded?(console.log("XminigameSDK","VIVO \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.callback_Video=null)):(console.log("XminigameSDK","VIVO \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.callback_Video=null)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e3)}))}createNative(){console.log("XminigameSDK","--createNative--"),a.default.stringHasSpace(this.ID_Native)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u539f\u751f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u539f\u751f\u5e7f\u544aID*********************"):(this.nativeAd=qg.createNativeAd({posId:this.ID_Native}),this.nativeAdInfo={adId:null,title:null,desc:null,Native_icon:null,Native_BigImage:null},this.firstNativeAdInfo={adId:null,title:null,desc:null,Native_icon:null,Native_BigImage:null,NativeClose:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png",NativeAdTip:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"},this.nativeAd.onLoad(e=>{console.log("XminigameSDK","VIVO \u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",JSON.stringify(e.adList));let t=0;if(null!=typeof e.adList&&0!=e.adList.length){if(t=e.adList.length-1,console.log("XminigameSDK","VIVO \u539f\u751f\u5e7f\u544a\u62c9\u53d6:"+JSON.stringify(e.adList[t])),""!=e.adList[t].icon&&0!=e.adList[t].imgUrlList.length?console.log("XminigameSDK","VIVO \u540c\u65f6\u5b58\u5728\u539f\u751fICON\u548c\u5927\u56fe"):console.log("XminigameSDK","VIVO \u53ea\u5b58\u5728\u539f\u751fICON\u6216\u5927\u56fe"),this.firstNativeAdInfo.adId=e.adList[t].adId,this.firstNativeAdInfo.title=e.adList[t].title,this.firstNativeAdInfo.desc=e.adList[t].desc,this.nativeAdInfo.adId=e.adList[t].adId,this.nativeAdInfo.title=e.adList[t].title,this.nativeAdInfo.desc=e.adList[t].desc,""!=e.adList[t].icon){let i=new Array;i[0]=e.adList[t].icon,o.default.loadResArray(i,(e,t)=>{if(e)return console.log("XminigameSDK","VIVO \u539f\u751fICON\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_icon=null,void(this.loadSucc_NativeIcon=!1);console.log("XminigameSDK","VIVO \u539f\u751fICON\u52a0\u8f7d\u6210\u529f"),this.nativeAdInfo.Native_icon=t[0],this.loadSucc_NativeIcon=!0}),this.firstNativeAdInfo.Native_icon=e.adList[t].icon}else this.nativeAdInfo.Native_icon=null,this.loadSucc_NativeIcon=!1,this.firstNativeAdInfo.Native_icon=null;if(0!=e.adList[t].imgUrlList.length){let i=new Array;i[0]=e.adList[t].imgUrlList[0],o.default.loadResArray(i,(e,t)=>{if(e)return console.log("XminigameSDK","VIVO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_BigImage=null,void(this.loadSucc_NativeImage=!1);console.log("XminigameSDK","VIVO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u6210\u529f"),this.nativeAdInfo.Native_BigImage=t[0],this.loadSucc_NativeImage=!0}),this.firstNativeAdInfo.Native_BigImage=e.adList[t].imgUrlList[0]}else this.nativeAdInfo.Native_BigImage=null,this.loadSucc_NativeImage=!1,this.firstNativeAdInfo.Native_BigImage=null}else console.log("XminigameSDK","VIVO \u539f\u751f\u5e7f\u544a\u5217\u8868\u4e3a\u7a7a return")}),this.nativeAd.onError(e=>{console.log("XminigameSDK","VIVO \u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.customNativeToNative()}),this.nativeAd.load(),this.nativeAdAutoUpdate())}customNativeToNative(){if(console.log("XminigameSDK","VIVO customNativeToNative"),this.customNativeAdInfo.adId){if(this.firstNativeAdInfo.adId=this.customNativeAdInfo.adId,this.firstNativeAdInfo.title=this.customNativeAdInfo.title,this.firstNativeAdInfo.desc=this.customNativeAdInfo.desc,this.nativeAdInfo.adId=this.customNativeAdInfo.adId,this.nativeAdInfo.title=this.customNativeAdInfo.title,this.nativeAdInfo.desc=this.customNativeAdInfo.desc,this.customNativeAdInfo.Native_BigImage){let e=new Array;e[0]=this.customNativeAdInfo.Native_BigImage,o.default.loadResArray(e,(e,t)=>{if(e)return console.log("XminigameSDK","VIVO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_BigImage=null,void(this.loadSucc_NativeImage=!1);console.log("XminigameSDK","VIVO \u539f\u751f\u5927\u56fe\u52a0\u8f7d\u6210\u529f"),this.nativeAdInfo.Native_BigImage=t[0],this.loadSucc_NativeImage=!0}),this.firstNativeAdInfo.Native_BigImage=this.customNativeAdInfo.Native_BigImage}else this.firstNativeAdInfo.Native_BigImage=null;if(this.customNativeAdInfo.Native_icon){let e=new Array;e[0]=this.customNativeAdInfo.Native_icon,o.default.loadResArray(e,(e,t)=>{if(e)return console.log("XminigameSDK","VIVO \u539f\u751ficon\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_icon=null,void(this.loadSucc_NativeIcon=!1);console.log("XminigameSDK","VIVO \u539f\u751ficon\u52a0\u8f7d\u5931\u8d25"),this.nativeAdInfo.Native_icon=t[0],this.loadSucc_NativeIcon=!0}),this.firstNativeAdInfo.Native_icon=this.customNativeAdInfo.Native_icon}else this.firstNativeAdInfo.Native_icon=null}}createCustomNative(){console.log("XminigameSDK","--createCustomNative--"),a.default.stringHasSpace(this.ID_NativeCustom)?console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID*********************"):this.ID_Native!=this.ID_NativeCustom?(this.customNativeAd=qg.createNativeAd({posId:this.ID_NativeCustom}),this.customNativeAdInfo={adId:null,title:null,desc:null,Native_icon:null,Native_BigImage:null,NativeClose:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png",NativeAdTip:"https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"},this.customNativeAd.onLoad(e=>{console.log("XminigameSDK","VIVO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff1a",JSON.stringify(e.adList));let t=0;null!=typeof e.adList&&0!=e.adList.length?(t=e.adList.length-1,this.customNativeAdInfo.adId=String(e.adList[t].adId),this.customNativeAdInfo.title=String(e.adList[t].title),this.customNativeAdInfo.desc=String(e.adList[t].desc),this.customNativeAdIdArray.unshift(this.customNativeAdInfo.adId),e.adList&&""!=e.adList[t].icon?this.customNativeAdInfo.Native_icon=e.adList[t].icon:this.customNativeAdInfo.Native_icon=null,e.adList&&e.adList[t].imgUrlList.length>0?this.customNativeAdInfo.Native_BigImage=e.adList[t].imgUrlList[0]:this.customNativeAdInfo.Native_BigImage=null):console.log("XminigameSDK","VIVO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u5217\u8868\u4e3a\u7a7a return")}),this.customNativeAd.onError(e=>{console.log("XminigameSDK","VIVO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e))}),this.customNativeAd.load(),this.customNativeAdAutoUpdate()):console.log("XminigameSDK","channelId:",n.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u539f\u751f\u5e7f\u544aID\u548c\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID\u76f8\u540c,\u8bf7\u68c0\u67e5\u540e\u53f0\u539f\u751f\u4e0e\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544aID*********************")}loadNativeBannerRes(){console.log("XminigameSDK","--loadNativeBannerRes--"),this.nativeBannerRes={NativeBannerBg:null,NativeBannerButton:null,NativeClose:null,NativeAdTip:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeBannerButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png"],(e,t)=>{this.nativeBannerRes.NativeBannerBg=t[0],this.nativeBannerRes.NativeBannerButton=t[1],this.nativeBannerRes.NativeClose=t[2],this.nativeBannerRes.NativeAdTip=t[3],this.loadSucc_NativeBanner=!0,console.log("XminigameSDK","\u539f\u751fbanner\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadNativeInterRes(){console.log("XminigameSDK","--loadNativeInterRes--"),this.nativeIntersRes={NativeInterMask:null,NativeIntersBg:null,NativeIntersButton:null,NativeIntersClose:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeInterMask.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeIntersBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeIntersButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeIntersClose.png"],(e,t)=>{this.nativeIntersRes.NativeInterMask=t[0],this.nativeIntersRes.NativeIntersBg=t[1],this.nativeIntersRes.NativeIntersButton=t[2],this.nativeIntersRes.NativeIntersClose=t[3],this.loadSucc_NativeInters=!0,console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadNativeOtherRes(){console.log("XminigameSDK","--loadNativeOtherRes--"),this.nativeOtherRes={NativeAdTip:null,NativeClose:null},o.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeAdTip.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Native/NativeClose.png"],(e,t)=>{this.nativeOtherRes.NativeAdTip=t[0],this.nativeOtherRes.NativeClose=t[1],this.loadSucc_NativeOther=!0,console.log("XminigameSDK","\u5176\u4ed6\u539f\u751f\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}getChannelId(){return n.default.getChannelId()}showBanner(){if(this.loadSucc_Banner)return this.NUM_BannerMostShow<=this.NUM_BannerClose?(console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner))):void(this.isshow_NativeInters?console.log("XminigameSDK","\u6b63\u5728\u5c55\u793a\u539f\u751f\u63d2\u5c4f"):this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&this.SW_NativeBanner?this.SW_SystemBannerFirst?(console.log("XminigameSDK","\u7cfb\u7edfbanner\u4f18\u5148"),this.loadSucc_SystemBanner?this.showSystemBanner():this.loadSucc_NativeBanner&&(console.log("XminigameSDK","\u7cfb\u7edfbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5c55\u793a\u539f\u751fbanner"),this.showNativeBanner())):(console.log("XminigameSDK","\u539f\u751fbanner\u4f18\u5148"),this.loadSucc_NativeBanner?this.showNativeBanner():this.loadSucc_SystemBanner&&(console.log("XminigameSDK","\u539f\u751fbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5c55\u793a\u7cfb\u7edfbanner"),this.showSystemBanner())):this.SW_SystemBanner?this.showSystemBanner():this.SW_NativeBanner&&this.showNativeBanner(),this.updateBanner()));this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideNativeBanner(),this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_showSystemBanner&&clearTimeout(this.timeout_showSystemBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return this.loadSucc_NativeInters&&(this.loadSucc_NativeIcon||this.loadSucc_NativeImage)||this.loadSucc_SystemInters}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK","\u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762","\u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK","\u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_hasShowInters,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_intersNowInterval,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230",this.NUM_IntersNowIntervalTime,"\u76ee\u6807\u65f6\u95f4",this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.SW_SystemInters&&this.SW_NativeInters?Math.floor(100*Math.random())>=this.NUM_NativeIntersP?(console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u4f18\u5148"),this.loadSucc_SystemInters?(console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u53ef\u4ee5\u5c55\u793a"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showSystemInters()},this.NUM_IntersDelayTime)):this.showSystemInters()):(console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u6ca1\u6709\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_NativeInters&&(this.loadSucc_NativeIcon||this.loadSucc_NativeImage)&&(console.log("XminigameSDK","\u6539\u4e3a\u5c55\u793a\u539f\u751f\u63d2\u5c4f"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showNativeInters()},this.NUM_IntersDelayTime)):this.showNativeInters()))):(console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u4f18\u5148"),this.loadSucc_NativeInters&&(this.loadSucc_NativeIcon||this.loadSucc_NativeImage)?(console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u53ef\u4ee5\u5c55\u793a"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showNativeInters()},this.NUM_IntersDelayTime)):this.showNativeInters()):(console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u6ca1\u6709\u52a0\u8f7d\u5230"),this.loadSucc_SystemInters&&(console.log("XminigameSDK","\u6539\u4e3a\u5c55\u793a\u7cfb\u7edf\u63d2\u5c4f"),this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showSystemInters()},this.NUM_IntersDelayTime)):this.showSystemInters()))):this.SW_SystemInters?(console.log("XminigameSDK","\u53ea\u6253\u5f00\u4e86\u7cfb\u7edf\u63d2\u5c4f"),this.loadSucc_SystemInters&&(this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showSystemInters()},this.NUM_IntersDelayTime)):this.showSystemInters())):this.SW_NativeInters?(console.log("XminigameSDK","\u53ea\u6253\u5f00\u4e86\u539f\u751f\u63d2\u5c4f"),this.loadSucc_NativeInters&&(this.loadSucc_NativeIcon||this.loadSucc_NativeImage)&&(this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.showNativeInters()},this.NUM_IntersDelayTime)):this.showNativeInters())):console.log("XminigameSDK","\u7cfb\u7edf\u63d2\u5c4f\u5f00\u5173\u548c\u539f\u751f\u63d2\u5c4f\u5f00\u5173\u90fd\u6ca1\u6709\u6253\u5f00")}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(console.log("XminigameSDK","VIVO showVideo==========================="),this.callback_Video=e,this.videoAd.show())}getNativeIconFlag(){return this.loadSucc_NativeOther&&this.loadSucc_NativeIcon}showNativeIcon(e,t,i,a){if(!this.loadSucc_NativeIcon||!this.loadSucc_NativeOther)return void console.log("XminigameSDK","\u539f\u751ficon\u6216\u8d44\u6e90\u672a\u52a0\u8f7d\u6210\u529f return");if(this.isShow_NativeIcon)return void console.log("XminigameSDK","\u539f\u751ficon\u6b63\u5728\u5c55\u793a\u4e2d,\u8bf7\u52ff\u591a\u6b21show return");this.isShow_NativeIcon=!0,this.param_nativeIcon={width:e,height:t,x:i,y:a},console.log("XminigameSDK","VIVO showNativeIcon===========================");let n=this.nativeAdInfo.adId;this.reportNativeAdShow(n);let o=cc.director.getScene();this.node_nativeIcon=new cc.Node("icon"),o.addChild(this.node_nativeIcon),this.node_nativeIcon.addComponent(cc.Sprite),this.node_nativeIcon.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_icon),this.node_nativeIcon.zIndex=3e4,this.node_nativeIcon.width=e,this.node_nativeIcon.height=t,this.node_nativeIcon.x=i,this.node_nativeIcon.y=a,""!=this.AdGroup&&(this.node_nativeIcon.group=this.AdGroup);let s=new cc.Node("NativeAdTip");this.node_nativeIcon.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeAdTip),s.width=e/3,s.height=s.width/70*34,s.x=e/2-s.width/2,s.y=t/2-s.height/2;let r=new cc.Node("NativeClose");this.node_nativeIcon.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeClose),r.width=45,r.height=45,r.x=-this.node_nativeIcon.width/2+r.width/2,r.y=this.node_nativeIcon.height/2-r.width/2;let l=new cc.Node("titleLabel");this.node_nativeIcon.addChild(l),l.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?l.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*40:l.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*40,this.nativeAdInfo.title.length<=5?l.getComponent(cc.Label).string=this.nativeAdInfo.title:l.getComponent(cc.Label).string="",l.y=-t/2-30,l.color=cc.color(255,255,255),r.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u624b\u52a8\u5173\u95ed\u539f\u751fICON"),this.node_nativeIcon.removeFromParent(),this.node_nativeIcon=null,e.stopPropagation()}),this.node_nativeIcon.on(cc.Node.EventType.TOUCH_START,()=>{console.log("XminigameSDK","\u70b9\u51fb\u539f\u751fICON"),this.reportNativeAdClick(n)}),this.timeout_updateNativeIcon=setTimeout(()=>{console.log("XminigameSDK","\u539f\u751ficon\u5237\u65b0"),this.hideNativeIcon(),this.showNativeIcon(this.param_nativeIcon.width,this.param_nativeIcon.height,this.param_nativeIcon.x,this.param_nativeIcon.y)},1e3*this.NUM_NativeUpdateTime)}hideNativeIcon(){this.isShow_NativeIcon=!1,this.timeout_updateNativeIcon&&clearTimeout(this.timeout_updateNativeIcon),this.node_nativeIcon&&(console.log("XminigameSDK","VIVO hideNativeIcon==========================="),this.node_nativeIcon.removeFromParent(),this.node_nativeIcon=null)}getNativeImageFlag(){return this.loadSucc_NativeOther&&this.loadSucc_NativeImage}showNativeImage(e,t,i,a){if(!this.loadSucc_NativeImage||!this.loadSucc_NativeOther)return void console.log("XminigameSDK","\u539f\u751f\u5927\u56fe\u6216\u8d44\u6e90\u672a\u52a0\u8f7d\u6210\u529f return");if(this.isShow_NativeImage)return void console.log("XminigameSDK","\u539f\u751f\u5927\u56fe\u6b63\u5728\u5c55\u793a\u4e2d,\u8bf7\u52ff\u591a\u6b21show");this.isShow_NativeImage=!0,console.log("XminigameSDK","showNativeImage===========================");let n=this.nativeAdInfo.adId;this.reportNativeAdShow(n);let o=cc.director.getScene();this.node_nativeImage=new cc.Node("node_nativeImage"),o.addChild(this.node_nativeImage),this.node_nativeImage.addComponent(cc.Sprite),this.node_nativeImage.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),this.node_nativeImage.zIndex=3e4,this.node_nativeImage.width=e,this.node_nativeImage.height=t,this.node_nativeImage.x=i,this.node_nativeImage.y=a,""!=this.AdGroup&&(this.node_nativeImage.group=this.AdGroup);var s=new cc.Node("NativeAdTip");this.node_nativeImage.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeAdTip),s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignLeft=!0,s.getComponent(cc.Widget).isAlignTop=!0,s.getComponent(cc.Widget).left=0,s.getComponent(cc.Widget).top=0,s.width=e/5,s.height=s.width/70*34;var r=new cc.Node("NativeClose");this.node_nativeImage.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeOtherRes.NativeClose),r.addComponent(cc.Widget),r.getComponent(cc.Widget).isAlignRight=!0,r.getComponent(cc.Widget).isAlignTop=!0,r.getComponent(cc.Widget).right=0,r.getComponent(cc.Widget).top=0,r.width=45,r.height=45,r.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u624b\u52a8\u5173\u95ed\u539f\u751f\u5927\u56fe"),this.hideNativeImage(),e.stopPropagation()}),this.node_nativeImage.on(cc.Node.EventType.TOUCH_START,()=>{console.log("XminigameSDK","\u70b9\u51fb\u539f\u751f\u5927\u56fe"),this.reportNativeAdClick(n)})}hideNativeImage(){this.isShow_NativeImage=!1,this.node_nativeImage&&(console.log("XminigameSDK","VIVO hideNativeImage==========================="),this.node_nativeImage.removeFromParent(),this.node_nativeImage=null)}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return 1==e?(console.log("XminigameSDK","\u83b7\u53d6\u539f\u751f\u5e7f\u544a"),this.firstNativeAdInfo):(console.log("XminigameSDK","\u83b7\u53d6\u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a"),this.customNativeAdInfo)}reportNativeAdShow(e){-1!=this.customNativeAdIdArray.indexOf(e)?(console.log("XminigameSDK","VIVO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u5c55\u793a",e),this.customNativeAd.reportAdShow({adId:e})):(console.log("XminigameSDK","VIVO \u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u5c55\u793a",e),this.nativeAd.reportAdShow({adId:e}))}reportNativeAdClick(e){-1!=this.customNativeAdIdArray.indexOf(e)?(console.log("XminigameSDK","VIVO \u81ea\u5b9a\u4e49\u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u70b9\u51fb",e),this.customNativeAd.reportAdShow({adId:e})):(console.log("XminigameSDK","VIVO \u539f\u751f\u5e7f\u544a\u4e0a\u62a5\u70b9\u51fb",e),this.nativeAd.reportAdClick({adId:e}))}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){this.AdGroup=e}hasAddDesktopFunc(){return!0}getAddDesktopFlag(e){qg.hasShortcutInstalled({success:function(t){t?(console.log("XminigameSDK","VIVO \u5df2\u521b\u5efa\u684c\u9762\u56fe\u6807"),e(!1)):(console.log("XminigameSDK","VIVO \u672a\u521b\u5efa\u684c\u9762\u56fe\u6807"),e(!0))}})}addDesktop(e){qg.installShortcut({success:function(){console.log("XminigameSDK","VIVO \u521b\u5efa\u684c\u9762\u56fe\u6807\u6210\u529f"),e(!0)},fail:function(t){console.log("XminigameSDK","VIVO \u521b\u5efa\u684c\u9762\u56fe\u6807\u5931\u8d25\uff1a",JSON.stringify(t)),e(!1)},complete:function(){}})}phoneVibrate(e){"short"==e?qg.vibrateShort():"long"==e&&qg.vibrateLong()}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){}shareVideo(e,t,i,a,n){}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","VIVO getUserData====================="),e({userId:s.default.getData("userId"),token:s.default.getData("token"),userType:s.default.getData("userType")})}getUserInfo(e){let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};t.head=s.default.getData("avatarUrl"),t.name=s.default.getData("nickName"),t.sex=s.default.getData("gender"),e(t)}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){}visitorExperience(e){}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.loadSucc_NativeBanner&&(this.loadSucc_NativeIcon||this.loadSucc_NativeImage)||this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showNativeBanner(){this.isShow_NativeBanner=!0;let e=cc.director.getScene(),t=this.nativeAdInfo.adId;this.reportNativeAdShow(t),console.log("XminigameSDK","showNativeBanner========================"),this.node_nativeBanner=new cc.Node("node_nativeBanner"),e.addChild(this.node_nativeBanner),this.node_nativeBanner.addComponent(cc.Sprite),this.node_nativeBanner.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeBannerBg),this.node_nativeBanner.addComponent(cc.Widget),this.node_nativeBanner.getComponent(cc.Widget).isAlignHorizontalCenter=!0,this.node_nativeBanner.getComponent(cc.Widget).isAlignBottom=!0,this.node_nativeBanner.getComponent(cc.Widget).bottom=0,cc.winSize.width<cc.winSize.height?(this.node_nativeBanner.width=cc.winSize.width,this.node_nativeBanner.height=.18*cc.winSize.width):(this.node_nativeBanner.width=cc.winSize.width/2,this.node_nativeBanner.height=.18*this.node_nativeBanner.width),""!=this.AdGroup&&(this.node_nativeBanner.group=this.AdGroup),this.node_nativeBanner.zIndex=29999,this.node_nativeBanner.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(t)});let i=new cc.Node("adTip");this.node_nativeBanner.addChild(i),i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeAdTip),i.height=.2*this.node_nativeBanner.height,i.width=i.height/.45,i.x=this.node_nativeBanner.width/2-i.width/2,i.y=this.node_nativeBanner.height/2-i.height/2;let a=new cc.Node("bannerButton");if(this.node_nativeBanner.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeBannerButton),a.width=.255*this.node_nativeBanner.width,a.height=.351*a.width,a.x=this.node_nativeBanner.width/2-.185*this.node_nativeBanner.width,a.y=0,this.loadSucc_NativeImage){let e=new cc.Node("image");this.node_nativeBanner.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),e.height=this.node_nativeBanner.height,e.width=2*e.height,e.x=e.width/2-this.node_nativeBanner.width/2,e.y=0}else if(this.loadSucc_NativeIcon){let e=new cc.Node("icon");this.node_nativeBanner.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),e.height=.8*this.node_nativeBanner.height,e.width=e.height,e.x=.8*e.width-this.node_nativeBanner.width/2,e.y=0}let n=new cc.Node("titleLabel");this.node_nativeBanner.addChild(n),n.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*35:n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*35,""==this.nativeAdInfo.desc?n.getComponent(cc.Label).string=this.nativeAdInfo.title:n.getComponent(cc.Label).string=this.nativeAdInfo.desc,n.getComponent(cc.Label).overflow=cc.Label.Overflow.CLAMP,n.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.LEFT,n.getComponent(cc.Label).verticalAlign=cc.Label.VerticalAlign.CENTER,n.getComponent(cc.Label).lineHeight=n.getComponent(cc.Label).fontSize,n.color=cc.color(255,0,0),n.width=this.node_nativeBanner.width-2*this.node_nativeBanner.height-a.width-.2*this.node_nativeBanner.height/.45,n.height=this.node_nativeBanner.height,n.y=0,n.x=-this.node_nativeBanner.width/2+2.1*this.node_nativeBanner.height+n.width/2;let o=new cc.Node("NativeClose");this.node_nativeBanner.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeBannerRes.NativeClose),o.width=.27*this.node_nativeBanner.height,o.height=.27*this.node_nativeBanner.height,o.x=-this.node_nativeBanner.width/2+o.width/2,o.y=this.node_nativeBanner.height/2-o.width/2;let s=new cc.Node("closeButton");this.node_nativeBanner.addChild(s),s.width=o.height,s.height=o.height,s.x=-this.node_nativeBanner.width/2+o.width/2,s.y=this.node_nativeBanner.height/2-o.width/2,s.zIndex=29999,s.on(cc.Node.EventType.TOUCH_START,e=>{console.log("XminigameSDK","\u539f\u751fbanner\u5173\u95ed",this.NUM_BannerUpdateTime+"S\u540e\u518d\u6b21\u5237\u65b0"),this.NUM_BannerClose++,this.hideBanner(),e.stopPropagation()})}showSystemBanner(){this.bannerAd?(console.log("XminigameSDK","VIVO showSystemBanner========================"),this.isShow_SystemBanner=!0,this.bannerAd.show()):(this.createSystemBanner(),this.timeout_showSystemBanner=setTimeout(()=>{this.bannerAd&&this.showSystemBanner()},1e3))}updateBanner(){if(this.NUM_BannerMostShow<=this.NUM_BannerClose)return console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed(\u6700\u591a\u5c55\u793a)\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner));this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{if(this.NUM_BannerMostShow<=this.NUM_BannerClose)return console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed(\u6700\u591a\u5c55\u793a)\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner));this.SW_SystemBanner&&this.SW_NativeBanner?this.SW_SystemBannerFirst?(console.log("XminigameSDK","\u7cfb\u7edfbanner\u4f18\u5148"),this.loadSucc_SystemBanner?(console.log("XminigameSDK","\u5237\u65b0\u7cfb\u7edfbanner"),this.updateSystemBanner()):this.loadSucc_NativeBanner&&(console.log("XminigameSDK","\u7cfb\u7edfbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5237\u65b0\u539f\u751fbanner"),this.updateNativeBanner())):(console.log("XminigameSDK","\u539f\u751fbanner\u4f18\u5148"),this.loadSucc_NativeBanner?(console.log("XminigameSDK","\u5237\u65b0\u539f\u751fbanner"),this.updateNativeBanner()):this.loadSucc_SystemBanner&&(console.log("XminigameSDK","\u539f\u751fbanner\u672a\u52a0\u8f7d\u5b8c\u6210,\u6539\u4e3a\u5237\u65b0\u7cfb\u7edfbanner"),this.updateSystemBanner())):this.SW_SystemBanner?this.updateSystemBanner():this.SW_NativeBanner&&this.updateNativeBanner()},1e3*this.NUM_BannerUpdateTime)}updateSystemBanner(){console.log("XminigameSDK","VIVO updateSystemBanner========================"),this.hideNativeBanner(),this.hideSystemBanner(),this.createSystemBanner(),this.timeout_showSystemBanner=setTimeout(()=>{this.bannerAd&&this.showSystemBanner()},1e3)}hideSystemBanner(){this.isShow_SystemBanner&&this.bannerAd&&(console.log("XminigameSDK","VIVO hideSystemBanner========================"),this.isShow_SystemBanner=!1,this.bannerAd.destroy())}updateNativeBanner(){console.log("XminigameSDK","VIVO updateNativeBanner========================"),this.hideNativeBanner(),this.hideSystemBanner(),this.showNativeBanner()}hideNativeBanner(){this.isShow_NativeBanner=!1,this.node_nativeBanner&&(console.log("XminigameSDK","VIVO hideNativeBanner========================"),this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null)}showSystemInters(){this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("XminigameSDK","VIVO showSystemInters=================="),this.systemIntersAd.show().then(()=>{console.log("XminigameSDK","VIVO \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f==================")}).catch(e=>{console.log("XminigameSDK","VIVO \u7cfb\u7edf\u63d2\u5c4f\u5c55\u793a\u9519\u8bef:"+JSON.stringify(e))}))}showNativeInters(){if(console.log("XminigameSDK","showNativeInters==========================="),this.isshow_NativeInters)return;this.isshow_NativeInters=!0,this.hideBanner();let e=this.nativeAdInfo.adId;this.reportNativeAdShow(e);let t=cc.director.getScene();this.node_nativeInters=new cc.Node("node_nativeInters"),t.addChild(this.node_nativeInters),this.node_nativeInters.zIndex=30003,this.node_nativeInters.width=2560,this.node_nativeInters.height=2560,this.node_nativeInters.x=cc.winSize.width/2,this.node_nativeInters.y=cc.winSize.height/2,""!=this.AdGroup&&(this.node_nativeInters.group=this.AdGroup),this.node_nativeInters.on(cc.Node.EventType.TOUCH_START,function(){});let i=new cc.Node("NativeInterMask");this.node_nativeInters.addChild(i),i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeInterMask),i.width=this.node_nativeInters.width,i.height=this.node_nativeInters.height,i.opacity=150;let a=new cc.Node("NativeIntersBg");if(this.node_nativeInters.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersBg),cc.winSize.width<cc.winSize.height){a.width=.8*cc.winSize.width,a.height=.87*a.width,a.y=.05*cc.winSize.height;let t=new cc.Node("NativeIntersButton");a.addChild(t),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersButton),t.width=.7*a.width,t.height=.35*t.width,t.y=-a.height/2-t.height/2-.3*t.height,t.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(e),this.isshow_NativeInters=!1,this.NUM_IntersNowIntervalTime=0,this.node_nativeInters.removeFromParent(),this.node_nativeInters=null})}else a.height=.8*cc.winSize.height,a.width=1.15*a.height;a.on(cc.Node.EventType.TOUCH_START,()=>{this.reportNativeAdClick(e),this.isshow_NativeInters=!1,this.NUM_IntersNowIntervalTime=0,this.node_nativeInters.removeFromParent(),this.node_nativeInters=null});let n=new cc.Node("titleLabel");a.addChild(n),n.addComponent(cc.Label),cc.winSize.width<cc.winSize.height?n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*35:n.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*35,n.getComponent(cc.Label).lineHeight=n.getComponent(cc.Label).fontSize,n.color=cc.color(204,124,112),this.nativeAdInfo.title.length>=5&&(this.nativeAdInfo.title=this.nativeAdInfo.title.substring(0,5)),n.getComponent(cc.Label).string=this.nativeAdInfo.title,n.y=a.height/2-n.height/2-.1*a.height,this.nativeAdInfo.desc.length>=10&&(this.nativeAdInfo.desc=this.nativeAdInfo.desc.substring(0,10));let o=new cc.Node("descLabel");if(a.addChild(o),o.addComponent(cc.Label),o.getComponent(cc.Label).string=this.nativeAdInfo.desc,cc.winSize.width<cc.winSize.height?o.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().width/1080*30:o.getComponent(cc.Label).fontSize=cc.view.getDesignResolutionSize().height/1080*30,o.getComponent(cc.Label).lineHeight=o.getComponent(cc.Label).fontSize,o.color=cc.color(153,124,112),o.y=a.height/2-o.height/2-.2*a.height,this.loadSucc_NativeImage){console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5927\u56fe\u5c55\u793a");let e=new cc.Node("bigImage");a.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_BigImage),e.width=.96*a.height,e.height=e.width/2,e.y=e.height/2-.3*a.height}else if(this.loadSucc_NativeIcon){console.log("XminigameSDK","\u539f\u751f\u63d2\u5c4f\u5e7f\u544aICON\u5c55\u793a");let e=new cc.Node("icon");a.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeAdInfo.Native_icon),e.height=.55*a.height,e.width=e.height,e.y=e.height/2-.4*a.height}let s=new cc.Node("NativeIntersClose");a.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.nativeIntersRes.NativeIntersClose),s.zIndex=30010,s.x=a.width/2-s.width/2*1.25*a.width/1080-.07*a.width,s.y=a.height/2-s.width/2*1.25*a.width/1080-.07*a.width,s.scale=a.width/1080,s.on(cc.Node.EventType.TOUCH_START,e=>{this.isshow_NativeInters=!1,this.NUM_IntersNowIntervalTime=0,this.node_nativeInters.removeFromParent(),this.node_nativeInters=null,e.stopPropagation()})}nativeAdAutoUpdate(){setInterval(()=>{this.nativeAd&&this.nativeAd.load()},1e3*this.NUM_NativeUpdateTime)}customNativeAdAutoUpdate(){setInterval(()=>{this.customNativeAd&&this.customNativeAd.load()},1e3*this.NUM_NativeUpdateTime)}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LoadRes":"LoadRes","../utils/LocalStorage":"LocalStorage"}],VivoSDK:[function(e,t,i){"use strict";cc._RF.push(t,"a20f6jQq31A6buHt8kUx8nH","VivoSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/VisitorTokenDTO"),n=e("../../server/ServerCenter"),o=e("../../utils/GetConfig"),s=e("../../utils/LocalStorage");i.default=class{constructor(){this.userId=s.default.getData("ServerUserId"),this.channelId=o.default.getChannelId()}initAd(){this.startLogin()}startLogin(){this.loginFail()}loginSucc(e){}loginFail(){let e=new a.default(this.channelId,this.userId);n.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?n.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(s.default.setJsonData("adConfig",t.data),n.default.getInstance().getLocalStorageAdConfig()):n.default.getInstance().getLocalStorageAdConfig()}):n.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage"}],WeixinAd:[function(e,t,i){"use strict";cc._RF.push(t,"9a6a6MDnstEI6hZqgAKSEpj","WeixinAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../server/ServerCenter"),n=e("../utils/CheckConfig"),o=e("../utils/GetConfig"),s=e("../utils/LoadRes"),r=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=null,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.bannerAd=null,this.loadSucc_SystemBanner=!1,this.loadSucc_Banner=!1,this.hasShowBanner=!1,this.interval_updateBanner=null,this.timeout_checkBannerLoadSucc=null,this.NUM_CheckBannerLoadSucc=0,this.NUM_MaxCheckBannerLoadSucc=5,this.NUM_BannerClose=0,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.nativeAd=null,this.param_nativeIcon={x:0,y:0},this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.timeout_updateNativeIcon=null,this.blockAd=null,this.loadSucc_Block=!1,this.param_block={type:"white",blockSize:5,blockX:0,blockY:0},this.timeout_updateBlock=null,this.navigateIconRes=null,this.loadSucc_NavigateIcon=!1,this.navigateGroupRes=null,this.loadSucc_NavigateGroup=!1,this.navigateSettleRes=null,this.loadSucc_NavigateSettle=!1,this.pushGameListIconTexture=[],this.loadSucc_PushGameList=!1,this.isShow_NavigateIcon=!1,this.isShow_NavigateGroup=!1,this.isShow_NavigateSettle=!1,this.isShow_NavigateSettle1=!1,this.node_navigateIcon=null,this.node_navigateGroup=null,this.node_navigateSettle=null,this.interval_updateNavigateIcon=null,this.timeout_hideNavigateGroupIcon=null,this.nodeArr_NavigateGroupGetIcon=[],this.NUM_NowErrBanner=0,this.isShow_ErrBanner=!1,this.node_ErrBanner=null,this.errBannerHasShowBanner=!1,this.NUM_errBannerHasCallback=0,this.NUM_NowGetErrBannerFlag=0,this.NUM_NowErrVideo=0,this.NUM_NowGetErrVideoFlag=0,this.AdGroup=""}createAd(){console.log("XminigameSDK",o.default.getChannelName(),"createAd======================"),this.SW_SystemBanner&&""!=this.ID_SystemBanner&&this.createSystemBanner(),this.SW_SystemInters&&""!=this.ID_SystemInters&&this.createSystemInters(),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_Video&&""!=this.ID_Video&&this.createVideo(),this.SW_Native&&""!=this.ID_Native&&this.createNative()}startLoadPushGamaes(){console.log("XminigameSDK",o.default.getChannelName(),"startLoadPushGamaes======================"),this.SW_NavigateIcon&&this.loadNavigateIconRes(),this.SW_NavigateGroup&&this.loadNavigateGroupRes(),this.SW_NavigateSettle&&this.loadNavigateSettleRes(),(this.SW_NavigateIcon||this.SW_NavigateGroup||this.SW_NavigateSettle)&&this.loadPushGameList()}createSystemBanner(){if(console.log("XminigameSDK","--createSystemBanner--"),n.default.stringHasSpace(this.ID_SystemBanner))return void console.log("XminigameSDK","channelId:",o.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edfbanner\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edfbanner\u5e7f\u544aID*********************");let e=Number(wx.getSystemInfoSync().windowWidth),t=Number(wx.getSystemInfoSync().windowHeight),i=cc.winSize.width<cc.winSize.height;this.bannerAd=wx.createBannerAd({adUnitId:this.ID_SystemBanner,style:{left:10,top:76,height:50,width:i?e:300}}),this.bannerAd.onResize(i=>{this.bannerAd.style.top=t-i.height,this.bannerAd.style.left=(e-i.width)/2}),this.bannerAd.onLoad(()=>{console.log("XminigameSDK","WX banner\u52a0\u8f7d\u6210\u529f"),this.loadSucc_SystemBanner=!0,this.hasShowBanner&&this.showSystemBanner()}),this.bannerAd.onError(e=>{console.log("XminigameSDK","WX banner\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),setTimeout(()=>{this.createSystemBanner()},1e4)})}createSystemInters(){console.log("XminigameSDK","--createSystemInters--"),n.default.stringHasSpace(this.ID_SystemInters)?console.log("XminigameSDK","channelId:",o.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************"):(this.systemIntersAd=wx.createInterstitialAd({adUnitId:this.ID_SystemInters}),this.systemIntersAd.onLoad(()=>{console.log("XminigameSDK","WX \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_SystemInters=!0}),this.systemIntersAd.onError(e=>{console.log("XminigameSDK","WX \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.loadSucc_SystemInters=!1,setTimeout(()=>{this.systemIntersAd&&this.systemIntersAd.load()},3e4)}),this.systemIntersAd.onClose(()=>{this.NUM_IntersNowIntervalTime=0}),this.systemIntersAd.load())}createVideo(){console.log("XminigameSDK","--createVideo--"),n.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK","channelId:",o.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=wx.createRewardedVideoAd({adUnitId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK","WX \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK","WX \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+JSON.stringify(e)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{setTimeout(()=>{e.isEnded?(console.log("XminigameSDK","WX \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210,\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.loadSucc_Video=!1,this.videoAd.load())):(console.log("XminigameSDK","WX \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed,\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.loadSucc_Video=!1,this.videoAd.load()))},500)}),this.videoAd.load())}createNative(){console.log("XminigameSDK","--createNative--"),n.default.stringHasSpace(this.ID_Native)?console.log("XminigameSDK","channelId:",o.default.getChannelId(),"\u5f53\u524d\u6e20\u9053\u539f\u751f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u539f\u751f\u5e7f\u544aID*********************"):(this.nativeAd=wx.createCustomAd({adUnitId:this.ID_Native,adIntervals:30,style:{left:this.param_nativeIcon.x,top:this.param_nativeIcon.y,fixed:!0}}),this.nativeAd.onLoad(()=>{console.log("XminigameSDK","WX \u539f\u751fICON\u52a0\u8f7d\u6210\u529f"),this.loadSucc_NativeIcon=!0}),this.nativeAd.onError(e=>{console.log("XminigameSDK","WX \u539f\u751fICON\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e)),this.loadSucc_NativeIcon=!1}),this.nativeAd.onClose(()=>{console.log("XminigameSDK","WX \u624b\u52a8\u5173\u95ed\u539f\u751fICON 30s\u540e\u518d\u6b21\u5237\u65b0"),this.timeout_updateNativeIcon&&clearTimeout(this.timeout_updateNativeIcon),this.hideNativeIcon(),this.timeout_updateNativeIcon=setTimeout(()=>{this.createNative(),setTimeout(()=>{this.nativeAd.show()},500)},3e4)}))}createBlock(){}loadNavigateIconRes(){console.log("XminigameSDK","--loadNavigateIconRes--"),this.navigateIconRes={NavigateIconBg:null,NavigateIconMask:null,NavigateIconMoreGame:null},s.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateIconBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateIconMask.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateIconMoreGame.png"],(e,t)=>{this.navigateIconRes.NavigateIconBg=t[0],this.navigateIconRes.NavigateIconMask=t[1],this.navigateIconRes.NavigateIconMoreGame=t[2],this.loadSucc_NavigateIcon=!0,console.log("XminigameSDK","\u4e92\u63a8ICON\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadNavigateGroupRes(){console.log("XminigameSDK","--loadNavigateGroupRes--"),this.navigateGroupRes={NavigateGroupIconBtn:null,NavigateGroupIconMask:null,NavigateGroupLeftTuck:null,NavigateGroupListLeft:null,NavigateGroupListRight:null,NavigateGroupRightTuck:null},s.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateGroupIconBtn.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateGroupIconMask.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateGroupLeftTuck.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateGroupListLeft.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateGroupListRight.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateGroupRightTuck.png"],(e,t)=>{this.navigateGroupRes.NavigateGroupIconBtn=t[0],this.navigateGroupRes.NavigateGroupIconMask=t[1],this.navigateGroupRes.NavigateGroupLeftTuck=t[2],this.navigateGroupRes.NavigateGroupListLeft=t[3],this.navigateGroupRes.NavigateGroupListRight=t[4],this.navigateGroupRes.NavigateGroupRightTuck=t[5],this.loadSucc_NavigateGroup=!0,console.log("XminigameSDK","\u4e92\u63a8\u5217\u8868\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadNavigateSettleRes(){console.log("XminigameSDK","--loadNavigateSettleRes--"),this.navigateSettleRes={NavigateSettle1Bg:null,NavigateSettle2Bg:null,NavigateSettleIconYellow:null,NavigateSettleIconMask:null,NavigateSettleNameBg:null},s.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateSettle1Bg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateSettle2Bg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateSettleIconYellow.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateSettleIconMask.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NavigateSettleNameBg.png"],(e,t)=>{this.navigateSettleRes.NavigateSettle1Bg=t[0],this.navigateSettleRes.NavigateSettle2Bg=t[1],this.navigateSettleRes.NavigateSettleIconYellow=t[2],this.navigateSettleRes.NavigateSettleIconMask=t[3],this.navigateSettleRes.NavigateSettleNameBg=t[4],this.loadSucc_NavigateSettle=!0,console.log("XminigameSDK","\u7ed3\u7b97\u4e92\u63a8\u8d44\u6e90\u52a0\u8f7d\u6210\u529f")})}loadPushGameList(){if(console.log("XminigameSDK","--loadPushGameList--"),null==this.pushGameList)return;let e=0;for(let t=0;t<this.pushGameList.length;t++)cc.loader.load(this.pushGameList[t].pushGamePicture,(i,a)=>{i?(console.log("XminigameSDK",`pushGameList icon${t}\u52a0\u8f7d\u5931\u8d25`),cc.loader.load("https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/Navigate/NoIcon.png",(i,a)=>{e++,i?this.pushGameListIconTexture[t]=null:(this.pushGameListIconTexture[t]=a,e>=this.pushGameList.length&&(this.loadSucc_PushGameList=!0))})):(e++,this.pushGameListIconTexture[t]=a,e>=this.pushGameList.length&&(this.loadSucc_PushGameList=!0))})}getChannelId(){return o.default.getChannelId()}showBanner(){if(this.loadSucc_Banner)return this.NUM_BannerMostShow<=this.NUM_BannerClose?(console.log("XminigameSDK","banner\u6700\u5927\u5173\u95ed\u6b21\u6570",this.NUM_BannerMostShow," \u5df2\u8fbe\u4e0a\u9650 return"),void(this.interval_updateBanner&&clearInterval(this.interval_updateBanner))):void(this.isShow_NavigateSettle1?console.log("XminigameSDK","\u6b63\u5728\u5c55\u793a\u7ed3\u7b97\u4e92\u63a81,\u65e0\u6cd5showBanner"):this.hasShowBanner?console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528"):(this.hasShowBanner=!0,this.SW_SystemBanner&&(this.showSystemBanner(),this.updateSystemBanner())));this.checkBannerLoadSucc()}hideBanner(){this.hasShowBanner=!1,this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc)}getIntersFlag(){return this.loadSucc_SystemInters}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK","\u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762","\u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK","\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK","\u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_hasShowInters,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230",this.NUM_intersNowInterval,"\u76ee\u6807\u6b21\u6570",this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230",this.NUM_IntersNowIntervalTime,"\u76ee\u6807\u65f6\u95f4",this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK","\u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK","\u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.loadSucc_SystemInters&&this.showSystemInters()},this.NUM_IntersDelayTime)):this.loadSucc_SystemInters&&this.showSystemInters()}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(this.callback_Video=e,console.log("XminigameSDK","WX showVideo========================"),this.videoAd.show().then(()=>{console.log("XminigameSDK","WX \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(e=>{console.log("XminigameSDK","WX \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff1a",JSON.stringify(e)),this.videoAd.load().then(()=>{console.log("XminigameSDK","WX \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),this.videoAd.show().catch(e=>{console.log("XminigameSDK","WX \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff1a",JSON.stringify(e)),this.loadSucc_Video=!1,this.callback_Video(!1)})})}))}getNativeIconFlag(){return this.loadSucc_NativeIcon}showNativeIcon(e,t,i,a){if(this.isShow_NativeIcon)return void console.log("XminigameSDK","\u539f\u751ficon\u6b63\u5728\u5c55\u793a\u4e2d,\u8bf7\u52ff\u591a\u6b21show return");this.isShow_NativeIcon=!0;let n=Number(wx.getSystemInfoSync().windowWidth),o=Number(wx.getSystemInfoSync().windowHeight),s=i,r=a;a=cc.winSize.height-a,this.param_nativeIcon.x=i*(n/cc.winSize.width),this.param_nativeIcon.y=a*(o/cc.winSize.height),this.nativeAd&&this.nativeAd.destroy(),this.SW_Native&&""!=this.ID_Native&&this.createNative(),setTimeout(()=>{console.log("XminigameSDK","WX showNativeIcon==============================="),this.nativeAd.show()},500),this.timeout_updateNativeIcon=setTimeout(()=>{console.log("XminigameSDK","WX \u5237\u65b0\u539f\u751fICON\u5e7f\u544a================"),this.hideNativeIcon(),this.showNativeIcon(0,0,s,r)},3e4)}hideNativeIcon(){console.log("XminigameSDK","WX hideNativeIcon==========================="),this.isShow_NativeIcon=!1,this.timeout_updateNativeIcon&&clearTimeout(this.timeout_updateNativeIcon),this.nativeAd&&this.nativeAd.destroy()}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return this.loadSucc_NavigateIcon&&this.loadSucc_PushGameList&&!this.isShow_NavigateIcon}showNavigateIcon(e,t,i,a){if(!this.loadSucc_NavigateIcon||!this.loadSucc_PushGameList)return void console.log("XminigameSDK","\u4e92\u63a8icon\u8d44\u6e90\u672a\u52a0\u8f7d\u5b8c\u6210");if(this.isShow_NavigateIcon)return void console.log("XminigameSDK","\u5df2\u5b58\u5728\u4e92\u63a8\u5217\u8868,\u8bf7\u52ff\u591a\u6b21\u8c03\u7528showNavigateIcon");this.isShow_NavigateIcon=!0;for(var n=0,o=0;o<this.pushGameList.length;o++)n+=this.pushGameList[o].sort;var s=Math.floor(Math.random()*n),r=0;let l=null,h=0;for(let m=0;m<this.pushGameList.length;m++){if(s>=r&&s<r+this.pushGameList[m].sort){l=this.pushGameList[m],h=m;break}r+=this.pushGameList[m].sort}console.log("XminigameSDK","showNavigateIcon===========================");let c=cc.director.getScene();this.node_navigateIcon=new cc.Node("node_navigateIcon"),c.addChild(this.node_navigateIcon),this.node_navigateIcon.addComponent(cc.Sprite),this.node_navigateIcon.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateIconRes.NavigateIconBg),this.node_navigateIcon.width=e,this.node_navigateIcon.height=t,this.node_navigateIcon.x=i,this.node_navigateIcon.y=a,this.node_navigateIcon.zIndex=29999,this.node_navigateIcon.runAction(cc.repeatForever(cc.sequence(cc.scaleBy(.2,1.1),cc.rotateTo(.1,30),cc.rotateTo(.1,-25),cc.rotateTo(.1,20),cc.rotateTo(.1,0),cc.scaleBy(.2,1/1.1),cc.delayTime(5)))),this.node_navigateIcon.on(cc.Node.EventType.TOUCH_START,()=>{this.jumpToMiniGame(l)}),""!=this.AdGroup&&(this.node_navigateIcon.group=this.AdGroup);var d=new cc.Node("NavigateIconMask");this.node_navigateIcon.addChild(d),d.addComponent(cc.Mask),d.getComponent(cc.Mask).type=cc.Mask.Type.IMAGE_STENCIL,d.getComponent(cc.Mask).spriteFrame=new cc.SpriteFrame(this.navigateIconRes.NavigateIconMask),d.getComponent(cc.Mask).alphaThreshold=.5,d.width=.92*e,d.height=.92*t;var g=new cc.Node("navigateIconImage");d.addChild(g),g.addComponent(cc.Sprite),g.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.pushGameListIconTexture[h]),g.width=d.width,g.height=d.height;var u=new cc.Node("title");this.node_navigateIcon.addChild(u),u.addComponent(cc.Sprite),u.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateIconRes.NavigateIconMoreGame),u.width=.9*e,u.height=.19*t,u.x=0,u.y=u.height/2-t/2+.05*t,this.interval_updateNavigateIcon=setInterval(()=>{this.hideNavigateIcon(),this.showNavigateIcon(e,t,i,a)},2e4)}hideNavigateIcon(){this.isShow_NavigateIcon=!1,this.interval_updateNavigateIcon&&clearInterval(this.interval_updateNavigateIcon),this.node_navigateIcon&&(console.log("XminigameSDK","hideNavigateIcon==========================="),this.node_navigateIcon.removeFromParent(),this.node_navigateIcon=null)}getNavigateGroupFlag(){return this.loadSucc_NavigateGroup&&this.loadSucc_PushGameList&&!this.isShow_NavigateGroup}showNavigateGroup(e,t,i,a){if(!this.loadSucc_NavigateGroup||!this.loadSucc_PushGameList)return void console.log("XminigameSDK","\u4e92\u63a8icon\u8d44\u6e90\u672a\u52a0\u8f7d\u5b8c\u6210");if(this.pushGameList.length<6)return void console.log("XminigameSDK","\u540e\u53f0\u914d\u7f6e\u4e92\u63a8\u6e38\u620f\u6837\u5f0f\u6570\u91cf\u5c0f\u4e8e6\u4e2a,\u65e0\u6cd5\u5c55\u793a");if(this.isShow_NavigateGroup)return void console.log("XminigameSDK","\u5df2\u5b58\u5728\u4e92\u63a8\u5217\u8868,\u8bf7\u52ff\u591a\u6b21\u8c03\u7528showNavigateGroup");this.isShow_NavigateGroup=!0;let n=cc.director.getScene(),o=()=>{s.width=i,s.height=i,this.timeout_hideNavigateGroupIcon&&clearTimeout(this.timeout_hideNavigateGroupIcon),!h&&s.active&&(this.timeout_hideNavigateGroupIcon=setTimeout(()=>{console.log("XminigameSDK","\u9690\u85cf\u4e00\u534a\u4e92\u63a8\u5217\u8868icon"),cc.tween(s).by(.5,{position:cc.v3(s.x<=0?-s.width/2:s.width/2,0,0)}).start()},1e4))};this.node_navigateGroup=new cc.Node("node_navigateGroup"),n.addChild(this.node_navigateGroup),this.node_navigateGroup.x=cc.winSize.width/2,this.node_navigateGroup.y=cc.winSize.height/2,""!=this.AdGroup&&(this.node_navigateGroup.group=this.AdGroup);let s=new cc.Node("NavigateGroupIconBtn");this.node_navigateGroup.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateGroupRes.NavigateGroupIconBtn),s.width=i,s.height=i,"left"==t?(s.x=s.width/2-cc.winSize.width/2,s.y=a):(s.x=cc.winSize.width/2-s.width/2,s.y=a);let r,l,h=!1,c=e=>{let t=this.pushGameList;var i=[];for(let o=0;o<t.length;o++)i[o]=t[o],i[o].index=o;var a=()=>{for(var e=0,t=0;t<i.length;t++)e+=i[t].sort;var a=Math.floor(Math.random()*e),n=0;for(let s=0;s<i.length;s++){if(a>=n&&a<n+i[s].sort){var o=i[s];return i.splice(s,1),o}n+=i[s].sort}};if(e){console.log("XminigameSDK","\u5728\u5de6\u4fa7\u6253\u5f00\u4e92\u63a8\u6e38\u620f\u5217\u8868"),s.active=!1;let e=new cc.Node("NavigateGroupListLeft");this.node_navigateGroup.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateGroupRes.NavigateGroupListLeft),e.height=cc.winSize.height/2,e.width=e.height/4.8,e.x=-e.width/2-cc.winSize.width/2,e.y=0,cc.tween(e).by(.2,{position:cc.v3(e.width,0,0)}).call(()=>{h=!0,o()}).start();let t=new cc.Node;e.addChild(t),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateGroupRes.NavigateGroupLeftTuck),t.width=.5*e.width,t.height=1.2*t.width,t.x=.65*e.width,t.y=.3*e.height,t.on(cc.Node.EventType.TOUCH_END,()=>{h&&cc.tween(e).by(.5,{position:cc.v3(-e.width,0,0)}).call(()=>{h=!1,s.active=!0,o(),e.destroy()}).start()});let i=new cc.Node;e.addChild(i),i.addComponent(cc.Mask),i.getComponent(cc.Mask).type=0,i.width=.8*e.width,i.height=.85*e.height,i.x=-e.width/13,i.y=-e.height/22;var n=new cc.Node;i.addChild(n),n.x=0,n.y=0;for(let o=0;o<6;o++){let e=a();var r=new cc.Node;n.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.pushGameListIconTexture[e.index]),r.width=.9*i.width,r.height=r.width,r.x=0,r.y=1.15*-(o-2)*r.height,r.on(cc.Node.EventType.TOUCH_START,()=>{this.jumpToMiniGame(e)}),this.nodeArr_NavigateGroupGetIcon[o]=r}cc.tween(n).repeatForever(cc.tween().delay(1).by(3,{position:cc.v3(0,1.15*r.height)}).call(()=>{this.nodeArr_NavigateGroupGetIcon[0].y-=1.15*6*r.height;let e=this.nodeArr_NavigateGroupGetIcon[0];for(let t=0;t<6;t++)t<5&&(this.nodeArr_NavigateGroupGetIcon[t]=this.nodeArr_NavigateGroupGetIcon[t+1]);this.nodeArr_NavigateGroupGetIcon[5]=e})).start()}else{console.log("XminigameSDK","\u5728\u53f3\u4fa7\u6253\u5f00\u4e92\u63a8\u6e38\u620f\u5217\u8868"),s.active=!1;let e=new cc.Node("NavigateGroupListRight");this.node_navigateGroup.addChild(e),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateGroupRes.NavigateGroupListRight),e.height=cc.winSize.height/2,e.width=e.height/4.8,e.x=e.width/2+cc.winSize.width/2,e.y=0,cc.tween(e).by(.2,{position:cc.v3(-e.width,0,0)}).call(()=>{h=!0,o()}).start();let t=new cc.Node;e.addChild(t),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateGroupRes.NavigateGroupRightTuck),t.width=.5*e.width,t.height=1.2*t.width,t.x=.65*-e.width,t.y=.3*e.height,t.on(cc.Node.EventType.TOUCH_END,()=>{h&&cc.tween(e).by(.5,{position:cc.v3(e.width,0,0)}).call(()=>{h=!1,s.active=!0,o(),e.destroy()}).start()});let i=new cc.Node;e.addChild(i),i.addComponent(cc.Mask),i.getComponent(cc.Mask).type=0,i.width=.8*e.width,i.height=.85*e.height,i.x=e.width/13,i.y=-e.height/22,n=new cc.Node,i.addChild(n),n.x=0,n.y=0;for(let o=0;o<6;o++){let e=a();r=new cc.Node,n.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.pushGameListIconTexture[e.index]),r.width=.9*i.width,r.height=r.width,r.x=0,r.y=1.15*-(o-2)*r.height,r.on(cc.Node.EventType.TOUCH_START,()=>{this.jumpToMiniGame(e)}),this.nodeArr_NavigateGroupGetIcon[o]=r}cc.tween(n).repeatForever(cc.tween().delay(1).by(3,{position:cc.v3(0,1.15*r.height)}).call(()=>{this.nodeArr_NavigateGroupGetIcon[0].y-=1.15*6*r.height;let e=this.nodeArr_NavigateGroupGetIcon[0];for(let t=0;t<6;t++)t<5&&(this.nodeArr_NavigateGroupGetIcon[t]=this.nodeArr_NavigateGroupGetIcon[t+1]);this.nodeArr_NavigateGroupGetIcon[5]=e})).start()}};s.on(cc.Node.EventType.TOUCH_START,e=>{let t=e.touch;r=t.getLocation()}),s.on(cc.Node.EventType.TOUCH_END,e=>{let t=e.touch;l=t.getLocation();let i=Math.abs(l.x-r.x),a=Math.abs(l.y-r.y);i<=20&&a<=20&&(console.log("XminigameSDK","\u70b9\u51fbicon \u5c55\u5f00\u4e92\u63a8\u5217\u8868"),l.x<=cc.winSize.width/2?c(!0):c(!1)),s.setPosition(s.parent.convertToNodeSpaceAR(cc.v2(l.x>=cc.winSize.width/2?cc.winSize.width-s.width/2:s.width/2,l.y))),s.active&&o()}),s.on(cc.Node.EventType.TOUCH_MOVE,e=>{let t=e.touch;s.setPosition(s.parent.convertToNodeSpaceAR(t.getLocation()))}),o()}hideNavigateGroup(){this.isShow_NavigateGroup=!1,this.timeout_hideNavigateGroupIcon&&clearTimeout(this.timeout_hideNavigateGroupIcon),this.node_navigateGroup&&(console.log("XminigameSDK","hideNavigateGroup==========================="),this.node_navigateGroup.removeFromParent(),this.node_navigateGroup=null)}getNavigateSettleFlag(){return this.loadSucc_NavigateSettle&&this.loadSucc_PushGameList&&!this.isShow_NavigateSettle}showNavigateSettle(e,t,i){if(!this.loadSucc_NavigateSettle||!this.loadSucc_PushGameList)return void console.log("XminigameSDK","\u7ed3\u7b97\u4e92\u63a8\u8d44\u6e90\u672a\u52a0\u8f7d\u5b8c\u6210");if(this.pushGameList.length<6)return void console.log("XminigameSDK","\u540e\u53f0\u914d\u7f6e\u4e92\u63a8\u6e38\u620f\u6837\u5f0f\u6570\u91cf\u5c0f\u4e8e6\u4e2a,\u65e0\u6cd5\u5c55\u793a");if(1!=e&&2!=e)return void console.log("XminigameSDK","\u7ed3\u7b97\u4e92\u63a8\u53ea\u5b58\u5728\u7c7b\u578b1\u548c\u7c7b\u578b2 return");if(this.isShow_NavigateSettle)return void console.log("XminigameSDK","\u5df2\u5b58\u5728\u7ed3\u7b97\u4e92\u63a8,\u8bf7\u52ff\u591a\u6b21\u8c03\u7528showNavigateSettle");this.isShow_NavigateSettle=!0;let a=cc.director.getScene();var n=[];for(let s=0;s<this.pushGameList.length;s++)n[s]=this.pushGameList[s],n[s].index=s;var o=function(){for(var e=0,t=0;t<n.length;t++)e+=n[t].sort;var i=Math.floor(Math.random()*e),a=0;for(let s=0;s<n.length;s++){if(i>=a&&i<a+n[s].sort){var o=n[s];return n.splice(s,1),o}a+=n[s].sort}};switch(1==e&&cc.winSize.height/cc.winSize.width<=16/9&&(console.log("XminigameSDK","\u8be5\u8bbe\u5907\u5206\u8fa8\u7387\u4f4e\u4e8e16/9 \u6539\u4e3a\u5c55\u793a\u7c7b\u578b2"),e=2,i=0),console.log("XminigameSDK","WX showNavigateSettle==================","type\uff1a",e,"y:",i),e){case 1:this.isShow_NavigateSettle1=!0,this.hideBanner(),this.node_navigateSettle=new cc.Node("node_navigateSettle"),a.addChild(this.node_navigateSettle),""!=this.AdGroup&&(this.node_navigateSettle.group=this.AdGroup),this.node_navigateSettle.addComponent(cc.Sprite),this.node_navigateSettle.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettle1Bg),cc.winSize.width<cc.winSize.height?(this.node_navigateSettle.width=9*cc.winSize.width/10,this.node_navigateSettle.height=2*this.node_navigateSettle.width/3):(this.node_navigateSettle.width=9*cc.winSize.height/10,this.node_navigateSettle.height=2*this.node_navigateSettle.width/3),this.node_navigateSettle.x=cc.winSize.width/2,this.node_navigateSettle.y=this.node_navigateSettle.height/2+i;for(let e=0;e<6;e++){let t=o(),i=new cc.Node("IconNode");this.node_navigateSettle.addChild(i),i.width=this.node_navigateSettle.width/4,i.height=i.width,i.x=(e%3-1)*(4*i.width/3),i.y=e<3?3*i.width/5:7*-i.width/10;let a=new cc.Node("NavigateSettleIconMask");i.addChild(a),a.addComponent(cc.Mask),a.getComponent(cc.Mask).type=cc.Mask.Type.IMAGE_STENCIL,a.getComponent(cc.Mask).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettleIconMask),a.getComponent(cc.Mask).alphaThreshold=.1,a.width=i.width,a.height=i.width;let n=new cc.Node("icon");a.addChild(n),n.addComponent(cc.Sprite),this.pushGameListIconTexture[t.index]&&(n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.pushGameListIconTexture[t.index])),n.width=a.width,n.height=a.height;let s=new cc.Node("button");i.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettleIconYellow),s.width=i.width+8,s.height=i.height+8;let r=new cc.Node("NavigateSettleNameBg");i.addChild(r),r.addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettleNameBg),r.width=i.width,r.height=i.width/5,r.y=-i.height/2-r.height/1.6;let l=new cc.Node("iconName");r.addChild(l),l.addComponent(cc.Label),l.getComponent(cc.Label).fontSize=35,l.getComponent(cc.Label).verticalAlign=1,l.getComponent(cc.Label).string=t.pushGameName.length>5?t.pushGameName.substring(0,5)+"...":t.pushGameName,n.on(cc.Node.EventType.TOUCH_START,()=>{this.jumpToMiniGame(t)})}break;case 2:this.node_navigateSettle=new cc.Node("node_navigateSettle"),a.addChild(this.node_navigateSettle),this.node_navigateSettle.addComponent(cc.Sprite),this.node_navigateSettle.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettle2Bg),cc.winSize.width<cc.winSize.height?(this.node_navigateSettle.width=cc.winSize.width,this.node_navigateSettle.height=.3*this.node_navigateSettle.width):(this.node_navigateSettle.width=cc.winSize.width/2,this.node_navigateSettle.height=.25*this.node_navigateSettle.width),this.node_navigateSettle.x=cc.winSize.width/2,this.node_navigateSettle.y=this.node_navigateSettle.height/2+i,""!=this.AdGroup&&(this.node_navigateSettle.group=this.AdGroup);for(let e=0;e<5;e++){let t=o(),i=new cc.Node("button");this.node_navigateSettle.addChild(i),i.width=this.node_navigateSettle.width/6,i.height=i.width,i.x=-this.node_navigateSettle.width/5*(e-2),i.y=.1*i.height;let a=new cc.Node("NavigateSettleIconYellow");i.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettleIconYellow),a.width=i.width+8,a.height=i.height+8;let n=new cc.Node("NavigateSettleIconMask");a.addChild(n),n.addComponent(cc.Mask),n.getComponent(cc.Mask).type=cc.Mask.Type.IMAGE_STENCIL,n.getComponent(cc.Mask).spriteFrame=new cc.SpriteFrame(this.navigateSettleRes.NavigateSettleIconMask),n.getComponent(cc.Mask).alphaThreshold=.1,n.width=i.width,n.height=i.height;let s=new cc.Node("icon");n.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.pushGameListIconTexture[t.index]),s.width=i.width,s.height=i.height;let r=new cc.Node("titleLabel");i.addChild(r),r.color=cc.Color.BLACK,r.addComponent(cc.Label);let l=t.pushGameName;t.pushGameName.length>4&&(l=l.substring(0,4)+"..."),r.getComponent(cc.Label).string=l,r.getComponent(cc.Label).fontSize=30,r.getComponent(cc.Label).overflow=cc.Label.Overflow.SHRINK,r.getComponent(cc.Label).enableWrapText=!1,r.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.CENTER,r.width=s.width,r.height=.4*s.height,r.x=0,r.y=-s.height/2-r.height/2-10,s.on(cc.Node.EventType.TOUCH_START,()=>{this.jumpToMiniGame(t)})}}}hideNavigateSettle(){this.isShow_NavigateSettle=!1,this.isShow_NavigateSettle1=!1,this.node_navigateSettle&&(console.log("XminigameSDK","hideNavigateSettle==========================="),this.node_navigateSettle.removeFromParent(),this.node_navigateSettle=null)}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){this.AdGroup=e}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){"long"==e?wx.vibrateLong({success(e){},fail(e){console.log("XminigameSDK","WX vibrateLong\u8c03\u7528\u5931\u8d25",JSON.stringify(e))}}):"short"==e&&wx.vibrateShort({type:"heavy",success(e){},fail(e){console.log("XminigameSDK","WX vibrateShort\u8c03\u7528\u5931\u8d25",JSON.stringify(e))}})}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){}shareVideo(e,t,i,a,n){}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK","getUserData====================="),e({userId:r.default.getData("userId"),token:r.default.getData("token"),userType:r.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK","getUserInfo=====================");let t={head:"",name:"",sex:"",city:"",province:"",country:"",power:!1};t.head=r.default.getData("avatarUrl"),t.name=r.default.getData("nickName"),t.sex=r.default.getData("gender"),e(t)}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return this.loadSucc_Block}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){}exitTheGame(){}reportAnalytics(e,t){wx.uma.trackEvent(e,t)}showAuthentication(e){}visitorExperience(e){}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){}getErrBannerFlag(){return this.NUM_NowGetErrBannerFlag++,this.NUM_NowGetErrBannerFlag==this.NUM_BannerErrMust?(console.log("XminigameSDK","b \u7b2c"+this.NUM_BannerErrMust+"\u6b21\u51fa\u73b0"),!0):this.NUM_BannerErrP>0&&(this.NUM_NowErrBanner>=this.NUM_BannerErrMost?(console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 b"),!1):(console.log("XminigameSDK","Pb",this.NUM_BannerErrP),Math.floor(100*Math.random())<this.NUM_BannerErrP&&(this.NUM_NowErrBanner++,!0)))}showErrBanner(e){if(this.isShow_ErrBanner)return void console.log("XminigameSDK","\u5df2\u7ecf\u8c03\u7528\u8fc7showErrBanner,\u8bf7\u52ff\u91cd\u590d\u8c03\u7528");this.isShow_ErrBanner=!0,this.hideBanner(),this.NUM_errBannerHasCallback=0,console.log("XminigameSDK","showErrBanner==================");let t=cc.director.getScene();this.node_ErrBanner=new cc.Node("node_ErrBanner"),t.addChild(this.node_ErrBanner),""!=this.AdGroup&&(this.node_ErrBanner.group=this.AdGroup),s.default.loadResArray(["https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/BlackBg.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerReward.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerButton.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerProgress.png","https://tencentcnd.minigame.xplaymobile.com/Other/SDK/SDKImage4/ErrBanner/ErrBannerBar.png"],(t,i)=>{let a=new cc.Node("errBannerBg");this.node_ErrBanner.addChild(a),a.addComponent(cc.Sprite),a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[0]),a.width=cc.winSize.width,a.height=cc.winSize.height,a.x=cc.winSize.width/2,a.y=cc.winSize.height/2,a.opacity=200;let n=new cc.Node("reward");this.node_ErrBanner.addChild(n),n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[1]),n.width=.62*cc.winSize.width,n.height=1.15*n.width,n.x=cc.winSize.width/2,n.y=.7*cc.winSize.height;let o=new cc.Node("button");this.node_ErrBanner.addChild(o),o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[2]),o.addComponent(cc.Widget),o.getComponent(cc.Widget).isAlignBottom=!0,o.getComponent(cc.Widget).bottom=cc.winSize.height/20,o.width=.75*cc.winSize.width,o.height=.38*o.width,o.x=cc.winSize.width/2;let s=new cc.Node("progressBar");this.node_ErrBanner.addChild(s),s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i[3]),s.addComponent(cc.ProgressBar),s.getComponent(cc.Sprite).type=cc.Sprite.Type.FILLED,s.getComponent(cc.Sprite).fillStart=0,s.getComponent(cc.Sprite).fillRange=1;let r=new cc.Node("bar");s.addChild(r);let l=r.addComponent(cc.Sprite);l.spriteFrame=new cc.SpriteFrame(i[4]),l.fillType=cc.Sprite.FillType.HORIZONTAL,l.type=cc.Sprite.Type.FILLED,l.fillStart=0,l.fillRange=1,s.getComponent(cc.ProgressBar).barSprite=r.getComponent(cc.Sprite),s.getComponent(cc.ProgressBar).mode=cc.ProgressBar.Mode.FILLED,s.getComponent(cc.ProgressBar).totalLength=s.width,s.getComponent(cc.ProgressBar).progress=0,s.width=.75*cc.winSize.width,s.height=.06*s.width,s.x=cc.winSize.width/2,s.y=cc.winSize.height/2,s.addComponent(cc.Widget),s.getComponent(cc.Widget).isAlignBottom=!0,s.getComponent(cc.Widget).bottom=cc.winSize.height/5,r.height=s.height,r.x=-s.width/2,r.anchorX=0,a.on(cc.Node.EventType.TOUCH_START,()=>{});let h=null,c=s.getComponent(cc.ProgressBar).progress;o.on(cc.Node.EventType.TOUCH_START,()=>{if(null==h&&(h=setInterval(()=>{c>=.005&&(c-=.005,s.getComponent(cc.ProgressBar).progress=c)},100)),c+=.05,s.getComponent(cc.ProgressBar).progress=c,c>=.5&&!this.errBannerHasShowBanner&&(wx.onShow(()=>{this.NUM_errBannerHasCallback>=1||(this.NUM_errBannerHasCallback++,this.hideErrBanner(),e(!0))}),this.showBanner(),this.errBannerHasShowBanner=!0,setTimeout(()=>{this.hideBanner()},2e3)),c>=.99){if(null!=h&&clearInterval(h),this.NUM_errBannerHasCallback>=1)return;this.NUM_errBannerHasCallback++,this.hideErrBanner(),e(!0)}})})}hideErrBanner(){wx.offShow(()=>{}),this.isShow_ErrBanner&&(console.log("XminigameSDK","hideErrBanner=================="),this.isShow_ErrBanner=!1,this.errBannerHasShowBanner=!1,this.node_ErrBanner&&(this.node_ErrBanner.removeFromParent(),this.node_ErrBanner=null))}getErrVideoFlag(){return this.NUM_NowGetErrVideoFlag++,this.NUM_NowGetErrVideoFlag==this.NUM_VideoErrMust?(console.log("XminigameSDK","v \u7b2c"+this.NUM_VideoErrMust+"\u6b21\u51fa\u73b0"),!0):this.NUM_NowErrVideo>=this.NUM_VideoErrMost?(console.log("XminigameSDK","\u5df2\u8fbe\u4e0a\u9650 v"),!1):this.loadSucc_Video?this.NUM_VideoErrP>0&&(console.log("XminigameSDK","Pv",this.NUM_VideoErrP),Math.floor(100*Math.random())<this.NUM_VideoErrP&&(this.NUM_NowErrVideo++,!0)):(console.log("XminigameSDK","\u89c6\u9891\u5e7f\u544a\u672a\u52a0\u8f7d\u5b8c\u6210"),!1)}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}checkBannerLoadSucc(){if(this.loadSucc_Banner=this.SW_SystemBanner&&this.loadSucc_SystemBanner,console.log("XminigameSDK","banner\u52a0\u8f7d\u6210\u529f?",this.loadSucc_Banner,++this.NUM_CheckBannerLoadSucc),this.timeout_checkBannerLoadSucc&&clearTimeout(this.timeout_checkBannerLoadSucc),this.loadSucc_Banner)this.showBanner();else{if(this.NUM_CheckBannerLoadSucc>=this.NUM_MaxCheckBannerLoadSucc)return;this.timeout_checkBannerLoadSucc=setTimeout(()=>{this.checkBannerLoadSucc()},5e3)}}showSystemBanner(){this.bannerAd&&this.loadSucc_SystemBanner&&(console.log("XminigameSDK","WX showSystemBanner========================"),this.bannerAd.show())}updateSystemBanner(){this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval(()=>{console.log("XminigameSDK","WX updateSystemBanner========================"),this.bannerAd.destroy(),this.bannerAd=null,this.createSystemBanner()},1e3*this.NUM_BannerUpdateTime)}hideSystemBanner(){this.bannerAd&&(console.log("XminigameSDK","WX hideSystemBanner========================"),this.bannerAd.hide())}showSystemInters(){this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("XminigameSDK","WX showSystemInters=================="),this.systemIntersAd.show())}jumpToMiniGame(e){wx.navigateToMiniProgram({appId:e.pushGamePackage,path:"?foo=bar",success(t){a.default.getInstance().collectAdPush(e.pushGamePackage,(e,t)=>{e&&200==t.status?console.log("XminigameSDK","statistics success"):console.log("XminigameSDK","statistics fail")}),console.log("XminigameSDK","WX \u8df3\u8f6c\u6210\u529f")},fail(e){console.log("XminigameSDK","WX \u8df3\u8f6c\u5931\u8d25\uff1a",JSON.stringify(e))}})}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}},cc._RF.pop()},{"../server/ServerCenter":"ServerCenter","../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LoadRes":"LoadRes","../utils/LocalStorage":"LocalStorage"}],WeixinDTO:[function(e,t,i){"use strict";cc._RF.push(t,"f2cee2aHbNGhYnXiS44qnvM","WeixinDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e){this.code=e,this.nickName=a.default.getData("nickName"),this.avatar=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],WeixinSDK:[function(e,t,i){"use strict";cc._RF.push(t,"eeebexhGQVJaYWuLPidbKCp","WeixinSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/WeixinDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){this.startLogin()}startLogin(){wx.login({success:e=>{if(e.code){console.log("XminigameSDK","WX \u767b\u5f55\u6210\u529f\uff1a"+JSON.stringify(e));let t=new l.default(e.code);this.loginSucc(t)}else console.log("XminigameSDK","WX \u767b\u5f55\u5931\u8d25,"+JSON.stringify(e)),console.log("XminigameSDK","WX \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()},fail(e){console.log("XminigameSDK","WX \u767b\u5f55\u5931\u8d25,",JSON.stringify(e)),console.log("XminigameSDK","WX \u542f\u7528\u6e38\u5ba2\u767b\u5f55"),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?(o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}),o.default.getInstance().downPushGames((e,t)=>{e&&200==t.status?(r.default.setJsonData("pushGamesConfig",t.data),o.default.getInstance().getLocalStoragePushGamesConfig()):o.default.getInstance().getLocalStoragePushGamesConfig()})):(o.default.getInstance().getLocalStorageAdConfig(),o.default.getInstance().getLocalStoragePushGamesConfig())})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?(o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}),o.default.getInstance().downPushGames((e,t)=>{e&&200==t.status?(r.default.setJsonData("pushGamesConfig",t.data),o.default.getInstance().getLocalStoragePushGamesConfig()):o.default.getInstance().getLocalStoragePushGamesConfig()})):(o.default.getInstance().getLocalStorageAdConfig(),o.default.getInstance().getLocalStoragePushGamesConfig())})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/WeixinDTO":"WeixinDTO"}],XiaomiAd:[function(e,t,i){"use strict";cc._RF.push(t,"a1a017vgVVL1rtG7oJW+Alg","XiaomiAd"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../utils/CheckConfig"),n=e("../utils/GetConfig"),o=e("../utils/LocalStorage");i.default=class{constructor(){this.SW_SystemBanner=!1,this.SW_SystemInters=!1,this.SW_Video=!1,this.SW_Native=!1,this.SW_NativeBanner=!1,this.SW_NativeInters=!1,this.SW_Box=!1,this.ID_SystemBanner="",this.ID_SystemInters="",this.ID_Native="",this.ID_NativeCustom="",this.ID_Video="",this.ID_Box="",this.ID_Block="",this.NUM_NativeIntersP=0,this.NUM_NativeIntersReport=1,this.NUM_BannerErrP=0,this.NUM_BannerErrMost=0,this.NUM_BannerErrMust=0,this.NUM_VideoErrP=0,this.NUM_VideoErrMost=0,this.NUM_VideoErrMust=0,this.SW_NativePaster=!1,this.NUM_NativePasterErrP=0,this.NUM_NativePasterErrMost=0,this.NUM_NativePasterErrMust=0,this.NUM_BannerUpdateTime=30,this.SW_SystemBannerFirst=!0,this.NUM_BannerMostShow=99,this.SW_IntersBaseControl=!1,this.NUM_IntersStart=0,this.NUM_IntersIntervalNum=0,this.NUM_IntersIntervalTime=0,this.NUM_IntersDelayTime=0,this.NUM_IntersDelayP=0,this.NUM_IntersVideoDelayTime=0,this.NUM_IntersVideoDelayP=0,this.NUM_NativeUpdateTime=30,this.SW_AddDesktop=!1,this.SW_IntersIntervalToAddDesktop=!1,this.NUM_AutoAddDeskMostTimes=0,this.NUM_IntersToAddDesktopNumber=0,this.SW_Statistics=!0,this.SW_NavigateIcon=!1,this.SW_NavigateGroup=!1,this.SW_NavigateSettle=!1,this.pushGameList=[],this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.NUM_hasShowInters=0,this.NUM_intersNowInterval=0,this.NUM_IntersNowIntervalTime=99,this.NUM_IntersNowToAddDesktop=0,this.videoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.isShow_Video=!1}createAd(){console.log("XminigameSDK "+n.default.getChannelName()+" createAd======================"),this.SW_SystemInters&&""!=this.ID_SystemInters&&this.createSystemInters(),this.NUM_IntersIntervalTime>0&&this.runIntersInterval(),this.SW_Video&&""!=this.ID_Video&&this.createVideo()}startLoadPushGamaes(){}createSystemInters(){console.log("XminigameSDK --createSystemInters--"),a.default.stringHasSpace(this.ID_SystemInters)?console.log("XminigameSDK channelId:"+n.default.getChannelId()+" \u5f53\u524d\u6e20\u9053\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544aID*********************"):(this.systemIntersAd=qg.createInterstitialAd({adUnitId:this.ID_SystemInters}),this.systemIntersAd.onLoad(()=>{console.log("XminigameSDK XM \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_SystemInters=!0}),this.systemIntersAd.onError(e=>{console.log("XminigameSDK XM \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+JSON.stringify(e)),this.loadSucc_SystemInters=!1,setTimeout(()=>{this.systemIntersAd&&this.systemIntersAd.load()},3e4)}),this.systemIntersAd.onClose(()=>{console.log("XminigameSDK XM \u7cfb\u7edf\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed"),this.NUM_IntersNowIntervalTime=0,this.loadSucc_SystemInters=!1,setTimeout(()=>{this.createSystemInters()},1e4)}))}createVideo(){console.log("XminigameSDK --createVideo--"),a.default.stringHasSpace(this.ID_Video)?console.log("XminigameSDK channelId:"+n.default.getChannelId()+" \u5f53\u524d\u6e20\u9053\u89c6\u9891\u5e7f\u544aID\u4e2d\u542b\u6709\u7a7a\u5b57\u7b26\u4e32,\u8bf7\u68c0\u67e5\u540e\u53f0\u89c6\u9891\u5e7f\u544aID*********************"):(this.videoAd=qg.createRewardedVideoAd({adUnitId:this.ID_Video}),this.videoAd.onLoad(()=>{console.log("XminigameSDK XM \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),this.loadSucc_Video=!0}),this.videoAd.onError(e=>{console.log("XminigameSDK XM \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+JSON.stringify(e)),this.loadSucc_Video=!1,setTimeout(()=>{this.videoAd&&this.videoAd.load()},3e4)}),this.videoAd.onClose(e=>{setTimeout(()=>{e.isEnded?(console.log("XminigameSDK XM \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210,\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!0),this.videoAd.load())):(console.log("XminigameSDK XM \u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed,\u4e0d\u53d1\u653e\u5956\u52b1"),this.callback_Video&&(this.callback_Video(!1),this.videoAd.load()))},500)}),this.videoAd.load())}getChannelId(){return n.default.getChannelId()}showBanner(){}hideBanner(){}getIntersFlag(){return this.loadSucc_SystemInters}showInters(e){if(this.NUM_hasShowInters++,this.SW_IntersIntervalToAddDesktop&&this.NUM_hasShowInters<=this.NUM_IntersToAddDesktopNumber&&(console.log("XminigameSDK \u7b2c"+this.NUM_IntersToAddDesktopNumber+"\u6b21\u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762 \u5f53\u524d\u7b2c"+this.NUM_hasShowInters+"\u6b21"),this.NUM_hasShowInters==this.NUM_IntersToAddDesktopNumber))this.getAddDesktopFlag(e=>{e&&(console.log("XminigameSDK \u63d2\u5c4f\u53d8\u6dfb\u52a0\u684c\u9762"),this.addDesktop(()=>{}))});else{if(this.SW_IntersBaseControl){if(this.NUM_hasShowInters<this.NUM_IntersStart)return void console.log("XminigameSDK \u63d2\u5c4f\u5f00\u59cb\u6b21\u6570\u672a\u8fbe\u5230 "+this.NUM_hasShowInters+" \u76ee\u6807\u6b21\u6570 "+this.NUM_IntersStart);if(this.NUM_intersNowInterval<this.NUM_IntersIntervalNum)return console.log("XminigameSDK \u63d2\u5c4f\u95f4\u9694\u6b21\u6570\u672a\u8fbe\u5230 "+this.NUM_intersNowInterval+" \u76ee\u6807\u6b21\u6570 "+this.NUM_IntersIntervalNum),void this.NUM_intersNowInterval++;if(this.NUM_IntersNowIntervalTime<this.NUM_IntersIntervalTime)return console.log("XminigameSDK \u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u672a\u8fbe\u5230 "+this.NUM_IntersNowIntervalTime+" \u76ee\u6807\u65f6\u95f4 "+this.NUM_IntersIntervalTime),void(this.SW_AddDesktop&&this.NUM_IntersNowToAddDesktop<this.NUM_AutoAddDeskMostTimes&&this.getAddDesktopFlag(e=>{e&&(this.NUM_IntersNowToAddDesktop++,this.addDesktop(function(){console.log("XminigameSDK \u63d2\u5c4f\u95f4\u9694\u5f39\u684c\u9762")}))}))}this.NUM_intersNowInterval=0,this.NUM_IntersDelayTime>0&&Math.floor(100*Math.random())<this.NUM_IntersDelayP?(console.log("XminigameSDK \u63d2\u5c4f\u5ef6\u8fdf\u65f6\u95f4(ms):"+this.NUM_IntersDelayTime),setTimeout(()=>{this.loadSucc_SystemInters&&this.showSystemInters()},this.NUM_IntersDelayTime)):this.loadSucc_SystemInters&&this.showSystemInters()}}getVideoFlag(){return this.loadSucc_Video}showVideo(e,t){this.videoAd&&this.loadSucc_Video&&(console.log("XminigameSDK XM showVideo========================"),this.callback_Video=e,this.videoAd.show())}getNativeIconFlag(){return!1}showNativeIcon(e,t,i,a){}hideNativeIcon(){}getNativeImageFlag(){return!1}showNativeImage(e,t,i,a){}hideNativeImage(){}getNativePasterFlag(){return!1}showNativePaster(){}getNativeAdInfo(e){return null}reportNativeAdShow(e){}reportNativeAdClick(e){}getNavigateIconFlag(){return!1}showNavigateIcon(e,t,i,a){}hideNavigateIcon(){}getNavigateGroupFlag(){return!1}showNavigateGroup(e,t,i,a){}hideNavigateGroup(){}getNavigateSettleFlag(){return!1}showNavigateSettle(e,t,i){}hideNavigateSettle(){}getNavigateBoxBannerFlag(){return!1}showNavigateBoxBanner(){}hideNavigateBoxBanner(){}getNavigateBoxPortalFlag(){return!1}showNavigateBoxPortal(){}setGroup(e){}hasAddDesktopFunc(){return!1}getAddDesktopFlag(e){e(!1)}addDesktop(e){e(!1)}phoneVibrate(e){"short"==e?qg.vibrateShort():"long"==e&&qg.vibrateLong()}startGameVideo(e){}pauseGameVideo(){}resumeGameVideo(){}stopGameVideo(e){e(!1)}shareVideo(e,t,i,a,n){n(!1)}jumpToMoreGamesCenter(){}showMoreGamesBanner(){}hideMoreGamesBanner(){}showFavoriteGuide(e,t,i){}getUserData(e){console.log("XminigameSDK getUserData====================="),e({userId:o.default.getData("userId"),token:o.default.getData("token"),userType:o.default.getData("userType")})}getUserInfo(e){console.log("XminigameSDK getUserInfo====================="),e({head:"",name:"",sex:"",city:"",province:"",country:"",power:!1})}getBoxFlag(){return!1}showAppBox(){}getBlockFlag(){return!1}showBlock(e,t,i,a){}hideBlock(){}getVideoIntersFlag(){return!1}showVideoInters(e){e(!1)}exitTheGame(){}reportAnalytics(e,t){}showAuthentication(e){e(!1)}visitorExperience(e){e(!1)}showNativeAd(e,t,i,a){}getOPPOShowMoreGameFlag(){return!1}showOPPOMoreGame(){}hasNetwork(e){e(!1)}showReviewAlert(){}showiOSADWithScene(e,t){}showiOSADWithType(e,t){}videoUIShow(e){}showPrivacyAgreement(e,t,i){i(!1)}getErrBannerFlag(){return!1}showErrBanner(e){e(!1)}hideErrBanner(){}getErrVideoFlag(){return!1}buyProps(e,t,i,a){a(!1,"")}payComplete(e){}showSystemInters(){this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("XminigameSDK XM showSystemInters=================="),this.systemIntersAd.show())}runIntersInterval(){this.NUM_IntersIntervalTime>0&&setInterval(()=>{this.NUM_IntersNowIntervalTime++},1e3)}},cc._RF.pop()},{"../utils/CheckConfig":"CheckConfig","../utils/GetConfig":"GetConfig","../utils/LocalStorage":"LocalStorage"}],XiaomiDTO:[function(e,t,i){"use strict";cc._RF.push(t,"38552BIONFNO5AkEHnoUMrO","XiaomiDTO"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../utils/LocalStorage");i.default=class{constructor(e,t){this.session=e,this.uid=t,this.nickName=a.default.getData("nickName"),this.avatarUrl=a.default.getData("avatarUrl")}},cc._RF.pop()},{"../../../utils/LocalStorage":"LocalStorage"}],XiaomiSDK:[function(e,t,i){"use strict";cc._RF.push(t,"2bd91ssNWJALpvTG9dQqeI6","XiaomiSDK"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../server/dto/MoblieTokenDTO"),n=e("../../server/dto/VisitorTokenDTO"),o=e("../../server/ServerCenter"),s=e("../../utils/GetConfig"),r=e("../../utils/LocalStorage"),l=e("./dto/XiaomiDTO");i.default=class{constructor(){this.userId=r.default.getData("ServerUserId"),this.channelId=s.default.getChannelId()}initAd(){this.startLogin()}startLogin(){qg.login({success:e=>{console.log("XminigameSDK XM \u767b\u5f55\u6210\u529f "+JSON.stringify(e));let t=new l.default(e.data.session,e.data.appAccountId);this.loginSucc(t)},fail:e=>{console.log("XminigameSDK XM \u767b\u5f55\u5931\u8d25 "+JSON.stringify(e)),this.loginFail()}})}loginSucc(e){let t=new a.default(this.channelId,this.userId,e);o.default.getInstance().getMoblieToken(t,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}loginFail(){let e=new n.default(this.channelId,this.userId);o.default.getInstance().getVisitorToken(e,(e,t)=>{e&&200==t.status?o.default.getInstance().downAdConfigure((e,t)=>{e&&200==t.status?(r.default.setJsonData("adConfig",t.data),o.default.getInstance().getLocalStorageAdConfig()):o.default.getInstance().getLocalStorageAdConfig()}):o.default.getInstance().getLocalStorageAdConfig()})}mustLogin(e){e(!1)}},cc._RF.pop()},{"../../server/ServerCenter":"ServerCenter","../../server/dto/MoblieTokenDTO":"MoblieTokenDTO","../../server/dto/VisitorTokenDTO":"VisitorTokenDTO","../../utils/GetConfig":"GetConfig","../../utils/LocalStorage":"LocalStorage","./dto/XiaomiDTO":"XiaomiDTO"}],ZoomComponent:[function(e,t,i){"use strict";cc._RF.push(t,"d00a7Drz69FJY+DMaIIozgT","ZoomComponent");var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../tools"),{ccclass:o,property:s,menu:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.zoomCamera=null,this.zoomNode=null,this.enableScale=!1,this.cancelInnerEvents=!1,this.isStart=!1,this.distance=0,this.startPosition=cc.Vec2.ZERO,this.offsetPosition=cc.Vec2.ZERO,this.scale=1,this.newScale=1,this.width=720,this.height=1280}onLoad(){this.addListener(),this.width=cc.winSize.width,this.height=cc.winSize.height;let e=this.width/this.zoomNode.width,t=this.height/this.zoomNode.height;e>1?this.zoomNode.scale=e:t>1&&(this.zoomNode.scale=t)}onDestroy(){this.removeListener()}update(e){this.enableScale||Math.abs(this.newScale-this.scale)>.001&&(this.scale=this.scale+.3*(this.newScale-this.scale),this.zoomCamera.zoomRatio=this.scale,this.node.width=this.width*(2/this.scale),this.node.height=this.height*(2/this.scale))}updatePosition(){const e=(this.zoomNode.width*this.zoomNode.scale-this.width/this.zoomCamera.zoomRatio)/2,t=(this.zoomNode.height*this.zoomNode.scale-this.height/this.zoomCamera.zoomRatio)/2;this.zoomNode.x<-e&&(this.zoomNode.x=-e),this.zoomNode.x>e&&(this.zoomNode.x=e),this.zoomNode.y<-t&&(this.zoomNode.y=-t),this.zoomNode.y>t&&(this.zoomNode.y=t)}setCamera(e){this.zoomCamera=e}addListener(){this.node.on(cc.Node.EventType.TOUCH_START,this.onStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onEnd,this)}removeListener(){this.node.off(cc.Node.EventType.TOUCH_START,this.onStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onEnd,this)}onStart(e){if(this.distance=0,1==e.getTouches().length){const t=this.node.convertToNodeSpaceAR(e.getLocation());this.isStart=!0,this.startPosition=t,this.offsetPosition=cc.v2(t.x-this.zoomNode.x,t.y-this.zoomNode.y)}}onMove(e){if(!this.isStart)return;const t=e.getTouches(),i=this.node.convertToNodeSpaceAR(e.getLocation()),a=cc.v2((this.startPosition.x-i.x)/this.zoomCamera.zoomRatio,(this.startPosition.y-i.y)/this.zoomCamera.zoomRatio);if(1==t.length){let e=this.startPosition.x-a.x-this.offsetPosition.x,t=this.startPosition.y-a.y-this.offsetPosition.y;const i=(this.zoomNode.width*this.zoomNode.scale-this.width/this.zoomCamera.zoomRatio)/2,n=(this.zoomNode.height*this.zoomNode.scale-this.height/this.zoomCamera.zoomRatio)/2;e<-i&&(e=-i),e>i&&(e=i),t<-n&&(t=-n),t>n&&(t=n),this.zoomNode.x=e,this.zoomNode.y=t}if(t.length>=2&&!this.enableScale){let e=t[0],i=t[1];const a=n.default.getDistance(e.getLocation(),i.getLocation());0===this.distance&&(this.distance=a);let o=this.zoomCamera.zoomRatio*(a/this.distance);o>2&&(o=2),o<1&&(o=1),this.newScale=o}if(this.cancelInnerEvents&&!(Math.abs(a.x*a.x+a.y*a.y)<50)&&e.target!==this.node){let i=new cc.Event.EventTouch(t,e.bubbles);i.type=cc.Node.EventType.TOUCH_CANCEL,i.touch=e.touch,e.target.dispatchEvent(i)}}onEnd(e){this.isStart=!1}focusTarget(e,t,i,a,o,s){let r=-e.x,l=-e.y;const h=(this.zoomNode.width*this.zoomNode.scale-this.width/t)/2,c=(this.zoomNode.height*this.zoomNode.scale-this.height/t)/2;r<-h&&(r=-h),r>h&&(r=h),l<-c&&(l=-c),l>c&&(l=c);let d=-e.x,g=-e.y;const u=(this.zoomNode.width*this.zoomNode.scale-this.width)/2,m=(this.zoomNode.height*this.zoomNode.scale-this.height)/2;d<-u&&(d=-u),d>u&&(d=u),g<-m&&(g=-m),g>m&&(g=m),i&&0!=i||(i=n.default.getDistance(cc.v2(r,l),this.zoomNode.position)/500);const p=cc.tween(this.zoomCamera);p.to(.5,{zoomRatio:t},{easing:cc.easing.sineOut}),o&&p.delay(.3).to(.5,{zoomRatio:1},{easing:cc.easing.sineOut}),p.start();const v=cc.tween(this.zoomNode);v.to(i,{x:r,y:l},{easing:cc.easing.sineOut}).call(()=>{a&&a()}),o&&v.delay(.3).to(.5,{x:d,y:g},{easing:cc.easing.sineOut}).call(()=>{s&&s()}),v.start()}setPosition(e,t){let i=-e.x,a=-e.y;const n=(this.zoomNode.width*this.zoomNode.scale-this.width/t)/2,o=(this.zoomNode.height*this.zoomNode.scale-this.height/t)/2;i<-n&&(i=-n),i>n&&(i=n),a<-o&&(a=-o),a>o&&(a=o),this.zoomNode.x=i,this.zoomNode.y=a}};a([s({type:cc.Camera,tooltip:"\u7f29\u653e\u7528\u7684\u6444\u50cf\u673a"})],l.prototype,"zoomCamera",void 0),a([s({type:cc.Node,tooltip:"\u53cc\u6307\u7f29\u653e\u7684\u76ee\u6807\u8282\u70b9"})],l.prototype,"zoomNode",void 0),a([s({tooltip:"\u662f\u5426\u5f00\u542f\u53cc\u6307\u7f29\u653e"})],l.prototype,"enableScale",void 0),a([s({tooltip:"\u62d6\u52a8\u65f6\u662f\u5426\u53d6\u6d88\u5b50\u8282\u70b9\u7684\u70b9\u51fb\u4e8b\u4ef6"})],l.prototype,"cancelInnerEvents",void 0),l=a([o,r("LibTool/Component/ZoomComponent")],l),i.default=l,cc._RF.pop()},{"../tools":"tools"}],tools:[function(e,t,i){"use strict";cc._RF.push(t,"c308djr0EhMxrgsf5EAjjDF","tools"),Object.defineProperty(i,"__esModule",{value:!0});const a=e("./Manager/Logger");class n{static setItem(e,t){cc.sys.localStorage.setItem(e,t)}static getItem(e,t){const i=cc.sys.localStorage.getItem(e);let a=t;return null!=i&&""!==i&&"null"!=i&&"undefined"!=i?a=i:"string"!=typeof t?this.setItem(e,JSON.stringify(t)):this.setItem(e,t),a}static getPropertyFromJSON(e,t,i){return null==e[t]?i:e[t]}static httpGet(e,t,i){const n=new XMLHttpRequest,o=e+"?"+t;n.open("GET",o,!0),n.onreadystatechange=()=>{if(4===n.readyState){const e=n.response;n.status>=200&&n.status<300?i&&i.CallOnce(e):a.logger.warning("HTTP Get Request Error : "+o+":"+JSON.stringify(n.response))}},n.ontimeout=()=>{a.logger.warning("HTTP Get Request Timeout : "+o+":"+JSON.stringify(n.response))},n.timeout=1e3,n.send()}static httpPost(e,t,i){const n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=()=>{if(4===n.readyState){const t=n.response;n.status>=200&&n.status<300?i&&i.CallOnce(t):a.logger.warning("HTTP Post Request Error : "+e+":"+JSON.stringify(n.response))}},n.ontimeout=()=>{a.logger.warning("HTTP Post Request Timeout : "+e+":"+JSON.stringify(n.response))},n.timeout=1e3,n.send(t)}static convertToNodeSpace(e,t,i){const a=t.parent.convertToWorldSpaceAR(e);return i.convertToNodeSpaceAR(a)}static replaceAll(e,t,i){return e.replace(new RegExp(t,"g"),i)}static getDistance(e,t){return e instanceof cc.Vec3&&t instanceof cc.Vec3?Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z)):Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}static getDifference(e,t){return Math.abs(e-t)}static getNodeDistance(e,t){const i=this.convertToNodeSpace(e.getPosition(),e,t);return this.getDistance(i,t.position)}static getFactor(e){return 0===e?1:e*this.getFactor(e-1)}static getMi(e){const t=[];t[0]=t[1]=1;for(let i=3;i<=e.length;i++){const e=[];for(let a=0;a<i-1;a++)e[a]=t[a];t[0]=t[i-1]=1;for(let a=0;a<i-2;a++)t[a+1]=e[a]+e[a+1]}return t}static getBezierPosition(e,t){let i=0,a=0;const n=this.getMi(t),o=t.length;for(let s=0;s<o;s++)i+=Math.pow(1-e,o-s-1)*t[s].x*Math.pow(e,s)*n[s],a+=Math.pow(1-e,o-s-1)*t[s].y*Math.pow(e,s)*n[s];return cc.v2(i,a)}static toTime(e,t){e<=0&&(e=0);const i=Math.floor(e/60/60/24),a=2===t?Math.floor(e/60/60):Math.floor(e/60/60%24),n=3===t?Math.floor(e/60):Math.floor(e/60%60),o=Math.floor(e%60);return 1===t?(i+"").padStart(2,"0")+":"+(a+"").padStart(2,"0")+":"+(n+"").padStart(2,"0")+":"+(o+"").padStart(2,"0"):2===t?(a+"").padStart(2,"0")+":"+(n+"").padStart(2,"0")+":"+(o+"").padStart(2,"0"):3===t?(n+"").padStart(2,"0")+":"+(o+"").padStart(2,"0"):e+""}static renderCameraToSprite(e,t){const i=new cc.RenderTexture;i.initWithSize(cc.visibleRect.width,cc.visibleRect.height);const a=t.spriteFrame,n=new cc.SpriteFrame;n.setRect(a.getRect()),n.setRotated(!0),n.setOffset(n.getOffset()),n.setOriginalSize(n.getOriginalSize()),e.targetTexture=i,n.setTexture(i),t.spriteFrame=n,t.node.scaleY=-1}static toUnitVector(e,t=1){if(0==t)return cc.Vec3.ZERO;const i=cc.v3(0,0,0),a=e,n=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);return i.x=a.x/n*t,i.y=a.y/n*t,i.z=a.z/n*t,i}static getVectorAngle(e){return 180*Math.atan2(e.y,e.x)/Math.PI}static getAngleInWorld(e){const t=e.parent;return null==t?e.angle:e.angle+this.getAngleInWorld(t)}static findNodeByPath(e,t){null==t&&(t=cc.find("Canvas"));let i=this.cacheList.get(this.getNodePath(t)),a=null;return null==i?(a=cc.find(e,t),(i=new Map).set(e,a),this.cacheList.set(this.getNodePath(t),i)):null==(a=i.get(e))&&(a=cc.find(e,t)),a}static getNodePath(e){return null!=e.parent?this.getNodePath(e.parent)+"/"+e.name:e.name}static getRandDataByArray(e){return e[Math.floor(e.length*Math.random())]}static randomArray(e){for(var t=0;t<e.length;t++){var i=Math.floor(e.length*Math.random()),a=e[t];e[t]=e[i],e[i]=a}return e}static randomWithWeights(e,t){if(null==t||0===t.length)return this.getRandDataByArray(e);let i=0;const a=[],n=[];for(const r in e)a[r]=Number(i),null!=t[r]&&"number"==typeof t[r]||(t[r]=0),i+=t[r],n[r]=Number(i);const o=Math.random()*i;let s=null;for(const r in e){const t=a[r],i=n[r];t<o&&i>o&&(s=e[r])}return s}static getCountRandom(e,t){let i=[];for(;i.length<t&&i.length<e.length;){let t=this.randomWithWeights(e);i.indexOf(t)<0&&i.push(t)}return i}static saveContentToJSON(e,t){const i=document.createElement("a");i.download=t+".json";const a=new Blob([e]);i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),document.body.removeChild(i)}static loadLocalJSONFile(e){const t=document.getElementById("files"),i=new FileReader;t.value="",t.addEventListener("change",()=>{const a=t.files[0];i.readAsText(a),i.onload=()=>{e&&e(i.result)}},!1),t.click()}static checkIsEmail(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)}static showToast(e,t=.5,i="default"){let a=new cc.Texture2D,n=new cc.SpriteFrame;a.initWithData(new Uint8Array([0,0,0]),cc.Texture2D.PixelFormat.RGB888,1,1),n.setTexture(a),n.setRect(cc.rect(0,0,20*cc.winSize.width,20*cc.winSize.width));let o=cc.find("Canvas"),s=new cc.Node("node_tips");s.group=i,s.setParent(o),s.setPosition(cc.v3(0,0,0));let r=new cc.Node("bg");r.setParent(s),r.group=i,r.setPosition(cc.v3(0,0,0)),r.addComponent(cc.Sprite).spriteFrame=n,r.opacity=150,r.width=cc.winSize.width,r.height=100;let l=new cc.Node("tx_msg");l.group=i,l.setParent(s),l.setPosition(cc.v3(0,0,0));let h=l.addComponent(cc.Label);h.fontSize=40,h.overflow=cc.Label.Overflow.RESIZE_HEIGHT,h.horizontalAlign=cc.Label.HorizontalAlign.CENTER,h.verticalAlign=cc.Label.VerticalAlign.CENTER,h.cacheMode=cc.Label.CacheMode.CHAR,l.width=cc.winSize.width,h.string=e,cc.tween(s).delay(t).to(1,{position:cc.v3(0,100,0),opacity:0},{easing:cc.easing.sineIn}).call(()=>{s.destroy()}).start()}static rgbToColor(e){const t=e.substr(e.indexOf("#")+1,2),i=e.substr(e.indexOf("#")+3,2),a=e.substr(e.indexOf("#")+5,2);return cc.color(parseInt(t,16),parseInt(i,16),parseInt(a,16))}static colorToRGB(e){return"#"+e.r.toString(16)+e.g.toString(16)+e.b.toString(16)}static copyToClipboard(e,t){this.isOppo?window.qg.setClipboardData({data:e,success:()=>{t&&t(!0)},fail:()=>{t&&t(!1)}}):this.isVivo?window.qg.setClipboardData({text:e,success:()=>{t&&t(!0)},fail:()=>{t&&t(!1)}}):this.isTT?window.tt.setClipboardData({data:e,success:()=>{t&&t(!0)},fail:()=>{t&&t(!1)}}):this.isWX?window.wx.setClipboardData({data:e,success:()=>{t&&t(!0)},fail:()=>{t&&t(!1)}}):this.isQQ?window.qq.setClipboardData({data:e,success:()=>{t&&t(!0)},fail:()=>{t&&t(!1)}}):this.isHW&&window.qa.setClipboardData({data:e,success:()=>{t&&t(!0)},fail:()=>{t&&t(!1)}})}static get isOppo(){return window.qg&&window.qg.setLoadingProgress&&!window.hbs}static get isVivo(){return window.qg&&!window.qg.setLoadingProgress&&!window.hbs}static get isQQ(){return window.qq}static get isWX(){return window.wx&&!window.qq&&!window.tt}static get isTT(){return window.tt}static get isHW(){return window.hbs}static get isNative(){return cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS}}i.default=n,n.cacheList=new Map,cc._RF.pop()},{"./Manager/Logger":"Logger"}]},{},["RoleBase","Card","Choose","Enemy","Grid","GridData","Level","MapGrid","Player","Role","Select","SkillIcon","Backstab","Cleave","Cripple","Dodge","DoubleUse","EvenHit","FatalBlow","FireBall","FireWall","GrowingSpeedUp","HolyShield","IceCone","IceWall","InstantDeath","Resurrection","SoulExtraction","Unexpected","Task","Config","Button","SkillBase","ViewBase","EffectComponent","JoystickComponent","LanguageComponent","ScrollComponent","SlotComponent","UIBottomBar","ZoomComponent","Delegate","CoinEffect","CoinFallEffect","AEManager","ArchiveManager","DataManager","EventManager","LanguageManager","LoadAssetsManager","Logger","MessageManager","SDKManager","SkillManager","SoundsManager","ViewManager","ASCAd","SdkConfig","TestCocos","AdCenter","AdFactory","AdInterface","AndroidAd","BilibiliAd","BlankAd","HuaweiAd","IosAd","KwaiAd","M4399boxAd","OppoAd","Template","TencentqqAd","TestAd","TiktokAd","VivoAd","WeixinAd","XiaomiAd","ServerUrlConfig","AndroidSDK","BilibiliSDK","BilibiliDTO","BlankSDK","HuaweiSDK","HuaweiDTO","IosSDK","KwaiSDK","KwaiDTO","M4399boxSDK","M4399boxDTO","OppoSDK","OppoDTO","TencentqqSDK","TencentqqDTO","TestSDK","TiktokSDK","TiktokDTO","VivoSDK","WeixinSDK","WeixinDTO","XiaomiSDK","XiaomiDTO","ServerCenter","ServerFactory","ServerInterface","MoblieTokenDTO","VisitorTokenDTO","CheckConfig","GetConfig","GetEngine","HttpRequest","LoadRes","LocalStorage","Md5","TweenBase","TweenAlpha","TweenBezier","TweenCustom","TweenFrame","TweenNumber","TweenPosition","TweenRotation","TweenScale","TweenSubtitles","CopyrightNoticeView","SetUpView","SignInView","SlotView","tools","AssetsManager","MapManager","Navigate","CTSignInView","CardSelectionView","ChooseView","CoinView","DemonView","EnergyView","FreeCoinView","GameOverView","GameView","GuideView","HomeView","LevelView","LoadingView","MangaView","MapView","MoveView","RateView","RoleView","SettingView","ShopView","SkillInfoView","TaskView","TipsView","TransitionsView"]);